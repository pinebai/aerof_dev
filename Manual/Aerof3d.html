<html lang="en"><head>
<title>AERO-F 1.1</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="description" content="AERO-F 1.1">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div align="center"><h1 class="titlefont">AERO-F Manual</h1>
</div>
<div align="center"><h1 class="titlefont">Version 1.1</h1>
</div>
<div align="center">Edition 0.1/15 July 2016</div>
<pre class="sp">



















</pre>
<div align="center">Farhat Research Group (FRG)</div>
<div align="center">Stanford University</div>
<pre class="sp">



</pre>
<div align="center">This manual was prepared with Texinfo (<a href="http://www.gnu.org/software/texinfo">http://www.gnu.org/software/texinfo</a>).</div>

<p style="page-break-before: always">

 </p><div class="shortcontents">
<h2>Short Contents</h2>
<ul>
<li><a href="#toc_Top">AERO-F</a></li>
<li><a href="#toc_Introduction">1 INTRODUCTION</a></li>
<li><a href="#toc_Installation">2 INSTALLATION</a></li>
<li><a href="#toc_Overview">3 OVERVIEW</a></li>
<li><a href="#toc_Objects">4 OBJECTS</a></li>
<li><a href="#toc_Examples">5 EXAMPLES</a></li>
<li><a href="#toc_Running-Aero_002dF">6 RUNNING AEROF</a></li>
<li><a href="#toc_Running-AERO_002dFL">7 RUNNING AEROFL</a></li>
<li><a href="#toc_Restarting-AERO_002dF">8 RESTARTING AEROF</a></li>
<li><a href="#toc_Restarting-Aero_002dFL">9 RESTARTING AEROFL</a></li>
<li><a href="#toc_Hints_005fand_005ftips">Appendix A HINTS AND TIPS</a></li>
<li><a href="#toc_ROM">Appendix B ROM OUTPUT FORMAT</a></li>
<li><a href="#toc_DESMESH">Appendix C DETACHED EDDY SIMULATIONS (DES): MESH REQUIREMENTS</a></li>
<li><a href="#toc_TAB">Appendix D SPARSE GRID TABULATION OF RIEMANN INVARIANTS AND SOLUTIONS</a></li>
<li><a href="#toc_Sensitivities">Appendix E COMPUTATION OF SENSITIVITIES</a></li>
</ul>
</div>


<div class="contents">
<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top" href="#Top">AERO-F</a>
</li><li><a name="toc_Introduction" href="#Introduction">1 INTRODUCTION</a>
</li><li><a name="toc_Installation" href="#Installation">2 INSTALLATION</a>
</li><li><a name="toc_Overview" href="#Overview">3 OVERVIEW</a>
<ul>
<li><a href="#Object-oriented-input">3.1 OBJECT ORIENTED INPUT</a>
</li><li><a href="#Syntactic-rules">3.2 SYNTACTIC RULES</a>
</li><li><a href="#Comments">3.3 COMMENTS</a>
</li><li><a href="#Which-problems-can-AERO_002dF-actually-solve_003f">3.4 WHICH PROBLEMS CAN AEROF-NAME ACTUALLY SOLVE?</a>
</li></ul>
</li><li><a name="toc_Objects" href="#Objects">4 OBJECTS</a>
<ul>
<li><a href="#Problem">4.1 DEFINING THE PROBLEM TYPE</a>
</li><li><a href="#Input">4.2 DEFINING THE INPUT FILES</a>
<ul>
<li><a href="#1DRestartData">4.2.1 INITIALIZING A 3D SIMULATION LOCALLY WITH 1D SPHERICALLY SYMMETRIC DATA</a>
<ul>
<li><a href="#FluidIDMap">4.2.1.1 MAPPING A SET OF FLUID IDENTIFICATION TAGS TO ANOTHER ONE</a>
</li></ul>
</li></ul>
</li><li><a href="#1DGrid">4.3 GENERATING A ONE-DIMENSIONAL SPHERICALLY SYMMETRIC GRID</a>
</li><li><a href="#Output">4.4 DEFINING THE OUTPUT FILE</a>
<ul>
<li><a href="#Postpro">4.4.1 EXPLOITING THE COMPUTATIONAL RESULTS</a>
</li><li><a href="#Probes">4.4.2 PROBING NODAL RESULTS</a>
<ul>
<li><a href="#ProbingNode">4.4.2.1 PROBING NODE</a>
</li></ul>
</li><li><a href="#Restart">4.4.3 SAVING THE COMPUTATIONAL RESULTS FOR LATER</a>
</li></ul>
</li><li><a href="#Surfaces">4.5 SPECIFYING THE ATTRIBUTES OF THE MESH SURFACES DEFINED IN THE COMPUTER-AIDED DESIGN MODEL</a>
<ul>
<li><a href="#SurfaceData">4.5.1 SPECIFYING THE ATTRIBUTES OF MESH OR EMBEDDED SURFACES</a>
</li></ul>
</li><li><a href="#Velocity">4.6 SPECIFYING ROTATIONAL AND TRANSLATIONAL VELOCITY FIELDS</a>
<ul>
<li><a href="#RotationAxis">4.6.1 SPECIFYING ROTATIONAL AND TRANSLATION VELOCITY FIELDS (CONTINUE)</a>
</li></ul>
</li><li><a href="#Volumes">4.7 SPECIFYING THE ATTRIBUTES OF THE MESH VOLUMES DEFINED IN THE COMPUTER-AIDED DESIGN MODEL</a>
<ul>
<li><a href="#VolumeData">4.7.1 SPECIFYING THE ATTRIBUTES OF THE MESH VOLUMES</a>
<ul>
<li><a href="#PorousMedium">4.7.1.1 SPECIFYING THE PROPERTIES OF A POROUS MEDIUM</a>
</li><li><a href="#InitialState">4.7.1.2 SPECIFYING AN INITIAL STATE FOR A MULTI-FLUID COMPUTATION</a>
</li></ul>
</li></ul>
</li><li><a href="#ReferenceState">4.8 DEFINING THE REFERENCE STATE</a>
</li><li><a href="#Equations">4.9 DEFINING THE EQUATIONS TO BE SOLVED</a>
<ul>
<li><a href="#FluidModel">4.9.1 SPECIFYING A FLUID MODEL</a>
<ul>
<li><a href="#GasModel">4.9.1.1 SPECIFYING THE EQUATION OF STATE OF A PERFECT OR STIFFENED GAS</a>
</li><li><a href="#LiquidModel">4.9.1.2 SPECIFYING THE TAIT EQUATION OF STATE</a>
</li><li><a href="#JWLModel">4.9.1.3 SPECIFYING THE JWL EQUATION OF STATE</a>
</li></ul>
</li><li><a href="#ViscosityModel">4.9.2 SPECIFYING THE VISCOSITY MODEL</a>
</li><li><a href="#ThermalConductivityModel">4.9.3 THERMAL CONDUCTIVITY MODEL</a>
</li><li><a href="#TurbulenceClosure">4.9.4 SPECIFYING THE TURBULENCE CLOSURE</a>
<ul>
<li><a href="#TurbulenceModel">4.9.4.1 SPECIFYING THE EDDY VISCOSITY MODEL</a>
<ul> <li><a href="#SpalartAllmaras">4.9.4.1.1 SPECIFYING THE FORM OF THE SPALART-ALLMARAS TURBULENCE MODEL</a></li></ul>
<ul> <li><a href="#DES">4.9.4.1.2 SPECIFYING THE FORM OF THE DES METHOD</a></li></ul>
<ul> <li><a href="#WallDistanceMethod">4.9.4.1.3 SPECIFYING THE METHOD FOR COMPUTING THE DISTANCE TO THE WALL</a></li></ul>
</li><li><a href="#LESModel">4.9.4.2 SPECIFYING THE LES MODEL</a>
<ul> <li><a href="#Smagorinsky">4.9.4.2.1 SPECIFYING THE PARAMETERS OF THE SMAGORINSKY EDDY VISCOSITY MODEL</a></li></ul>
<ul> <li><a href="#WALE">4.9.4.2.2 SPECIFYING THE PARAMETERS OF THE WALL-ADAPTED LOCAL EDDY VISCOSITY MODEL</a></li></ul>
<ul> <li><a href="#Dynamic">4.9.4.2.3 SPECIFYING THE PARAMETERS OF THE DYNAMIC LES MODEL</a></li></ul>
<ul><ul> <li><a href="#ClippingDynamic">4.9.4.2.3.1 SPECIFYING BOUNDS FOR THE DYNAMIC LES MODEL</a></li></ul></ul>
<ul> <li><a href="#VMS">4.9.4.2.4 SPECIFYING THE PARAMETERS OF THE VMS TURBULENCE MODEL</a></li></ul>
<ul> <li><a href="#DynamicVMS">4.9.4.2.5 SPECIFYING THE PARAMETERS OF THE DYNAMIC VMS LES MODEL</a></li></ul>
<ul><ul> <li><a href="#ClippingDynamicVMS">4.9.4.2.5.1 SPECIFYING BOUNDS FOR THE DYNAMIC VMS TURBULENCE MODEL</a></li></ul></ul>
</li><li><a href="#Tripping">4.9.4.3 TRIPPING TURBULENCE</a>
</li></ul>
</li></ul>
</li><li><a href="#MultiPhase">4.10 DEFINING THE MULTI-PHASE COMPONENT OF A FLOW PROBLEM AND SPECIFYING ITS SOLUTION METHOD</a>
<ul>
<li><a href="#InitialConditionsMultiPhase">4.10.1 SPECIFYING THE INITIAL CONDITIONS OF A MULTI-PHASE FLOW COMPUTATION</a>
<ul>
<li><a href="#Sphere">4.10.1.1 DEFINING A GENERIC SPHERE FOR A MULTI-PHASE FLOW COMPUTATION</a>
<ul> <li><a href="#ProgrammedBurn">4.10.1.1.1 SPECIFYING THE PARAMETERS OF A PROGRAMMED BURN</a></li></ul>
</li><li><a href="#Box">4.10.1.2 DEFINING A GENERIC BOX FOR A MULTI-PHASE FLOW COMPUTATION</a>
</li><li><a href="#Plane">4.10.1.3 DEFINING A GENERIC PLANE FOR A MULTI-PHASE FLOW COMPUTATION</a>
</li></ul>
</li><li><a href="#SparseGrid">4.10.2 TABULATING DATA IN SPARSE GRID FORMAT FOR SPEEDING UP MULTI-PHASE COMPUTATIONS</a>
</li></ul>
</li><li><a href="#BoundaryConditions">4.11 DEFINING THE BOUNDARY CONDITIONS</a>
<ul>
<li><a href="#Inlet">4.11.1 DEFINING THE FAR-FIELD INLET CONDITIONS</a>
</li><li><a href="#Outlet">4.11.2 DEFINING THE FAR-FIELD OUTLET CONDITIONS</a>
</li><li><a href="#Wall">4.11.3 DEFINING THE WALL CONDITIONS</a>
</li><li><a href="#Hydro">4.11.4 DEFINING A LIST OF ADDITIONAL PARAMETERS FOR HYDRO-SIMULATION</a>
</li><li><a href="#BoundaryData">4.11.5 DEFINING A BOUNDARY CONDITION DATA SET</a>
</li></ul>
</li><li><a href="#Preconditioner">4.12 SETTING THE PARAMETERS OF THE CHOSEN LOW-MACH PRECONDITIONER</a>
</li><li><a href="#Space">4.13 DEFINING THE SPACE DISCRETIZATION</a>
<ul>
<li><a href="#NavierStokes">4.13.1 NAVIERSTOKES</a>
<ul>
<li><a href="#FluxMap">4.13.1.1 MAPPING A FLUX SCHEME TO AN EQUATION OF STATE</a>
</li></ul>
</li><li><a href="#SpaceTurbulenceModel">4.13.2 TURBULENCEMODEL</a>
</li><li><a href="#LevelSet">4.13.3 LEVELSET</a>
</li><li><a href="#Boundaries">4.13.4 SPECIFYING THE NUMERICAL TREATMENT OF THE FAR-FIELD BOUNDARY CONDITIONS</a>
</li><li><a href="#Fixes">4.13.5 FINE TUNING THE SPATIAL DISCRETIZATION</a>
<ul>
<li><a href="#SphereFix">4.13.5.1 DEFINING A GENERIC SPHERE</a>
</li><li><a href="#BoxFix">4.13.5.2 DEFINING A GENERIC BOX</a>
</li><li><a href="#ConeFix">4.13.5.3 DEFINING A GENERIC CONICAL FRUSTRUM</a>
</li></ul>
</li></ul>
</li><li><a href="#ImplosionSetup">4.14 PRELOADING A STRUCTURE WITH AN INCREASING UNIFORM PRESSURE</a>
</li><li><a href="#Time">4.15 DEFINING THE TIME-INTEGRATION</a>
<ul>
<li><a href="#Implicit">4.15.1 DEFINING THE IMPLICIT TIME-INTEGRATION</a>
</li><li><a href="#Explicit">4.15.2 DEFINING THE EXPLICIT TIME-INTEGRATION</a>
</li><li><a href="#CflLaw">4.15.3 DEFINING THE CFL LAW</a>
</li></ul>
</li><li><a href="#Newton">4.16 SOLVING A SYSTEM OF NONLINEAR EQUATIONS</a>
<ul>
<li><a href="#LineSearch">4.16.1 SPECIFIES A LINE SEARCH STRATEGY</a>
</li><li><a href="#LinearSolver">4.16.2 SOLVING A SYSTEM OF LINEAR EQUATIONS</a>
<ul>
<li><a href="#SolverPreconditioner">4.16.2.1 ACCELERATING A LINEAR SOLVER</a>
</li></ul>
</li></ul>
</li><li><a href="#Forced">4.17 IMPOSING FORCED OSCILLATIONS</a>
<ul>
<li><a href="#Heaving">4.17.1 DESCRIBING A PRESCRIBED HEAVING MOTION</a>
</li><li><a href="#Pitching">4.17.2 DESCRIBING A PRESCRIBED PITCHING MOTION</a>
</li><li><a href="#Deforming">4.17.3 DESCRIBING A PRESCRIBED MOTION ASSOCIATED WITH A FLEXIBLE OBSTACLE</a>
</li></ul>
</li><li><a href="#Accelerated">4.18 ACCELERATING THE MESH</a>
<ul>
<li><a href="#TimeVelocity">4.18.1 SPECIFYING A VELOCITY AT A GIVEN TIME</a>
</li></ul>
</li><li><a href="#Aeroelastic">4.19 SPECIFYING AEROELASTIC PARAMETERS</a>
</li><li><a href="#MeshMotion">4.20 MOVING THE MESH</a>
<ul>
<li><a href="#Symmetry">4.20.1 MESH MOTION IN THE PRESENCE OF A PLANE OF SYMMETRY</a>
</li></ul>
</li><li><a href="#EmbeddedFramework">4.21 SPECIFYING THE EMBEDDED BOUNDARY METHOD FOR CFD</a>
<ul>
<li><a href="#InitialConditionsEmbedded">4.21.1 SPECIFYING THE INITIAL CONDITIONS IN A REGION DELIMITED BY A CLOSED EMBEDDED SURFACE</a>
<ul>
<li><a href="#Point">4.21.1.1 SPECIFYING A POINT AND THE FLUID MEDIUM CONTAINING IT</a>
</li></ul>
</li></ul>
</li><li><a href="#Linearized">4.22 DEFINING THE PARAMETERS OF THE LINEARIZED MODULE AERO-FL</a>
<ul>
<li><a href="#Pade">4.22.1 PADE-BASED RECONSTRUCTION OF SNAPSHOTS</a>
</li></ul>
</li><li><a href="#SensitivityAnalysis">4.23 SENSITIVITY ANALYSIS</a>
</li><li><a href="#AcousticPressure">4.24 AEROACOUSTIC ANALYSIS PARAMETERS</a>
</li></ul>
</li><li><a name="toc_Examples" href="#Examples">5 EXAMPLES</a>
<ul>
<li><a href="#Steady-flow-computation">5.1 STEADY FLOW COMPUTATION</a>
</li><li><a href="#Unsteady-aeroelastic-computation">5.2 UNSTEADY AEROELASTIC COMPUTATION</a>
</li><li><a href="#Full-order-linearized">5.3 FULL-ORDER LINEARIZED AEROELASTIC COMPUTATION</a>
</li><li><a href="#POD-basis">5.4 CONSTRUCTING A POD BASIS</a>
</li><li><a href="#ROM-simulation">5.5 REDUCED-ORDER AEROELASTIC COMPUTATION</a>
</li></ul>
</li><li><a name="toc_Running-Aero_002dF" href="#Running-Aero_002dF">6 RUNNING AEROF</a>
<ul>
<li><a href="#ExampleSteadyFlowComputation">6.1 STEADY FLOW COMPUTATION</a>
</li><li><a href="#ExampleUnsteadyFlowComputation">6.2 UNSTEADY FLOW COMPUTATION</a>
</li><li><a href="#ExampleForcedOscillationsComputation">6.3 FORCED OSCILLATIONS COMPUTATION</a>
</li><li><a href="#ExampleUnsteadyAeroelasticComputation">6.4 UNSTEADY AEROELASTIC COMPUTATION</a>
</li></ul>
</li><li><a name="toc_Running-AERO_002dFL" href="#Running-AERO_002dFL">7 RUNNING AEROFL</a>
</li><li><a name="toc_Restarting-AERO_002dF" href="#Restarting-AERO_002dF">8 RESTARTING AEROF</a>
</li><li><a name="toc_Restarting-Aero_002dFL" href="#Restarting-Aero_002dFL">9 RESTARTING AEROFL</a>
</li><li><a name="toc_Hints_005fand_005ftips" href="#Hints_005fand_005ftips">Appendix A HINTS AND TIPS</a>
</li><li><a name="toc_ROM" href="#ROM">Appendix B ROM OUTPUT FORMAT</a>
<ul>
<li><a href="#Fluid-ROM">B.1 FLUID ROM</a>
</li><li><a href="#Aeroelastic-ROM">B.2 AEROELASTIC ROM</a>
</li></ul>
</li><li><a name="toc_DESMESH" href="#DESMESH">Appendix C DETACHED EDDY SIMULATIONS (DES): MESH REQUIREMENTS</a>
</li><li><a name="toc_TAB" href="#TAB">Appendix D SPARSE GRID TABULATION OF RIEMANN INVARIANTS AND SOLUTIONS</a>
</li><li><a name="toc_Sensitivities" href="#Sensitivities">Appendix E COMPUTATION OF SENSITIVITIES</a>
</li></ul>
</div>



<div class="node">
<a name="Top"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered">AERO-F</h2>



<ul class="menu">
<li><a accesskey="1" href="#Problem">Problem</a>
</li><li><a accesskey="2" href="#Input">Input</a>

<ul class="menu">
<li><a accesskey="1" href="#g_t1DRestartData">1DRestartData</a>

<ul class="menu">
<li><a accesskey="1" href="#FluidIDMap">FluidIDMap</a>
</li></ul>
</li></ul>
</li><li><a accesskey="2" href="#g_t1DGrid">1DGrid</a>
</li><li><a accesskey="3" href="#Output">Output</a>

<ul class="menu">
<li><a accesskey="1" href="#Postpro">Postpro</a>
</li><li><a accesskey="2" href="#Probes">Probes</a>

<ul class="menu">
<li><a accesskey="1" href="#ProbingNode">Node</a>
</li></ul>
</li><li><a accesskey="2" href="#Restart">Restart</a>
</li></ul>
</li><li><a accesskey="3" href="#Surfaces">Surfaces</a>

<ul class="menu">
<li><a accesskey="1" href="#SurfaceData">SurfaceData</a>
</li></ul>
</li><li><a accesskey="2" href="#Velocity">Velocity</a>

<ul class="menu">
<li><a accesskey="1" href="#RotationAxis">RotationAxis</a>
</li></ul>
</li><li><a accesskey="2" href="#Volumes">Volumes</a>

<ul class="menu">
<li><a accesskey="1" href="#VolumeData">VolumeData</a>

<ul class="menu">
<li><a accesskey="1" href="#PorousMedium">PorousMedium</a>
</li><li><a accesskey="2" href="#InitialState">InitialState</a>
</li></ul>
</li></ul>
</li><li><a accesskey="3" href="#ReferenceState">ReferenceState</a>
</li><li><a accesskey="4" href="#Equations">Equations</a>

<ul class="menu">
<li><a accesskey="1" href="#FluidModel">FluidModel</a>

<ul class="menu">
<li><a accesskey="1" href="#GasModel">GasModel</a>
</li><li><a accesskey="2" href="#LiquidModel">LiquidModel</a>
</li><li><a accesskey="3" href="#JWLModel">JWLModel</a>
</li></ul>
</li><li><a accesskey="4" href="#ViscosityModel">ViscosityModel</a>
</li><li><a accesskey="5" href="#ThermalConductivityModel">ThermalConductivityModel</a>
</li><li><a accesskey="6" href="#TurbulenceClosure">TurbulenceClosure</a>

<ul class="menu">
<li><a accesskey="1" href="#TurbulenceModel">TurbulenceModel</a>

<ul class="menu">
<li><a accesskey="1" href="#SpalartAllmaras">SpalartAllmaras</a>
</li><li><a accesskey="2" href="#DES">DES</a>
</li><li><a accesskey="3" href="#WallDistanceMethod">WallDistanceMethod</a>
</li></ul>
</li><li><a accesskey="4" href="#LESModel">LESModel</a>

<ul class="menu">
<li><a accesskey="1" href="#Smagorinsky">Smagorinsky</a>
</li><li><a accesskey="2" href="#WALE">WALE</a>
</li><li><a accesskey="3" href="#Dynamic">Dynamic</a>

<ul class="menu">
<li><a accesskey="1" href="#ClippingDynamic">Clipping</a>
</li></ul>
</li><li><a accesskey="2" href="#VMS">VMS</a>
</li><li><a accesskey="3" href="#DynamicVMS">DynamicVMS</a>

<ul class="menu">
<li><a accesskey="1" href="#ClippingDynamicVMS">Clipping</a>
</li></ul>
</li></ul>
</li><li><a accesskey="2" href="#Tripping">Tripping</a>
</li></ul>
</li></ul>
</li><li><a accesskey="3" href="#MultiPhase">MultiPhase</a>

<ul class="menu">
<li><a accesskey="1" href="#InitialConditionsMultiPhase">InitialConditions</a>

<ul class="menu">
<li><a accesskey="1" href="#Sphere">Sphere</a>

<ul class="menu">
<li><a accesskey="1" href="#ProgrammedBurn">ProgrammedBurn</a>
</li></ul>
</li><li><a accesskey="2" href="#Box">Box</a>
</li><li><a accesskey="3" href="#Plane">Plane</a>
</li></ul>
</li><li><a accesskey="4" href="#SparseGrid">SparseGrid</a>
</li></ul>
</li><li><a accesskey="5" href="#BoundaryConditions">BoundaryConditions</a>

<ul class="menu">
<li><a accesskey="1" href="#Inlet">Inlet</a>
</li><li><a accesskey="2" href="#Outlet">Outlet</a>
</li><li><a accesskey="3" href="#Wall">Wall</a>
</li><li><a accesskey="4" href="#Hydro">Hydro</a>
</li><li><a accesskey="5" href="#BoundaryData">BoundaryData</a>
</li></ul>
</li><li><a accesskey="6" href="#Preconditioner">Preconditioner</a>
</li><li><a accesskey="7" href="#Space">Space</a>

<ul class="menu">
<li><a accesskey="1" href="#NavierStokes">NavierStokes</a>

<ul class="menu">
<li><a accesskey="1" href="#FluxMap">FluxMap</a>
</li></ul>
</li><li><a accesskey="2" href="#SpaceTurbulenceModel">TurbulenceModel</a>
</li><li><a accesskey="3" href="#LevelSet">LevelSet</a>
</li><li><a accesskey="4" href="#Boundaries">Boundaries</a>
</li><li><a accesskey="5" href="#Fixes">Fixes</a>

<ul class="menu">
<li><a accesskey="1" href="#SphereFix">Sphere</a>
</li><li><a accesskey="2" href="#BoxFix">Box</a>
</li><li><a accesskey="3" href="#ConeFix">Cone</a>
</li></ul>
</li></ul>
</li><li><a accesskey="4" href="#ImplosionSetup">ImplosionSetup</a>
</li><li><a accesskey="5" href="#Time">Time</a>

<ul class="menu">
<li><a accesskey="1" href="#Implicit">Implicit</a>
</li><li><a accesskey="2" href="#Explicit">Explicit</a>
</li><li><a accesskey="3" href="#CflLaw">CflLaw</a>
</li></ul>
</li><li><a accesskey="4" href="#Newton">Newton</a>

<ul class="menu">
<li><a accesskey="1" href="#LineSearch">LineSearch</a>
</li><li><a accesskey="2" href="#LinearSolver">LinearSolver</a>

<ul class="menu">
<li><a accesskey="1" href="#SolverPreconditioner">Preconditioner</a>
</li></ul>
</li></ul>
</li><li><a accesskey="2" href="#Forced">Forced</a>

<ul class="menu">
<li><a accesskey="1" href="#Heaving">Heaving</a>
</li><li><a accesskey="2" href="#Pitching">Pitching</a>
</li><li><a accesskey="3" href="#Deforming">Deforming</a>
</li></ul>
</li><li><a accesskey="4" href="#Accelerated">Accelerated</a>

<ul class="menu">
<li><a accesskey="1" href="#TimeVelocity">TimeVelocity</a>
</li></ul>
</li><li><a accesskey="2" href="#Aeroelastic">Aeroelastic</a>
</li><li><a accesskey="3" href="#MeshMotion">MeshMotion</a>

<ul class="menu">
<li><a accesskey="1" href="#Symmetry">Symmetry</a>
</li></ul>
</li><li><a accesskey="2" href="#EmbeddedFramework">EmbeddedFramework</a>

<ul class="menu">
<li><a accesskey="1" href="#InitialConditionsEmbedded">InitialConditions</a>

<ul class="menu">
<li><a accesskey="1" href="#Point">Point</a>
</li></ul>
</li></ul>
</li><li><a accesskey="2" href="#Linearized">Linearized</a>

<ul class="menu">
<li><a accesskey="1" href="#Pade">Pade</a>
</li></ul>
</li><li><a accesskey="2" href="#SensitivityAnalysis">SensitivityAnalysis</a>
</li><li><a accesskey="3" href="#AcousticPressure">AcousticPressure</a>
</li></ul>







<div class="node">
<a name="Introduction"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Installation">Installation</a>

</div>

<h2 class="chapter">1 INTRODUCTION</h2>

<p><a name="index-Introduction-1"></a><!-- ARL_FLAG -->
<b>AERO-F</b> is a domain decomposition based, parallel, 
three-dimensional, compressible,
Euler/Navier-Stokes solver based on finite volume and finite element 
type discretizations
on unstructured meshes constructed with tetrahedra. It can model both 
single-phase and multi-phase flow problems where the fluid
can be either a perfect gas (and possibly going through porous media), 
stiffened gas, barotropic liquid governed
by Tait's equation of state (EOS), or a highly explosive system 
describable by the Jones-Wilkins-Lee (JWL) EOS. 
For this purpose, it is equipped with various numerical methods and the 
level set technique. It can also solve multi-fluid problems
whether they involve multi-phase flows or not.

</p><p><b>AERO-F</b> can perform steady and unsteady, inviscid (Euler) 
and viscous (Navier-Stokes), laminar and turbulent flow
simulations. For turbulent flow computations, it offers one- and 
two-equation turbulence models, static and dynamic LES and Variational
Multi-Scale (VMS)-LES, as well as DES methods, with or without a wall 
function.

</p><p><b>AERO-F</b> operates on unstructured body-fitted meshes, or on 
fixed meshes that can embed discrete representations of
surfaces of obstacles around and/or within which the flow is to be 
computed. The body-fitted meshes and the embedded discrete surfaces
can be fixed, move and/or deform in a prescribed manner (for example, as
 in forced oscillations), or be driven via interaction with the
structural code <b>AERO-S</b>. In the case of body-fitted meshes, the 
governing equations of fluid motion are formulated in
the arbitrary Lagrangian Eulerian (ALE) framework. In this case, large 
mesh motions are handled by a corotational approach
which separates the rigid and deformational components of the motion of 
the surface of the obstacle, and robust mesh motion algorithms
that are based on structural analogies. In the case of embedded 
surfaces, which can have complex shapes and arbitrary thicknesses,
the governing equations of fluid motion are formulated in the Eulerian 
framework and the wall boundary or transmission
conditions are treated by an embedded boundary method.

</p><p>In <b>AERO-F</b>, the spatial discretization combines a second-order
accurate Roe, HLLE, or HLLC upwind scheme for the advective fluxes and a Galerkin centered
approximation for the viscous fluxes. This semi-discretization can also achieve a
fifth-order spatial dissipation error and a sixth-order spatial dispersion error — and therefore
fifth-order spatial accuracy — and possibly a sixth-order spatial accuracy. 
Time-integration can be performed with first- and second-order implicit, and first, second, and fourth-order explicit
algorithms which, when performing in the ALE setting, satisfy their discrete geometric conservation laws (DGCLs).

</p><p><b>AERO-F</b> embeds <b>AERO-FL</b>, a module for solving linearized fluid equations. 
This module shares with <b>AERO-F</b> the semi-discretization schemes outlined above. 
Currently, the <b>AERO-FL</b> module can be used to compute linearized inviscid flow perturbations
around an equilibrium solution, construct a set of generalized aerodynamic and/or aerodynamic force matrices,
predict linearized inviscid aeroelastic (fluid-structure) responses assuming a modalized structure,
compute aeroelastic snapshots in either the time or frequency domains to construct a POD (proper orthogonal decomposition)
basis, generate an aeroelastic ROM (reduced-order model) in the frequency domain, and compute aeroelastic ROM solutions in
the time-domain assuming a modalized structure.

</p><p><b>AERO-F</b> can also be used to perform flow simulations past 
accelerating or decelerating obstacles,
steady, inviscid or viscous sensitivity analyses with respect to a set 
of aerodynamic and/or shape parameters,
and aeroacoustic or hydroacoustic computations using a combination of 
the discrete fast Fourier transform method, the solution of
a time-harmonic wave propagation problem in an infinite domain, and 
Kirchhoff's integral method for computing the acoustic pressure and its 
far-field pattern. 
It is also equipped to communicate with a structural/thermal analyzer 
such as <b>AERO-S</b> to perform
aeroelastic and aerothermal analyses using state-of-the-art fluid-structure and fluid-thermal staggered solution algorithms.

</p><p><b>AERO-F</b> is essentially a comprehensive external flow solver. As such, it is not
yet equipped with all boundary condition treatments that are characteristic of internal
flow problems. Nevertheless, it can handle a class of such problems. 
</p><div class="node">
<a name="Installation"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Overview">Overview</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Introduction">Introduction</a>

</div>

<h2 class="chapter">2 INSTALLATION</h2>

<p><a name="index-Installation-2"></a>
The installation of <b>AERO-F</b> on a given computing system requires the availability on that system of the following tools:

</p><p><table summary=""><tbody><tr align="left"><td valign="top" width="30%"><code>C++</code> compiler <code>g++</code>          </td><td valign="top" width="70%">Version 4.1.2 or higher. 
<br></td></tr><tr align="left"><td valign="top" width="30%"><code>Fortran</code> compiler <code>gfortran</code> </td><td valign="top" width="70%">Version 4.1.2 or higher. 
<br></td></tr><tr align="left"><td valign="top" width="30%"><code>Flex</code> utility                     </td><td valign="top" width="70%">Version 2.5 or higher. <code>Flex</code> is a lexical analyser required for building the parser of <b>AERO-F</b>'s ASCII Input Command Data file. 
<br></td></tr><tr align="left"><td valign="top" width="30%"><code>Bison</code> utility                    </td><td valign="top" width="70%">Version 2.3 or higher. <code>Bison</code> is a parser generator required for building the parser of <b>AERO-F</b>'s ASCII Input Command Data file. 
<br></td></tr><tr align="left"><td valign="top" width="30%"><code>CMake</code> utility                    </td><td valign="top" width="70%">Version 2.6 or higher. <code>CMake</code> is a cross-platform open-source build system. 
It is comparable to the Unix <code>Make</code> program in that the build process is ultimately controlled
by configuration files (<code>CMakeLists.txt</code>). However unlike <code>Make</code>, it does not directly build the final
software but instead generates standard build files such as makefiles for Unix and projects/workspaces for Windows
Visual C++. The <code>CMake</code> version 2.6 utility can be obtained from http://www.cmake.org. 
(Note: a “README.cmake” file discussing details on <code>CMake</code> options for code configuration and installation is
available).
<br></td></tr></tbody></table>

</p><p>and following libraries:

</p><p><table summary=""><tbody><tr align="left"><td valign="top" width="30%"><code>BLAS</code> library               </td><td valign="top" width="70%"><code>BLAS</code> is a set of Basic Linear Algebra Subprograms required by various
operations performed in <b>AERO-F</b>. 
<br></td></tr><tr align="left"><td valign="top" width="30%"><code>MPI</code> library <code>openmpi</code> </td><td valign="top" width="70%">Version 1.2.6 or higher. <code>Open MPI</code> is a high-performance implementation of the Message Passing Interface (MPI) required
for performing interprocessor communication, among others. More specifically, <b>AERO-F</b> requires an
MPI-2 implementation such as the one provided by the Open MPI project. 
<br></td></tr><tr align="left"><td valign="top" width="30%"><code>OpenMP</code> API                 </td><td valign="top" width="70%">Open Multi-Processing is an Application Programming Interface (API) that
supports multi-platform shared memory multiprocessing programming in C, C++ and Fortran on many architectures, including Unix. 
As an option, <b>AERO-F</b> can be compiled with <code>OpenMP</code> to enable multi-threaded execution.
<br></td></tr></tbody></table>

</p><p>In addition, the POD (Proper Orthogonal Decomposition) and ROM (Reduced-Order Modeling) capabilities of the
linearized module <b>AERO-FL</b> of <b>AERO-F</b> require the availability on the host computing system
of the following libraries:

</p><p><table summary=""><tbody><tr align="left"><td valign="top" width="30%"><code>LAPACK</code> library      </td><td valign="top" width="70%"><code>LAPACK</code> is a high-performance Linear Algebra PACKage with advanced solvers. 
<br></td></tr><tr align="left"><td valign="top" width="30%"><code>ARPACK</code> library      </td><td valign="top" width="70%"><code>ARPACK</code> is the Arnoldi PACKage for the solution of large-scale symmetric,
nonsymmetric, and generalized eigenproblems. 
<br></td></tr><tr align="left"><td valign="top" width="30%"><code>ScaLAPACK</code> library   </td><td valign="top" width="70%"><code>ScaLAPACK</code> is also known as the Scalable LAPACK. This library includes a
subset of LAPACK routines redesigned for distributed memory MIMD parallel computers. 
<br></td></tr><tr align="left"><td valign="top" width="30%"><code>BLACS</code> library      </td><td valign="top" width="70%"><code>BLACS</code>
 (Basic Linear Algebra Communication Subprograms) is a linear algebra 
oriented message passing interface designed for linear algebra.
<br></td></tr></tbody></table>

</p><p>Furthermore, the embedded computational framework of <b>AERO-F</b> requires the availability on the host computing system of the following libraries:

</p><p><table summary=""><tbody><tr align="left"><td valign="top" width="30%"><code>Boost</code> library    </td><td valign="top" width="70%">The <code>Boost</code> C++ libraries are a collection of free libraries that extend the functionality of C++.
<br></td></tr></tbody></table>

</p><p>To install <b>AERO-F</b>, follow the procedure specified below:

     </p><ul>
<li>From the directory containing the source code of <b>AERO-F</b>, type “<code>cmake</code> .” (without the “ ”). 
Note the space and the “.” after the command <code>cmake</code>. The “.” specifies the current directory. 
</li><li>Watch the computer screen and verify that all invoked libraries were found and all build options were correct. 
A sample computer screen output of the <code>cmake</code> command is:

     <pre class="verbatim">     -- The C compiler identification is GNU
     -- The CXX compiler identification is GNU
     -- Check for working C compiler: /usr/bin/gcc
     -- Check for working C compiler: /usr/bin/gcc -- works
     -- Detecting C compiler ABI info
     -- Detecting C compiler ABI info - done
     -- Check for working CXX compiler: /usr/bin/c++
     -- Check for working CXX compiler: /usr/bin/c++ -- works
     -- Detecting CXX compiler ABI info
     -- Detecting CXX compiler ABI info - done
     -- The Fortran compiler identification is GNU
     -- Check for working Fortran compiler: /usr/bin/gfortran
     -- Check for working Fortran compiler: /usr/bin/gfortran  -- works
     -- Detecting Fortran compiler ABI info
     -- Detecting Fortran compiler ABI info - done
     -- Checking whether /usr/bin/gfortran supports Fortran 90
     -- Checking whether /usr/bin/gfortran supports Fortran 90 -- yes
     -- Looking for Fortran cblas_dgemm
     -- Looking for Fortran cblas_dgemm - not found
     -- Looking for Fortran sgemm
     -- Looking for Fortran sgemm - found
     -- Looking for include files CMAKE_HAVE_PTHREAD_H
     -- Looking for include files CMAKE_HAVE_PTHREAD_H - found
     -- Looking for pthread_create in pthreads
     -- Looking for pthread_create in pthreads - not found
     -- Looking for pthread_create in pthread
     -- Looking for pthread_create in pthread - found
     -- Found Threads: TRUE
     -- A library with BLAS API found.
     -- Looking for Fortran cheev
     -- Looking for Fortran cheev - found
     -- A library with LAPACK API found.
     -- Found MPI: /usr/lib/openmpi/lib/libmpi_cxx.so
     -- Building for system type: Linux.
     -- ARPACK library /usr/lib/libarpack.so found.
     -- SCALAPACK library /usr/lib/libscalapack-openmpi.so found.
     -- BLACS library /usr/lib/libblacs-openmpi.so,/usr/lib/libblacsF77init-openmpi.so found.
     -- Boost version: 1.42.0
     -- Will compile with MPI API /usr/lib/openmpi/include/usr/lib/openmpi/include/openmpi.
     
     =================================================
                Summary of build options
     -------------------------------------------------
     Distributed Execution:    YES
     Aeroelastic:              YES
     Embedded framework:       YES
     Modal capability:         YES
     Parallel SVD capability:  YES
     Build type:               Release
     Extra link flags:         
     =================================================
     
     -- Configuring done
     -- Generating done
     -- Build files have been written to: /home/pavery/Codes/Fluid
</pre>

     </li><li>If necessary, edit the <code>CMakeCache.txt</code> file to include the file paths to all required and desired optional components
that were not automatically found by <code>cmake</code>. Typically, the compilers, the utilities <code>Flex</code> and <code>Bison</code>,
the libraries <code>MPI</code>, <code>BLAS</code> and <code>LAPACK</code>, and the API <code>OpenMP</code> will be automatically found. 
However, it may be necessary to specify the paths for the libraries <code>ARPACK</code>, <code>ScaLAPACK</code>, <code>BLACS</code> and <code>Boost</code>.

     </li><li>Then, also from the directory containing the source code of <b>AERO-F</b>, type <code>make</code>. 
</li></ul>

<p>The successful completion of the procedure described above leads to the creation in the bin/ directory of <b>AERO-F</b>'s
executable aerof. 
</p><div class="node">
<a name="Overview"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Objects">Objects</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Installation">Installation</a>

</div>

<h2 class="chapter">3 OVERVIEW</h2>

<p><a name="index-Overview-3"></a>

</p><ul class="menu">
<li><a accesskey="1" href="#Object-oriented-input">Object oriented input</a>
</li><li><a accesskey="2" href="#Syntactic-rules">Syntactic rules</a>
</li><li><a accesskey="3" href="#Comments">Comments</a>
</li><li><a accesskey="4" href="#Which-problems-can-AERO_002dF-actually-solve_003f">Which problems can AERO-F actually solve?</a>
</li></ul>
<!--  -->
<!-- Object oriented input -->
<!--  -->

<div class="node">
<a name="Object-oriented-input"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Syntactic-rules">Syntactic rules</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">3.1 OBJECT ORIENTED INPUT</h3>

<p>The structure of the text input data file follows closely the 
internal structure of AERO-F. As a result, this file contains a list of 
objects that define the problem to be solved and the numerical 
techniques selected for its resolution. 
Sample objects that are currently supported are:
<code>Problem</code>, <code>Input</code>, <code>Output</code>, <code>Equations</code>, <code>Preconditioner</code>, <code>ReferenceState</code>,
<code>BoundaryConditions</code>, <code>MultiPhase</code>, <code>Space</code>, <code>Time</code>, <code>Aeroelastic</code>,
<code>Forced</code>, <code>Accelerated</code>, <code>MeshMotion</code>, <code>Linearized</code>, and <code>Newton</code>. These objects
can depend themselves on other lower-level objects. All are defined in <a href="#Objects">Objects</a>. 
<!--  -->
<!-- Syntactic Rules -->
<!--  -->

</p><div class="node">
<a name="Syntactic-rules"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Comments">Comments</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Object-oriented-input">Object oriented input</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">3.2 SYNTACTIC RULES</h3>

<p>Here are the rules followed in this document.

     </p><ol start="1" type="1">
<li>Keywords are printed like <code>this</code>. 
</li><li>Metasyntactic variables (i.e. text bits that are not part of the syntax,
but stand for other text bits) are printed like <var>this</var>. 
</li><li>A metasyntactic variable ending by <var>-int</var> refers to an integer value. 
</li><li>A metasyntactic variable ending by <var>-real</var> refers to a real value. 
</li><li>A metasyntactic variable ending by <var>-str</var> refers to a string enclosed in double quotes (<code>""</code>). 
</li><li>A metasyntactic variable ending by <var>-id</var> refers to an identifier. 
</li><li>A metasyntactic variable ending by <var>-obj</var> refers to an object. 
</li><li>For conciseness, three dots (<small class="dots">...</small>) replace an object definition.
     </li></ol>

<p>The definition of an object starts with the keyword <code>under</code> followed
by the name of the object. The members of an object are enclosed within curly
braces (<code>{}</code>). For example,
</p><pre class="example">     under Problem {
       Type = Steady;
       Mode = Dimensional;
     }
</pre>
<p>is a valid syntax for the object <code>Problem</code>. Alternatively, it can
also be written as
</p><pre class="example">     Problem.Type = Steady;
     Problem.Mode = Dimensional;
</pre>
<p>Notes:
     </p><ol start="1" type="1">
<li>a semicolon (<code>;</code>) is required after each assignment;
</li><li>the ordering of the objects as well as the ordering within an object do not matter.
     </li></ol>
<!--  -->
<!-- Comments -->
<!--  -->

<div class="node">
<a name="Comments"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Which-problems-can-AERO_002dF-actually-solve_003f">Which problems can AERO-F actually solve?</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Syntactic-rules">Syntactic rules</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">3.3 COMMENTS</h3>

<p>Both C and C++ style comments are supported and can be used in the input
data file to comment out selected text regions:

     </p><ol start="1" type="1">
<li>the text region comprised between <code>/*</code> and <code>*/</code> pairs is ignored;
</li><li>the remainder of a line after a double slash <code>//</code> is ignored.
     </li></ol>

<p>These commands do not have the described effects inside double quotes. 
<!--  -->
<!-- Which Problems can be actually solve? -->
<!--  -->

</p><div class="node">
<a name="Which-problems-can-AERO-F-actually-solve?"></a>
<a name="Which-problems-can-AERO_002dF-actually-solve_003f"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Comments">Comments</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">3.4 WHICH PROBLEMS CAN AEROF-NAME ACTUALLY SOLVE?</h3>

<p>AERO-F can be used to perform:
<!-- ARL_FLAG -->
     </p><ul>
<li>A steady or unsteady, inviscid or viscous flow computation around a fixed obstacle.

     </li><li>Steady or unsteady natural convection (buoyancy) computations.

     </li><li>A steady or unsteady, inviscid or viscous flow computation around a rigid or flexible obstacle set in accelerated motion.

     </li><li>An unsteady, inviscid or viscous flow computation around a
 rigid or flexible obstacle set in a prescribed motion (forced 
oscillations).

     </li><li>An unsteady, inviscid or viscous aeroelastic computation.

     </li><li>A steady or unsteady viscous aerothermal flow computation involving a fixed obstacle.

     </li><li>Steady or unsteady natural convection (buoyancy) computations coupling viscous fluid flow and heat transfer analyses.

     <!-- @item -->
     <!-- A steady or unsteady viscous aerothermoelastic flow computation involving a flexible obstacle. -->
     </li><li>Any of the above computations in the presence of porous media when the fluid is modeled as a perfect gas.

     </li><li>An unsteady linearized Euler flow perturbation computation in the time-domain, where the fluid is modeled as a perfect gas.

     </li><li>An unsteady linearized Euler-based aeroelastic computation in which the structure is represented by a truncated set of its
natural modes and the fluid is modeled as a perfect gas.

     </li><li>A construction of a time- or frequency-domain POD basis when the fluid is modeled as a perfect gas and trained for obstacle
vibrations.

     </li><li>A construction of a time- or frequency-domain POD basis by linear interpolation between two given
sets of POD basis vectors, when the fluid is modeled as a perfect gas.

     </li><li>A construction of a generalized aerodynamic and/or aerodynamic force matrix (or a set of them).

     </li><li>A construction of a fluid ROM trained for obstacle vibrations, when the fluid is modeled as a perfect gas.

     </li><li>A time-domain ROM flow computation in which the flow is expressed in a POD basis, when the fluid is modeled as a perfect gas.

     </li><li>A construction of an aeroelastic ROM in which the 
structure is currently represented by a truncated set of its natural 
modes and the
fluid is modeled as a perfect gas and trained for structural vibrations.

     </li><li>A time-domain aeroelastic ROM computation in which the flow is expressed in a POD basis and the
structure is represented by a truncated set of its natural modes, when the fluid is modeled as a perfect gas.

     </li><li>A steady or unsteady multi-material flow problem where a fluid can be modeled by the Equation Of State (EOS) governing
a perfect or stiffened gas, Tait's EOS for a barotropic liquid, or the JWL EOS. In this case, viscous effects are accounted
for however only for multi-perfect-gas problems.

     </li><li>A steady, inviscid or viscous sensitivity analysis around a specified steady-state flow solution
with respect to a specified set of flow and shape parameters, when the fluid is modeled as a perfect gas.

     </li><li>Frequency-domain computation of the acoustic pressure in the far-field at user-specified locations and its far-field pattern. 
</li></ul>
<!-- ========================================================================= -->
<!-- Objects -->
<!-- ========================================================================= -->

<div class="node">
<a name="Objects"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Examples">Examples</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Overview">Overview</a>

</div>

<h2 class="chapter">4 OBJECTS</h2>

<p>This chapter describes each object that can be inserted in the <b>AERO-F</b> input file and its syntax. 
The default value of each object member or parameter is given between square brackets (<code>[]</code>). 
The list of currently available objects is given below.

</p><ul class="menu">
<li><a accesskey="1" href="#g_t1DGrid">1DGrid</a>
</li><li><a accesskey="2" href="#g_t1DRestartData">1DRestartData</a>
</li><li><a accesskey="3" href="#Accelerated">Accelerated</a>
</li><li><a accesskey="4" href="#AcousticPressure">AcousticPressure</a>
</li><li><a accesskey="5" href="#Aeroelastic">Aeroelastic</a>
</li><li><a accesskey="6" href="#Boundaries">Boundaries</a>
</li><li><a accesskey="7" href="#BoundaryConditions">BoundaryConditions</a>
</li><li><a accesskey="8" href="#BoundaryData">BoundaryData</a>
</li><li><a accesskey="9" href="#Box">Box</a>
</li><li><a href="#CflLaw">CflLaw</a>
</li><li><a href="#ClippingDynamic">ClippingDynamic</a>
</li><li><a href="#ClippingDynamicVMS">ClippingDynamicVMS</a>
</li><li><a href="#ConeFix">ConeFix</a>
</li><li><a href="#Deforming">Deforming</a>
</li><li><a href="#DES">DES</a>
</li><li><a href="#Dynamic">Dynamic</a>
</li><li><a href="#DynamicVMS">DynamicVMS</a>
</li><li><a href="#EmbeddedFramework">EmbeddedFramework</a>
</li><li><a href="#Equations">Equations</a>
</li><li><a href="#Explicit">Explicit</a>
</li><li><a href="#Fixes">Fixes</a>
</li><li><a href="#FluidIDMap">FluidIDMap</a>
</li><li><a href="#FluidModel">FluidModel</a>
</li><li><a href="#FluxMap">FluxMap</a>
</li><li><a href="#Forced">Forced</a>
</li><li><a href="#GasModel">GasModel</a>
</li><li><a href="#Heaving">Heaving</a>
</li><li><a href="#Hydro">Hydro</a>
</li><li><a href="#Implicit">Implicit</a>
</li><li><a href="#ImplosionSetup">ImplosionSetup</a>
</li><li><a href="#InitialConditionsEmbedded">InitialConditionsEmbedded</a>
</li><li><a href="#InitialConditionsMultiPhase">InitialConditionsMultiPhase</a>
</li><li><a href="#InitialState">InitialState</a>
</li><li><a href="#Inlet">Inlet</a>
</li><li><a href="#Input">Input</a>
</li><li><a href="#JWLModel">JWLModel</a>
</li><li><a href="#LESModel">LESModel</a>
</li><li><a href="#LevelSet">LevelSet</a>
</li><li><a href="#Linearized">Linearized</a>
</li><li><a href="#LinearSolver">LinearSolver</a>
</li><li><a href="#LineSearch">LineSearch</a>
</li><li><a href="#LiquidModel">LiquidModel</a>
</li><li><a href="#MeshMotion">MeshMotion</a>
</li><li><a href="#MultiPhase">MultiPhase</a>
</li><li><a href="#NavierStokes">NavierStokes</a>
</li><li><a href="#Newton">Newton</a>
</li><li><a href="#Node">Node</a>
</li><li><a href="#Outlet">Outlet</a>
</li><li><a href="#Output">Output</a>
</li><li><a href="#Pade">Pade</a>
</li><li><a href="#Pitching">Pitching</a>
</li><li><a href="#Plane">Plane</a>
</li><li><a href="#Point">Point</a>
</li><li><a href="#PorousMedium">PorousMedium</a>
</li><li><a href="#Postpro">Postpro</a>
</li><li><a href="#Preconditioner">Preconditioner</a>
</li><li><a href="#Probes">Probes</a>
</li><li><a href="#ProbingNode">ProbingNode</a>
</li><li><a href="#SolverPreconditioner">SolverPreconditioner</a>
</li><li><a href="#Problem">Problem</a>
</li><li><a href="#ProgrammedBurn">ProgrammedBurn</a>
</li><li><a href="#ReferenceState">ReferenceState</a>
</li><li><a href="#Restart">Restart</a>
</li><li><a href="#RotationAxis">RotationAxis</a>
</li><li><a href="#SensitivityAnalysis">SensitivityAnalysis</a>
</li><li><a href="#Smagorinsky">Smagorinsky</a>
</li><li><a href="#Space">Space</a>
</li><li><a href="#SpaceTurbulenceModel">SpaceTurbulenceModel</a>
</li><li><a href="#SpalartAllmaras">SpalartAllmaras</a>
</li><li><a href="#SparseGrid">SparseGrid</a>
</li><li><a href="#Sphere">Sphere</a>
</li><li><a href="#SphereFix">SphereFix</a>
</li><li><a href="#SurfaceData">SurfaceData</a>
</li><li><a href="#Surfaces">Surfaces</a>
</li><li><a href="#Symmetry">Symmetry</a>
</li><li><a href="#ThermalConductivityModel">ThermalConductivityModel</a>
</li><li><a href="#Time">Time</a>
</li><li><a href="#TimeVelocity">TimeVelocity</a>
</li><li><a href="#Tripping">Tripping</a>
</li><li><a href="#TurbulenceClosure">TurbulenceClosure</a>
</li><li><a href="#TurbulenceModel">TurbulenceModel</a>
</li><li><a href="#Velocity">Velocity</a>
</li><li><a href="#ViscosityModel">ViscosityModel</a>
</li><li><a href="#VMS">VMS</a>
</li><li><a href="#VolumeData">VolumeData</a>
</li><li><a href="#Volumes">Volumes</a>
</li><li><a href="#WALE">WALE</a>
</li><li><a href="#Wall">Wall</a>
</li><li><a href="#WallDistanceMethod">WallDistanceMethod</a>

</li></ul>
<!--  -->
<!-- Problem object -->
<!--  -->

<div class="node">
<a name="Problem"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Input">Input</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.1 DEFINING THE PROBLEM TYPE</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Problem</b>
</td></tr></tbody></table>

</p><p>The <code>Problem</code> object sets the type, mode, and few other global parameters of the problem to be solved. 
Its syntax is:

</p><pre class="example">     under Problem {
       Type = <var>type-id</var>;
       Mode = <var>mode-id</var>;
       Prec = <var>prec-id</var>;
       Framework = <var>framework-id</var>;
       SolveFluid = <var>solvefluid-flag</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>Steady</code>]:

     </p><dl>
<dt><code>Steady</code></dt><dd>Steady-state flow computation around a fixed obstacle (local time-step).

     <br></dd><dt><code>Unsteady</code></dt><dd>Unsteady flow computation around a fixed obstacle (global time-step).

     <br></dd><dt><code>AcceleratedUnsteady</code></dt><dd>Accelerated unsteady flow computation around a fixed obstacle (global time-step). See <a href="#Accelerated">Accelerated</a>.

     <br></dd><dt><code>SteadyAeroelastic</code></dt><dd>Steady-state aeroelastic computation (local time-step). See <a href="#Aeroelastic">Aeroelastic</a>.

     <br></dd><dt><code>UnsteadyAeroelastic</code></dt><dd>Unsteady aeroelastic computation (global time-step). See <a href="#Aeroelastic">Aeroelastic</a>.

     <br></dd><dt><code>AcceleratedUnsteadyAeroelastic</code></dt><dd>Accelerated unsteady aeroelastic computation (global time-step). See
<a href="#Aeroelastic">Aeroelastic</a> and <a href="#Accelerated">Accelerated</a>.

     <br></dd><dt><code>SteadyAeroThermal</code></dt><dd>Steady-state aerothermal (thermostructure-thermofluid) flow computation around a fixed obstacle (local time-step).

     <br></dd><dt><code>UnsteadyAeroThermal</code></dt><dd>Unsteady aerothermal (thermostructure-thermofluid) flow computation around a fixed obstacle (global time-step).

     <!-- @item SteadyAeroThermoElastic -->
     <!-- Steady-state aerothermoelastic flow computation (local time-step). @xref{Aeroelastic}. -->
     <!-- @item UnsteadyAeroThermoElastic -->
     <!-- Unsteady aerothermoelastic flow computation (global time-step). @xref{Aeroelastic}. -->
     <br></dd><dt><code>Forced</code></dt><dd>Forced oscillations (unsteady flow) computation around a rigid or flexible obstacle
(global time-step). See <a href="#Forced">Forced</a>.

     <br></dd><dt><code>UnsteadyLinearized</code></dt><dd>Unsteady flow perturbation using a linearized computational model. Currently, this option assumes that the flow
is modeled by the linearized Euler equations. If the perturbation is due to a structural motion and is input
as such, <var>mode-id</var> must be set to <code>Dimensional</code> when using this option.

     <br></dd><dt><code>UnsteadyLinearizedAeroelastic</code></dt><dd>Unsteady linearized aeroelastic computation (using a linearized computational model). Currently, this option assumes
that the flow is modeled by the linearized Euler equations and the structure by a modal representation. 
When using this option, <var>mode-id</var> must be set to <code>Dimensional</code>.

     <br></dd><dt><code>PODConstruction</code></dt><dd>Construction of a POD basis from computed snapshots.

     <br></dd><dt><code>PODInterpolation</code></dt><dd>Construction of a POD basis by interpolation between two or more sets of POD basis vectors specified, together with
their respective Mach numbers and angles of attack, in <code>PODData</code> (see <a href="#Input">Input</a>). This file should also contain
the Mach number and angle of attack at which the interpolated POD basis is desired. 
The size of the POD basis to be constructed must be specified in <code>NumPOD</code> (see <a href="#Linearized">Linearized</a>). 
Do not forget to output the computed POD basis using the <code>PODData</code> command in <a href="#Postpro">Postpro</a>.

     <br></dd><dt><code>ROBInnerProduct</code></dt><dd>Computation of all inner products between the elements of a set of Reduced-Order Bases (ROBs)   <img src="Aerof3d_files/img1.png" class="math-display" align="top">   inputted to <b>AERO-F</b> in
<code><a href="#Input">Input</a>.PODData</code>. If <code><a href="#Time">Time</a>.Form</code> = <code>Descriptor</code>, the inner products are computed with respect to the matrix of cell volumes   <img src="Aerof3d_files/img2.png" class="math-display" align="top">   as follows
 <center class="math-display"> <img src="Aerof3d_files/img3.png" class="math-display" align="top"> </center> 

On the other hand, if  <code><a href="#Time">Time</a>.Form</code> = <code>NonDescriptor</code>, the inner products are computed with respect to the identity matrix   <img src="Aerof3d_files/img4.png" class="math-display" align="top">   as follows
 <center class="math-display"> <img src="Aerof3d_files/img5.png" class="math-display" align="top"> </center> 

The data is loaded into <b>AERO-F</b> and the above inner products are computed using a strategy that optimizes the computational resources. 
The resulting matrices   <img src="Aerof3d_files/img6.png" class="math-display" align="top">   are outputted in <code><a href="#Output">Output</a>.ROBInnerProduct</code>.

     <br></dd><dt><code>GAMConstruction</code></dt><dd>Construction of a generalized aerodynamic and/or aerodynamic force matrix or a set of them
(see <a href="#Linearized">Linearized</a> and <a href="#Postpro">Postpro</a>). When using this option, <var>mode-id</var> must be set to <code>Dimensional</code>.

     <br></dd><dt><code>EigenAeroelastic</code></dt><dd>Complex eigenvalue analysis of a linearized aeroelastic system represented by a generalized aerodynamic force matrix. 
When using this option, <var>mode-id</var> must be set to <code>Dimensional</code>.

     <br></dd><dt><code>ROM</code></dt><dd>Construction of a fluid ROM, given a POD basis specified in <code>PODData</code> (see <a href="#Input">Input</a>), or time-domain ROM fluid simulation
in which the flow is expressed in a POD basis specified in <code>PODData</code> (see <a href="#Input">Input</a>). See <a href="#Linearized">Linearized</a>.

     <br></dd><dt><code>ROMAeroelastic</code></dt><dd>Construction of an aeroelastic ROM, or time-domain aeroelastic ROM simulation
in which the flow is expressed in a POD basis and the structure is represented by a truncated set
of its natural modes. See <a href="#Linearized">Linearized</a>.

     <br></dd><dt><code>SteadySensitivityAnalysis</code></dt><dd>Computation
 of the steady-state flow solution using the deformed mesh configuration
 associated with the wall-boundary displacement inputted in <code><a href="#Input">Input</a>.InitialWallDisplacement</code>,
 and
computation of the gradients at this flow solution of aerodynamic design
 criteria with respect to flow parameters such as the free-stream 
conditions (Mach number, angle of attack, and
sideslip angle) and design variables such as shape design parameters 
(see <a href="#Sensitivities">Sensitivities</a>). This problem type can also be used to make <b>AERO-F</b> participate in the gradient-based
solution of a fluid optimization problem by providing the needed sensitivities.

     <br></dd><dt><code>SteadyAeroelasticSensitivityAnalysis</code></dt><dd>Computation
 of a steady-state aeroelastic solution and the gradients at this 
solution of aerodynamic design criteria with respect to flow parameters 
such as the free-stream conditions
(Mach number, angle of attack, and sideslip angle) and design variables 
such as shape design parameters (see <a href="#Sensitivities">Sensitivities</a>). This problem type can also be used to make <b>AERO-F</b> participate
in the gradient-based solution of an aeroelastic optimization problem by providing the needed sensitivities.

     <br></dd><dt><code>SparseGridGeneration</code></dt><dd>Pre-computation and tabulation in the sparse grid format specified in <a href="#SparseGrid">SparseGrid</a> of information specified in <a href="#MultiPhase">MultiPhase</a>.

     <br></dd><dt><code>1D</code></dt><dd>One-dimensional <i>explicit</i> computation in spherical, cylindrical, or Cartesian coordinates of a spherically or cylindrically symmetric unsteady
single-phase or two-phase flow problem.

     <br></dd><dt><code>Aeroacoustic</code></dt><dd>Frequency-domain 
computation using the Kirchhoff integral method of: (a) the 
complex-valued acoustic pressure in the far-field at user-specified 
locations,
and (b) the complex-valued far-field pattern of the acoustic pressure 
field (see <code><a href="#Probes">Probes</a>.Pressure</code>). 
</dd></dl>

<p class="noindent"><var>mode-id</var> [<code>NonDimensional</code>]:

     </p><dl>
<dt><code>NonDimensional</code></dt><dd>In this case, all input data is 
interpreted as being for the non-dimensionalized variables, and all 
solutions are outputted in non-dimensional form. 
AERO-F non-dimensionalizes the computational input and variables as 
follows:

          <ol start="1" type="1">
<li>coordinates in x-, y- and z-directions:

          <p></p><center class="math-display"> <img src="Aerof3d_files/img7.png" class="math-display" align="top"> </center> 


          </li><li>time:

          <p></p><center class="math-display"> <img src="Aerof3d_files/img8.png" class="math-display" align="top"> </center> 


          </li><li>density:

          <p></p><center class="math-display"> <img src="Aerof3d_files/img9.png" class="math-display" align="top"> </center> 


          </li><li>velocity:

          <p></p><center class="math-display"> <img src="Aerof3d_files/img10.png" class="math-display" align="top"> </center> 


          </li><li>pressure:

          <p></p><center class="math-display"> <img src="Aerof3d_files/img11.png" class="math-display" align="top"> </center> 


          </li><li>temperature:

          <p></p><center class="math-display"> <img src="Aerof3d_files/img12.png" class="math-display" align="top"> </center> 


          </li></ol>

     <p>where the subscript   <img src="Aerof3d_files/img13.png" class="math-display" align="top">   designates a reference value.

     </p><p>AERO-F computes

     </p><p> <img src="Aerof3d_files/img14.png" class="math-display" align="top">   internally as follows. For a perfect gas,

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img15.png" class="math-display" align="top"> </center> 


     <p>For a barotropic liquid,

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img16.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img17.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img18.png" class="math-display" align="top"> 


     <p>For a highly explosive gas modeled by the JWL equation of state,

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img19.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img20.png" class="math-display" align="top">   is the speed of sound.

     <p>are defined in <a href="#LiquidModel">LiquidModel</a> . 
(see <a href="#ReferenceState">ReferenceState</a>).

     <br></p></dd><dt><code>Dimensional</code></dt><dd>Input parameters and output solutions are in dimensional form. This is the default
and only mode available for problems involving a structural code or a steady-state sensitivity analysis. 
</dd></dl>

<p class="noindent"><var>prec-id</var> [<code>NonPreconditioned</code>]:

     </p><dl>
<dt><code>NonPreconditioned</code></dt><dd>The dissipation terms of the convective fluxes of the solution scheme are not preconditioned.

     <br></dd><dt><code>LowMach</code></dt><dd>The dissipation terms of 
the convective fluxes of the solution scheme are equipped with the 
low-Mach Turkel preconditioner. In this
case, if <code><a href="#Implicit">Implicit</a>.MatrixVectorProduct</code> is set to <code>Exact</code>, it is automatically reset to <code>Approximate</code>. For
steady-state calculations, the inertia (or pseudo-time-derivative) terms can also be preconditioned (see <a href="#Preconditioner">Preconditioner</a>)
if desired by making the request in the <code>Time</code> object (see <a href="#Time">Time</a>). 
</dd></dl>

<p class="noindent"><var>framework-id</var> [<code>BodyFitted</code>]:
     </p><dl>
<dt><code>BodyFitted</code></dt><dd>In this case, the CFD grid must be 
body-fitted and the governing fluid equations are formulated in the 
Arbitrary Lagrangian Eulerian setting which can handle both static 
(fixed) and dynamic (moving and deforming) grids. 
<br></dd><dt><code>Embedded</code></dt><dd>In this case, the obstacle 
must be embedded in the CFD grid, and the fluid equations are formulated
 in the Eulerian setting and solved by an embedded boundary method for 
CFD. 
<br></dd><dt><code>EmbeddedALE</code></dt><dd>In this case, the obstacle
 must be embedded in the CFD grid, and the fluid equations are 
formulated in the Arbitrary Lagrangian Eulerian (ALE) setting but solved
 by an ALE embedded boundary method for CFD. 
</dd></dl>

<p class="noindent"><var>solvefluid-flag</var> [<code>On</code>]:

</p><p>This flag is only relevant for nonlinear problems.
     </p><dl>
<dt><code>On</code></dt><dd>In this case, the specified simulation is carried out as usual. 
<br></dd><dt><code>Off</code></dt><dd>In this case, only the component 
of the simulation associated with the ALE mesh motion/deformation or 
motion/deformation of embedded surfaces is carried out,
and therefore the flow solution is skipped. This option is useful only 
for verifying, assessing, or debugging the mesh motion strategy and/or 
algorithm chosen in <a href="#MeshMotion">MeshMotion</a>
and the dynamics of embedded surfaces when <var>framework-id</var> = <code>Embedded</code> or <code>EmbeddedALE</code>. 
</dd></dl>

<p>Notes:
     </p><ol start="1" type="1">
<li>if a fluid is modeled as a stiffened gas, the flow computation must be performed in dimensional mode (<var>mode-id</var> = <code>Dimensional</code>);
</li><li>explicit time-integration is not recommended for low-Mach flows for computational efficiency reasons;
</li><li>the <code>Embedded</code> and <code>EmbeddedALE</code> frameworks are operational only if <b>AERO-F</b> was compiled and linked with the <b>PhysBAM-Lite</b> library.
     </li></ol>
<!--  -->
<!-- Input object -->
<!--  -->

<div class="node">
<a name="Input"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#g_t1DGrid">1DGrid</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Problem">Problem</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.2 DEFINING THE INPUT FILES</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Input</b>
</td></tr></tbody></table>

</p><p>The several input files that are required by <b>AERO-F</b> are specified
within the <code>Input</code> object. Its syntax is:

</p><pre class="example">     under Input {
       Prefix = <var>prefix-str</var>;
       Connectivity = <var>connectivity-str</var>;
       Geometry = <var>geometry-str</var>;
       Decomposition = <var>decomposition-str</var>;
       CpuMap = <var>cpumap-str</var>;
       Matcher = <var>matcher-str</var>;
       EmbeddedSurface = <var>embeddedsurface-str</var>;
       WallDistance = <var>walldistance-str</var>;
       GeometryPrefix = <var>geometryprefix-str</var>;
       StrModes    =  <var>strmodes-str</var>;
       InitialWallDisplacement = <var>iniwalldisp-str</var>;
       ShapeDerivative = <var>shapederivative-str</var>;
       PressureKirchhoff = <var>pressurekirchhoff-str</var>;
       FilePackage = <var>filepackage-str</var>;
       RestartData = <var>restartdata-str</var>;
       Solution = <var>solution-str</var>;
       Levelset = <var>levelset-str</var>;
       FluidID =  <var>fluidid-str</var>;
       Position = <var>position-str</var>;
       EmbeddedPosition = <var>embeddedposition-str</var>;
       Cracking = <var>cracking-str</var>;
       Perturbed = <var>perturbsolution-str</var>;
       PODData = <var>poddata-str</var>;
       under 1DRestartData { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>prefix-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>String that is prefixed to all input file names. For example, if <var>prefix-str</var>
is set to <code>"data/"</code> and <var>connectivity-str</var> is set to <code>"wing.con"</code>,
<b>AERO-F</b> looks for a connectivity file named <code>"data/wing.con"</code>. 
</dd></dl>

<p class="noindent"><var>connectivity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary connectivity file produced by the SOWER program. 
</dd></dl>

<p class="noindent"><var>geometry-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary geometry file produced by the SOWER program. However if <code><a href="#Problem">Problem</a>.Type</code> = <code>1D</code>,
this becomes the name of the ASCII file storing a one-dimensional grid in the following format:
     <pre class="format"><code>
     number_of_nodes_in_the_grid
     distance_of_node_1_to_the_center_of_the_sphere
     distance_of_node_2_to_the_center_of_the_sphere
     .
     .
     .
     distance_of_last_node_to_the_center_of_the_sphere
     </code>
</pre>
     </dd></dl>

<p class="noindent"><var>decomposition-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary decomposition file produced by the SOWER program. 
</dd></dl>

<p class="noindent"><var>cpumap-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII CPU map file produced by the SOWER program. 
</dd></dl>

<p class="noindent"><var>matcher-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary matcher file produced by the MATCHER program
(required for simulations involving a structural code). 
</dd></dl>

<p class="noindent"><var>embeddedsurface-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file describing in the <b>XPost</b> 
format a discrete representation of a surface to be embedded in the
CFD grid, and around/or within which the flow is to be computed. The 
embedded discrete surface must be made of 3-noded triangles,
and/or 4-noded quadrilaterals. If it is closed, its elements must be 
defined such that their normals are outward to the medium
they enclose. 
</dd></dl>

<p class="noindent"><var>walldistance-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary distance-to-the-wall file. This file is required
for turbulent flow simulations performed with the one-equation
Spalart-Allmaras turbulence model or the DES method (see <a href="#TurbulenceModel">TurbulenceModel</a>). This
file contains for every mesh point its distance to the closest solid
wall. This distance is used in the Spalart-Allmaras turbulence model
in order to provide the correct asymptotic behavior of the turbulence
variable in the near wall regions. The ASCII <b>XPost</b> version of
this file is always produced when the software CD2TET is
used. The conversion into binary format can be performed with the
SOWER software (see <a href="#Hints_005fand_005ftips">Hints_and_tips</a>). 
</dd></dl>

<p class="noindent"><var>geometryprefix-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>This entry specifies the prefix name for all of the files 
describing the connectivity, geometry, decomposition, CPU map, 
distance-to-the-wall
(when the Spalart-Allmaras turbulence model or the DES method is 
employed) generated by <b>SOWER</b> for a given fluid mesh. 
Hence, specifying <var>geometryprefix-str</var> is equivalent (and therefore an alternative) to specifying all of
<var>connectivity-str</var>, <var>geometry-str</var>, <var>decomposition-str</var>, <var>cpumap-str</var>, and <var>walldistance-str</var> (when applicable). If any one
of these members is specified simultaneously with <var>geometryprefix-str</var>, its value takes precedence over that implied by <var>geometryprefix-str</var>. 
</dd></dl>

<p class="noindent"><var>strmodes-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file containing the initial position of the fluid mesh, a set of natural structural frequencies, and the
set of fluid mesh positions compatible with the corresponding set of natural structural modes. This information is required here
if the computation and output of the corresponding generalized forces is requested in the object <code>Postpro</code> (see <a href="#Postpro">Postpro</a>). 
</dd></dl>

<p class="noindent"><var>iniwalldisp-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file containing an initial displacement of the wall boundary of the CFD mesh, relative to its
undeformed position. In this case, <b>AERO-F</b> automatically updates the position of the interior nodes of the CFD mesh accordingly,
before any flow computation is performed. For this reason, a mesh motion scheme (see <a href="#MeshMotion">MeshMotion</a>) must also be specified in the ASCII Input Command Data file. 
If both members <code>Input.Position</code> and <code>Input.InitialWallDisplacement</code> are specified in this file,
then <code>Input.InitialWallDisplacement</code> member is ignored. 
</dd></dl>

<p class="noindent"><var>shapederivative-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>
          <ul>
<li>If the simulation is performed using the body-fitted framework (<code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>), this member specifies
the name of the <i>binary</i> file containing   <img src="Aerof3d_files/img21.png" class="math-display" align="top">  , the derivatives of the <i>CFD mesh position</i>   <img src="Aerof3d_files/img22.png" class="math-display" align="top">   with respect to a number of
shape design variables   <img src="Aerof3d_files/img23.png" class="math-display" align="top">   at the fluid/structure boundary   <img src="Aerof3d_files/img24.png" class="math-display" align="top">   (see <a href="#SensitivityAnalysis">SensitivityAnalysis</a> and <a href="#Sensitivities">Sensitivities</a>). In this case, this information is generated as follows. 
First, the following <b>XPost</b>-type ASCII file is created. This file starts with an <b>XPost</b>-like header (see below), followed by the total
number of grid points in the CFD mesh (and not the number of fluid grid points on the fluid/structure interface). 
Next, the information   <img src="Aerof3d_files/img25.png" class="math-display" align="top">   is specified in this ASCII file
for each shape design parameter   <img src="Aerof3d_files/img23.png" class="math-display" align="top">  , one parameter at a time, in block form. First, the index   <img src="Aerof3d_files/img26.png" class="math-display" align="top">   of   <img src="Aerof3d_files/img23.png" class="math-display" align="top">   is
specified on a separate line starting from   <img src="Aerof3d_files/img27.png" class="math-display" align="top">   (zero). Then, all grid points
of the CFD mesh are considered in the same ordering as that adopted in the corresponding <b>XPost</b> geometry file. 
On each line corresponding to grid point   <img src="Aerof3d_files/img28.png" class="math-display" align="top">  , the derivatives   <img src="Aerof3d_files/img29.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img30.png" class="math-display" align="top">  , and   <img src="Aerof3d_files/img31.png" class="math-display" align="top"> 

(where   <img src="Aerof3d_files/img32.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img33.png" class="math-display" align="top">  , and   <img src="Aerof3d_files/img34.png" class="math-display" align="top">   denote the coordinates of the grid point   <img src="Aerof3d_files/img28.png" class="math-display" align="top">  ) are provided. If the grid point   <img src="Aerof3d_files/img28.png" class="math-display" align="top">   is an “interior”
point, these derivatives are set to zero. An example of the ASCII file described above is given below.

          <pre class="format"><code>
          Vector &lt;file name&gt; under load for FluidNodes
          &lt;vector size = total number of grid points in the CFD mesh&gt;
          0
          0.000000 0.000000 0.000000
              .        .        .
              .        .        .
              .        .        .
          dx_i/ds_0  dy_i/ds_0  dz_i/ds_0
              .        .        .
              .        .        .
              .        .        .
          0.000000 0.000000 0.000000
          1
          0.000000 0.000000 0.000000
              .        .        .
              .        .        .
              .        .        .
          dx_i/ds_1  dy_i/ds_1  dz_i/ds_1
              .        .        .
              .        .        .
              .        .        .
          0.000000 0.000000 0.000000
          2
          0.000000 0.000000 0.000000
              .        .        .
              .        .        .
              .        .        .
          dx_i/ds_2  dy_i/ds_2  dz_i/ds_2
              .        .        .
              .        .        .
              .        .        .
          
          </code>
</pre>
          <p>Finally, <b>SOWER</b> is applied to the ASCII file described above together with the mesh partition generated for the CFD mesh to obtain the <i>binary</i> distributed file <var>shapederivative-str</var>.

          </p></li><li>If however the simulation is performed using the embedded framework (<code><a href="#Problem">Problem</a>.Framework</code> = <code>Embedded</code>), this member specifies the name of the <i>ASCII</i> file containing
  <img src="Aerof3d_files/img21.png" class="math-display" align="top">  , the derivatives of the <i>embedded discrete surface position</i>   <img src="Aerof3d_files/img22.png" class="math-display" align="top">   with respect to a number of shape design variables   <img src="Aerof3d_files/img23.png" class="math-display" align="top">   (see <a href="#SensitivityAnalysis">SensitivityAnalysis</a> and <a href="#Sensitivities">Sensitivities</a>). 
This ASCII file starts with an <b>XPost</b>-like header (see below), followed by the number
of grid points defining the embedded discrete surface. Next, the information   <img src="Aerof3d_files/img25.png" class="math-display" align="top">   is inputted in this ASCII file for each shape design parameter   <img src="Aerof3d_files/img23.png" class="math-display" align="top">  , one parameter at a time, in block form. 
First, the index   <img src="Aerof3d_files/img26.png" class="math-display" align="top">   of   <img src="Aerof3d_files/img23.png" class="math-display" align="top">   is specified on a separate line starting from   <img src="Aerof3d_files/img27.png" class="math-display" align="top">
   (zero). Then, all grid points defining the embedded discrete surface 
are considered in the same ordering as that adopted in the
<b>XPost</b> geometry file of the embedded discrete surface. On each line corresponding to grid point   <img src="Aerof3d_files/img28.png" class="math-display" align="top">  , the derivatives   <img src="Aerof3d_files/img29.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img30.png" class="math-display" align="top">  , and   <img src="Aerof3d_files/img31.png" class="math-display" align="top"> 

(where   <img src="Aerof3d_files/img32.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img33.png" class="math-display" align="top">  , and   <img src="Aerof3d_files/img34.png" class="math-display" align="top">   denote the coordinates of the grid point   <img src="Aerof3d_files/img28.png" class="math-display" align="top">  ) are provided.

          <pre class="format"><code>
          Vector &lt;file name&gt; under load for EmbeddedSurfaceNodes
          &lt;vector size = total number of grid points on the embedded discrete surface&gt;
          0
          0.000000 0.000000 0.000000
              .        .        .
              .        .        .
              .        .        .
          dx_i/ds_0  dy_i/ds_0  dz_i/ds_0
              .        .        .
              .        .        .
              .        .        .
          0.000000 0.000000 0.000000
          1
          0.000000 0.000000 0.000000
              .        .        .
              .        .        .
              .        .        .
          dx_i/ds_1  dy_i/ds_1  dz_i/ds_1
              .        .        .
              .        .        .
              .        .        .
          0.000000 0.000000 0.000000
          2
          0.000000 0.000000 0.000000
              .        .        .
              .        .        .
              .        .        .
          dx_i/ds_2  dy_i/ds_2  dz_i/ds_2
              .        .        .
              .        .        .
              .        .        .
          
          </code>
</pre>
          </li></ul>
     </dd></dl>

<p class="noindent"><var>pressurekirchhoff-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file containing the traces on a 
user-defined internal "Kirchhoff" surface of a time-history of an 
unsteady pressure field computed during a previous
<b>AERO-F</b> simulation. This input file is required for performing an aeroacoustic analysis in the frequency-domain (see <code><a href="#Problem">Problem</a>.Type = Aeroacoustic</code>). 
</dd></dl>

<p class="noindent"><var>filepackage-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file obtained from a previous simulation from which <b>AERO-F</b> starts and containing the links to the restart files
<code>Solution</code>, <code>Position</code>, <code>LevelSet</code>, <code>FluidID</code>, <code>Cracking</code>, and <code>RestartData</code>. Hence, when restarting a simulation that has created restart data
for <code>Solution</code>, <code>Position</code>, <code>LevelSet</code>, <code>FluidID</code>, <code>Cracking</code>, and <code>RestartData</code>, this file can be specified in this object
in lieu of all of the <code>Solution</code>, <code>Position</code>, <code>LevelSet</code>, <code>FluidID</code>, <code>Cracking</code>, and <code>RestartData</code> files. 
</dd></dl>

<p class="noindent"><var>restartdata-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII restart file obtained from a previous simulation. This file
allows <b>AERO-F</b> to continue a simulation that was successfully
completed or was for some reason interrupted (see <a href="#Restart">Restart</a> and in particular
the variable <code>Restart.RestartData</code>). 
</dd></dl>

<p class="noindent"><var>solution-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary solution (i.e. conservative variables) file obtained from a previous
simulation from which <b>AERO-F</b> starts. If this file is not specified,
<b>AERO-F</b> starts from a uniform flow (see <a href="#Restart">Restart</a>) and in particular
the variable <code>Restart.Solution</code>). 
</dd></dl>

<p class="noindent"><var>levelset-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>This information is relevant only for multi-phase flow problems (see <a href="#MultiPhase">MultiPhase</a>). 
Name of the binary file obtained from a previous multi-phase flow simulation from which <b>AERO-F</b> starts
and containing the nodal level set values. If this file is not specified, <b>AERO-F</b> starts from the initial solution
specified in <a href="#InitialConditionsMultiPhase">InitialConditionsMultiPhase</a>. 
</dd></dl>

<p class="noindent"><var>fluidid-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>This information is relevant only for multi-phase flow problems (see <a href="#MultiPhase">MultiPhase</a>). 
Name of the binary file obtained from a previous multi-phase flow simulation from which <b>AERO-F</b> starts
and containing the nodal fluid ID values (see <a href="#Box">Box</a>, <a href="#Plane">Plane</a>, <a href="#Point">Point</a>, <a href="#Sphere">Sphere</a>, <a href="#VolumeData">VolumeData</a>). 
</dd></dl>

<p class="noindent"><var>position-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file containing the position (i.e. x,y,z
 node coordinates) of the mesh as outputted during a previous simulation
 and from which <b>AERO-F</b> is to start
(see <a href="#Restart">Restart</a> and in particular the variable <code>Restart.Position</code>). If this file is not specified, <b>AERO-F</b> starts from the mesh position stored in <var>geometry-str</var>. 
</dd></dl>

<p class="noindent"><var>embeddedposition-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file containing the position (i.e. x,y,z 
node coordinates) of the embedded discrete surface as outputted during a
 previous
simulation and from which <b>AERO-F</b> is to start (see <a href="#Restart">Restart</a> and in particular the variable <code>Restart.EmbeddedPosition</code>). 
If this file is not specified, <b>AERO-F</b> starts from the position of the embedded discrete surface stored in <var>embeddedsurface-str</var>. 
</dd></dl>

<p class="noindent"><var>cracking-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file obtained from a previous simulation
 and containing information about cracking in a fluid-structure 
computation involving cracking of the structure. It can be specified
only when using <b>AERO-F</b>'s embedded boundary method for CFD — that is, the computational framework is set to <code>Embedded</code> in <code><a href="#Problem">Problem</a>.Framework</code>. 
</dd></dl>

<p class="noindent"><var>perturbsolution-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file containing a perturbed flow 
solution needed for linearized flow calculations. This file can be 
generated,
for example, by running <b>AERO-F</b> or <b>AERO-S</b> with
one perturbed parameter. For full-order calculations, this parameter can
 be
any reasonable input parameter. For reduced-order computations, only a 
parameter
such as the displacement of the body which pertains to the sources of 
excitations used to construct the ROM should be considered. AERO-FL
computes the initial perturbation in the flow as the difference between 
this flow solution and
the equilibrium flow solution that must be specified in <code>Input.Solution</code> (see <a href="#Input">Input</a>). 
If this file is not specified, the initial perturbation is set to 0. 
</dd></dl>

<p class="noindent"><var>poddata-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Except when <code><a href="#Problem">Problem</a>.Type</code> = <code>PODInterpolation</code> or <code><a href="#Problem">Problem</a>.Type</code> = <code>ROBInnerProduct</code>,
this is the name of the binary file containing a set of POD basis vectors
that could have been generated by AERO-FL (see <a href="#Linearized">Linearized</a>) in a previous run where
the <code><a href="#Problem">Problem</a>.Type</code> was set to <code>PODConstruction</code>. When <code><a href="#Problem">Problem</a>.Type</code> = <code>PODInterpolation</code>,
<var>poddata-str</var> is the name of the text file specifying the 
number of precomputed POD bases to be interpolated, the names of the 
binary files containing each one of these bases,
their respective Mach numbers and angles of attack, and the Mach number 
and angle of attack at which interpolation is desired. 
The format of this text file is examplified below.

     <p>Example:
     </p><pre class="format"><code>
     3
     PODData.d/podVecs4.freq0.499.2_4.df5e3.30snap.100pod
     PODData.d/podVecs4.freq0.520.2_6.df5e3.30snap.100pod
     PODData.d/podVecs4.freq0.700.2_5.df5e3.30snap.100pod
     0.499  0.520  0.700
     0.550
     2.4 2.6 2.5
     2.45
     </code>
</pre>
     <!-- End Example -->
     <p>The first line specifies the number of precomputed POD bases to 
be interpolated. Each of the following three lines
specifies the path and name of the file containing a precomputed POD 
basis to be interpolated. The following line specifies
the three Mach numbers at which the POD bases to be interpolated are 
precomputed, in the order in which these bases are specified. 
The next line specifies the interpolation Mach number. The following 
line specifies the three angles of attack
at which the POD bases to be interpolated are precomputed, in the order 
in which these bases are specified. 
The last line specifies the interpolation angle of attack. When <code><a href="#Problem">Problem</a>.Type</code> = <code>ROBInnerProduct</code>, <var>poddata-str</var> is the name of
the text file specifying the number of precomputed Reduced-Order Bases (ROBs) whose inner products are to be computed when <code><a href="#Problem">Problem</a>.Type</code> = <code>ROBInnerproduct</code>,
the maximum number of these ROBs to be loaded into memory at a time, and
 the names of the binary files containing each one of these ROBs. 
The format of this text file is examplified below.

     </p><p>Example:
     </p><pre class="format">     <var>numFiles-int</var> <var>maxLoadFiles-int</var>
     <var>ROB1File-str</var>
     <var>ROB2File-str</var><code>
     ...
     </code>
</pre>
     <!-- End Example -->
     <p>where <var>numFiles-int</var> denotes the number of ROB files listed starting on the second line of the file <var>poddata-str</var>,
<var>maxLoadFiles-int</var> denotes the maximum number of ROB files to be loaded in memory at a time, <var>ROB1File-str</var> is the (path and) name of the file
containing the first ROB, <var>ROB2File-str</var> the (path and) name of the file containing the second ROB, etc. 
</p></dd></dl>

<p class="noindent"><code>1DRestartData</code>:
     </p><dl>
<dt></dt><dd>Allows the local initialization of a three-dimensional flow computation with the results of a spherically
symmetric one-dimensional unsteady two-phase flow <i>explicit</i> computation. 
</dd></dl>

<p>Notes:
     </p><ol start="1" type="1">
<li>as mentioned in the SOWER manual, there is no need to specify
the ending number for the binary files;
</li><li>if the name of the input files <code>Solution</code>, <code>Position</code>, <code>RestartData</code>, or <code>1DRestartData</code> starts by a slash (<code>/</code>), the variable <code>Prefix</code>
is not used for these files.
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#g_t1DRestartData">1DRestartData</a>
</li></ul>
<!--  -->
<!-- 1DRestartData object -->
<!--  -->

<div class="node">
<a name="g_t1DRestartData"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#Input">Input</a>

</div>

<h4 class="subsection">4.2.1 INITIALIZING A 3D SIMULATION LOCALLY WITH 1D SPHERICALLY SYMMETRIC DATA</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>1DRestartData</b>
</td></tr></tbody></table>

</p><p>The <code>1DRestartData</code> object initializes a three-dimensional, <i>dimensional</i> flow computation locally with the results of a
spherically symmetric one-dimensional, unsteady, dimensional single-phase or two-phase flow <i>explicit</i> computation identified by a simulation
tag <var>1Dsimulation-id-int</var>.

</p><p>The syntax of this object is:

</p><pre class="example">     under 1DRestartData[<var>1Dsimulation-id-int</var>] {
       File =  <var>file-str</var>;
       X0 = <var>x0-real</var>;
       Y0 = <var>y0-real</var>;
       Z0 = <var>z0-real</var>;
       under FluidIDMap{ ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>file-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file containing the results of a previously performed spherically symmetric one-dimensional
unsteady single-phase or two-phase <i>explicit</i> flow computation. It is generated by the aforementioned previously performed simulation and outputted
using <code><a href="#Restart">Restart</a>.Solution</code>. It is also subject to <code><a href="#Restart">Restart</a>.Prefix</code>. 
</dd></dl>

<p class="noindent"><var>x0-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>x-coordinate of the center of the spherical region where 
the flow is to be initialized by the spherically symmetric results 
stored in <var>file-str</var>. 
</dd></dl>

<p class="noindent"><var>y0-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>y-coordinate of the center of the spherical region where 
the flow is to be initialized by the spherically symmetric results 
stored in <var>file-str</var>. 
</dd></dl>

<p class="noindent"><var>z0-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>z-coordinate of the center of the spherical region where 
the flow is to be initialized by the spherically symmetric results 
stored in <var>file-str</var>. 
</dd></dl>

<p class="noindent"><code>FluidIDMap</code>:
     </p><dl>
This object can be used to map the fluid identification integers of a one-dimensional two-phase flow simulation to
those of the three-dimensional flow computation locally initialized by the results of that one-dimensional simulation. 
</dl>

<p>Note:
     </p><ol start="1" type="1">
<li>when re-starting a simulation whose input file contained this 
object, the re-start input file should also contain (again) this object:
 in this case,
this object will not be used to initialize the fluid state vector which 
instead will be initialized by the <a href="#Restart">Restart</a> object, but to provide
<b>AERO-F</b> with the information necessary for recognizing a two-phase simulation;
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#FluidIDMap">FluidIDMap</a>
</li></ul>
<!--  -->
<!-- FluidIDMap object -->
<!--  -->

<div class="node">
<a name="FluidIDMap"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#g_t1DRestartData">1DRestartData</a>

</div>

<h5 class="subsubsection">4.2.1.1 MAPPING A SET OF FLUID IDENTIFICATION TAGS TO ANOTHER ONE</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>FluidIDMap</b>
</td></tr></tbody></table>
The <code>FluidIDMap</code> object can be used to map the fluid identification integers of a one-dimensional two-phase flow simulation identified by
its simulation tag <var>1Dsimulation-id-int</var> to those of the three-dimensional flow computation locally initialized by the results of that one-dimensional simulation.

</p><p>The syntax of this object is:

</p><pre class="example">     under FluidIDMap[<var>FluidIDDonor-int</var>] {
       FluidIDReceptor =  <var>fluidIDreceptor-int</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>fluidIDreceptor</var> [—]:
     </p><dl>
<dt></dt><dd>Integer identifying the fluid medium to be initialized using data from the fluid medium identified in the spherically
symmetric one-dimensional two-phase flow simulation by the integer <var>FluidIDDonor-int</var>. 
</dd></dl>
<!--  -->
<!-- 1DGrid object -->
<!--  -->

<div class="node">
<a name="g_t1DGrid"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Output">Output</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Input">Input</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.3 GENERATING A ONE-DIMENSIONAL SPHERICALLY SYMMETRIC GRID</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>1DGrid</b>
</td></tr></tbody></table>
The <code>1DGrid</code> object allows the user to generate in <b>AERO-F</b> a uniform, one-dimensional grid for a spherically
or cylindrically symmetric, multi-phase, <i>dimensional</i> problem instead of inputting it in <code><a href="#Input">Input</a>.Geometry</code>, and specify
the coordinate system in which
to solve this problem. The first point of this grid is always located at the origin of the
coordinate system. Using <a href="#g_t1DRestartData">1DRestartData</a>, the flow results obtained on this grid can be applied in a spherical region
of a three-dimensional domain centered at an arbitrary point.

</p><p>The syntax of this object is:

</p><pre class="example">     under 1DGrid {
       NumberOfPoints =  <var>numberofpoints-int</var>;
       Radius         =  <var>radius-real</var>;
       Coordinates    =  <var>coordinates-id</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>numberofpoints</var> [0]:
     </p><dl>
<dt></dt><dd>Number of grid points to be generated. 
</dd></dl>

<p class="noindent"><var>radius-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>radius of the spherical region to be represented by a one-dimensional grid. 
</dd></dl>

<p class="noindent"><var>coordinates-id</var> [<code>Spherical</code>]:
     </p><dl>
<dt><code>Spherical</code></dt><dd>In this case, the spherically symmetric one-dimensional multi-phase flow problem is solved in spherical coordinates. 
<br></dd><dt><code>Cylindrical</code></dt><dd>In this case, the cylindrically symmetric one-dimensional multi-phase flow problem is solved in cylindrical coordinates. 
<br></dd><dt><code>Cartesian</code></dt><dd>In this case, the 
spherically or cylindrically symmetric one-dimensional multi-phase flow 
problem is solved in Cartesian coordinates. 
</dd></dl>
<!--  -->
<!-- Output object -->
<!--  -->

<div class="node">
<a name="Output"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Surfaces">Surfaces</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#g_t1DGrid">1DGrid</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.4 DEFINING THE OUTPUT FILE</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Output</b>
</td></tr></tbody></table>

</p><p>The <code>Output</code> object mainly defines the name of the files used for
post-processing (see the SOWER manual) and restart purposes. 
The output information requested by the object <code>Probes</code> is typically generated
in an ASCII format. That requested by all other objects within the <code>Output</code> object is almost always generated
in a binary format; therefore, its exploitation requires post-processing by <b>SOWER</b>
(see SOWER's User's Reference Manual).

</p><p>The syntax of this object is:

</p><pre class="example">     under Output {
       under Postpro { ... }
       under Probes { ... }
       under Restart { ... }
     }
</pre>
<p class="noindent"><code>Postpro</code>:
     </p><dl>
<dt></dt><dd>Specifies the computational results to output. 
</dd></dl>

<p class="noindent"><code>Probes</code>:
     </p><dl>
<dt></dt><dd>Specifies data to output at <i>every time-step</i> of an <b>AERO-F</b> computation in the time-domain, or <i>every sampled frequency</i> of an <b>AERO-F</b> computation in the frequency-domain. 
</dd></dl>

<p class="noindent"><code>Restart</code>:
     </p><dl>
<dt></dt><dd>Specifies the data to be saved for possible restart later. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#Postpro">Postpro</a>
</li><li><a accesskey="2" href="#Probes">Probes</a>
</li><li><a accesskey="3" href="#Restart">Restart</a>
</li></ul>
<!--  -->
<!-- Postpro object -->
<!--  -->

<div class="node">
<a name="Postpro"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Probes">Probes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Output">Output</a>

</div>

<h4 class="subsection">4.4.1 EXPLOITING THE COMPUTATIONAL RESULTS</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Postpro</b>
</td></tr></tbody></table>

</p><p>The syntax of the <code>Postpro</code> object is:

</p><pre class="example">     under Postpro {
       Prefix = <var>prefix-str</var>;
       Frequency = <var>frequency-int</var>;
       Density = <var>density-str</var>;
       TavDensity = <var>tavdensity-str</var>;
       Mach = <var>mach-str</var>;
       TavMach = <var>tavmach-str</var>;
       HWTMach  = <var>hwtmach-str</var>;
       Pressure = <var>pressure-str</var>;
       TavPressure = <var>tavpressure-str</var>;
       DeltaPressure = <var>deltapressure-str</var>;
       HydroStaticPressure = <var>hydrostaticpressure-str</var>;
       HydrodynamicPressure = <var>hydrodynamicpressure-str</var>;
       Temperature = <var>temperature-str</var>;
       TavTemperature = <var>tavtemperature-str</var>;
       TemperatureNormalDerivative = <var>tempnormder-str</var>;
       HeatFluxPerUnitSurface = <var>heatfluxus-str</var>;
       HeatFlux = <var>heatflux-str</var>;
       TotalPressure = <var>totalpressure-str</var>;
       TavTotalPressure = <var>tavtotalpressure-str</var>;
       LiftandDrag = <var>liftanddrag-str</var>;
       TavLiftandDrag = <var>tavliftanddrag-str</var>;
       Vorticity = <var>vorticity-str</var>;
       TavVorticity = <var>tavvorticity-str</var>;
       NuTilde = <var>nutilde-str</var>;
       K = <var>k-str</var>;
       Eps = <var>eps-str</var>;
       EddyViscosity = <var>eddyviscosity-str</var>;
       DeltaPlus = <var>deltaplus-str</var>;
       CsDLES    = <var>csdles-str</var>;
       TavCsDLES = <var>tavcsdles-str</var>;
       CsDVMS    = <var>csdvms-str</var>;
       TavCsDVMS = <var>tavcsdvms-str</var>;
       MutOverMu = <var>mutomu-str</var>;
       SkinFriction = <var>skinfriction-str</var>;
       TavSkinFriction = <var>tavskinfriction-str</var>;
       Velocity = <var>velocity-str</var>;
       TavVelocity = <var>tavvelocity-str</var>;
       VelocityMagnitude =  <var>velocitymagnitude-str</var>;
       HWTVelocityMagnitude =  <var>hwtvelocitymagnitude-str</var>;
       Displacement = <var>displacement-str</var>;
       ModalDisplacement = <var>modaldisplacement-str</var>;
       GeneralizedDisplacement = <var>generalizeddisplacement-str</var>;
       TavDisplacement = <var>tavdisplacement-str</var>;
       FlightDisplacement = <var>fldisplacement-str</var>;
       LocalFlightDisplacement = <var>lfldisplacement-str</var>;
       Force = <var>force-str</var>;
       GeneralizedForce = <var>generalizedforce-str</var>;
       TavForce = <var>tavforce-str</var>;
       HydroStaticForce = <var>hydrostaticforce-str</var>;
       HydroDynamicForce = <var>hydrodynamicforce-str</var>;
       Residual = <var>residual-str</var>;
       TimeInterval = <var>timeinterval-real</var>;
       Length = <var>length-real</var>;
       Surface = <var>surface-real</var>;
       XM = <var>xm-real</var>;
       YM = <var>ym-real</var>;
       ZM = <var>zm-real</var>;
       PODData = <var>poddata-str</var>;
       ROBInnerProduct = <var>robinnerproduct-str</var>;
       AeroelasticEigenvalues = <var>aeroelasticeigenvalues-str</var>;
       ROM =  <var>rom-str</var>;
       ROMInitialCondition = <var>rominitialcondition-str</var>;
       Philevel = <var>philevel-str</var>;
       FluidID = <var>fluidID-str</var>;
       StateVector = <var>statevector-str</var>;
       StateVectorSensitivity      = <var>statevectorsensitivity-str</var>;
       DensitySensitivity = <var>densitysensitivity-str</var>;
       MachSensitivity = <var>machsensitivity-str</var>;
       TemperatureSensitivity = <var>temperatursensitivity-str</var>;
       PressureSensitivity = <var>pressuresensitivity-str</var>;
       TotalPressureSensitivity = <var>totalpressuresensitivity-str</var>;
       VelocitySensitivity = <var>velocitysensitivity-str</var>;
       DisplacementSensitivity = <var>displacementsensitivity-str</var>;
       ForceSensitivity = <var>forcesensitivity-str</var>;
       LiftandDragSensitivity = <var>liftanddragsensitivity-str</var>;
       GAMData = <var>gamdata-str</var>;
       GAMFData = <var>gamfdata-str</var>;
       SparseGrid = <var>sparsegrid-str</var>;
       MaterialVolumes = <var>matvols-str</var>;
       BubbleRadius = <var>bubbleradius-str</var>;
       CPUTiming = <var>cputiming-str</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>prefix-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>String that is prefixed to all post-processing file names. 
</dd></dl>

<p class="noindent"><var>frequency-int</var> [<code>0</code>]:
     </p><dl>
<dt></dt><dd>The frequency (every so many time-iteration) at which the output files are
written. If the frequency is set to zero, the output files are only written at
the last time-iteration. When the frequency is set to a nonzero value, the output
files are also written at the last time-iteration. 
</dd></dl>

<p class="noindent"><var>density-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal density values. 
</dd></dl>

<p class="noindent"><var>tavdensity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
time-averaged nodal density values (useful particularly in LES 
simulations). 
</dd></dl>

<p class="noindent"><var>mach-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal Mach number values. 
</dd></dl>

<p class="noindent"><var>hwtmach-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal “hybrid wind tunnel” (see <a href="#Accelerated">Accelerated</a> and Figure HWT)
Mach number values (relevant only for accelerated or decelerated flow simulations). 
The hybrid wind tunnel Mach number is defined as the Mach number based on the difference between the
local velocity and the ALE (moving) grid velocity — that is, the relative Mach number with respect to the ALE frame. 
</dd></dl>

<p class="noindent"><var>tavmach-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
time-averaged nodal Mach number values (useful particularly in LES 
simulations). 
</dd></dl>

<p class="noindent"><var>pressure-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal pressure values. If <var>gravity-real</var> and <var>depth-real</var> have nonzero values (see <a href="#Hydro">Hydro</a>),
then the pressure values are the sum of the hydrostatic and hydrodynamic pressure values. 
</dd></dl>

<p class="noindent"><var>pressurecoefficient-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal pressure coefficient values. 
These are defined in <b>AERO-F</b> only when the fluid is modeled as a perfect gas. 
If for some reason <var>gravity-real</var> and <var>depth-real</var> have
nonzero values (see <a href="#Hydro">Hydro</a>), then the pressure values used for this output are the sum of the hydrostatic
and hydrodynamic pressure values. 
</dd></dl>

<p class="noindent"><var>tavpressure-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
time-averaged nodal pressure values (useful particularly in LES 
simulations). 
</dd></dl>

<p class="noindent"><var>hydrostaticpressure-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>
Name of the binary file that contains the sequence of nodal hydrostatic pressure (  <img src="Aerof3d_files/img35.png" class="math-display" align="top">  ) values.

</dd></dl>

<p class="noindent"><var>hydrodynamicpressure-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal hydrodynamic pressure values. 
</dd></dl>

<p class="noindent"><var>deltapressure-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
pressure variations with respect to the free-stream pressure (useful 
particularly for Low-Mach simulations). 
</dd></dl>

<p class="noindent"><var>temperature-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal temperature values. 
</dd></dl>

<p class="noindent"><var>tavtemperature-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
time-averaged nodal temperature values (useful particularly in LES 
simulations). 
</dd></dl>

<p class="noindent"><var>tempnormder-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of temperature normal derivative (  <img src="Aerof3d_files/img36.png" class="math-display" align="top">  ) nodal values
for (moving) isothermal wall boundaries and zero elsewhere. 
</dd></dl>

<p class="noindent"><var>heatfluxus-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of heat flux per unit surface (  <img src="Aerof3d_files/img37.png" class="math-display" align="top">  ) nodal values
for (moving) isothermal wall boundaries and zero elsewhere. 
</dd></dl>

<p class="noindent"><var>heatflux-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains for all the time-steps:
          <ol start="1" type="1">
<li>the time-step number;
</li><li>the physical time;
</li><li>the subcycling factor;
</li><li>the number of Newton iterations;
</li><li>the heat flux exchanged through (moving) isothermal wall boundaries (  <img src="Aerof3d_files/img38.png" class="math-display" align="top">  ).
          </li></ol>
</dd></dl>

<p class="noindent"><var>totalpressure-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal total pressure values. 
</dd></dl>

<p class="noindent"><var>tavtotalpressure-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
time-averaged nodal total pressure values (useful particularly in LES 
simulations). 
</dd></dl>

<p class="noindent"><var>liftanddrag-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains for all the time-steps:
          <ol start="1" type="1">
<li>the time-step number;
</li><li>the physical time;
</li><li>the subcycling factor;
</li><li>the number of Newton iterations;
</li><li>the drag, which is the force in the direction parallel to the free-stream
velocity;
</li><li>the lift, which is defined here as the force in the direction orthogonal
to the vector defined by the sideslip angle in the x-y plane;
</li><li>the lift, which is defined here as the force in the direction orthogonal
to the vector defined by the
angle of attack in the x-z plane.
          </li></ol>
</dd></dl>

<p class="noindent"><var>tavliftanddrag-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains for all the time-steps:
          <ol start="1" type="1">
<li>the time-step number;
</li><li>the physical time;
</li><li>the subcycling factor;
</li><li>the number of Newton iterations;
</li><li>the time-averaged drag, which is the force in the direction parallel to
the free-stream velocity;
</li><li>the time-averaged lift, which is defined here as the force in the
direction orthogonal to the vector defined by the sideslip angle in the x-y plane;
</li><li>the time-averaged lift, which is defined here as the force in the
direction orthogonal to the vector defined by the
angle of attack in the x-z plane.
          </li></ol>
</dd></dl>

<p class="noindent"><var>vorticity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal vorticity values. 
</dd></dl>

<p class="noindent"><var>tavvorticity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
time-averaged nodal vorticity values (useful particularly for LES 
simulations). 
</dd></dl>

<p class="noindent"><var>nutilde-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>
Name of the binary file that contains the sequence of nodal   <img src="Aerof3d_files/img39.png" class="math-display" align="top"> 

(field variable in the Spalart-Allmaras turbulence model) values.

</dd></dl>

<p class="noindent"><var>k-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>

     <p>Name of the binary file that contains the sequence of nodal   <img src="Aerof3d_files/img40.png" class="math-display" align="top">   (turbulent kinetic energy in the   <img src="Aerof3d_files/img41.png" class="math-display" align="top">   model) values.

</p></dd></dl>

<p class="noindent"><var>eps-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal   <img src="Aerof3d_files/img42.png" class="math-display" align="top">   (turbulent kinetic energy dissipation rate in the
  <img src="Aerof3d_files/img41.png" class="math-display" align="top">   model) values.

</dd></dl>

<p class="noindent"><var>eddyviscosity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal eddy viscosity values. 
</dd></dl>

<p class="noindent"><var>deltaplus-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal non-dimensional
wall distance values (only available if a wall function is used, see <a href="#Wall">Wall</a>). 
</dd></dl>

<p class="noindent"><var>csdles-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>
Name of the binary file that contains the sequence of nodal values of the <em>dynamic</em> Smagorinski
coefficient   <img src="Aerof3d_files/img43.png" class="math-display" align="top">   computed during a dynamic LES simulation.

</dd></dl>

<p class="noindent"><var>tavcsdles-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>
Name of the binary file that contains the sequence of time-averaged nodal values of the <em>dynamic</em> Smagorinski
coefficient   <img src="Aerof3d_files/img43.png" class="math-display" align="top">   computed during a dynamic LES simulation.

</dd></dl>

<p class="noindent"><var>csdvms-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>
Name of the binary file that contains the sequence of nodal values of the <em>dynamic</em> Smagorinski
coefficient   <img src="Aerof3d_files/img44.png" class="math-display" align="top">   computed during a dynamic VMS-LES simulation.

</dd></dl>

<p class="noindent"><var>tavcsdvms-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>
Name of the binary file that contains the sequence of time-averaged nodal values of the <em>dynamic</em> Smagorinski
coefficient   <img src="Aerof3d_files/img44.png" class="math-display" align="top">   computed during a dynamic VMS-LES simulation.

</dd></dl>

<p class="noindent"><var>mutomu-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal values of the ratio of turbulent viscosity and molecular viscosity
(available for all turbulence simulations except VMS-LES). 
</dd></dl>

<p class="noindent"><var>skinfriction-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal values of the skin friction coefficient. 
</dd></dl>

<p class="noindent"><var>tavskinfriction-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of time-averaged nodal values of the skin friction coefficient. 
</dd></dl>

<p class="noindent"><var>velocity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal velocity vectors. 
</dd></dl>

<p class="noindent"><var>tavvelocity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
time-averaged nodal velocity vectors (useful particularly for LES 
simulations). 
</dd></dl>

<p class="noindent"><var>velocitymagnitude-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal
 velocity magnitudes (useful particularly for low-Mach multi-phase 
simulations). 
</dd></dl>

<p class="noindent"><var>hwtvelocitymagnitude-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal “hybrid wind tunnel” (see <a href="#Accelerated">Accelerated</a>
 and Figure HWT) velocity magnitudes
(relevant only for accelerated or decelerated flow simulations). The 
hybrid wind tunnel velocity magnitude is defined as the magnitude
of the difference between the velocity and the speed of the accelerating
 or decelerating moving grid — that is, the magnitude of the
relative velocity with respect to the ALE frame. 
</dd></dl>

<p class="noindent"><var>displacement-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal displacement vectors. 
</dd></dl>

<p class="noindent"><var>modaldisplacement-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains the sequence of modal 
displacements obtained during a linearized flow or aeroelastic 
computation. 
</dd></dl>

<p class="noindent"><var>generalizeddisplacement-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains the sequence of 
generalized displacements (generalized coordinates associated with a 
structural Reduced-Order Basis (ROB))
obtained during a linearized aeroelastic or aeroelastic ROM computation.
 
</dd></dl>

<p class="noindent"><var>tavdisplacement-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
time-averaged nodal displacement vectors (useful particularly in LES 
simulations). 
</dd></dl>

<p class="noindent"><var>fldisplacement-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>
Name of the binary file that contains the sequence of nodal flight 
displacement vectors. For accelerated flight and landing gear 
simulations,
the flight displacement is defined as the difference between the usual 
mesh displacement and the product   <img src="Aerof3d_files/img45.png" class="math-display" align="top"> 

where   <img src="Aerof3d_files/img46.png" class="math-display" align="top">   denotes time — that is, the displacement with respect to a frame moving at the free-stream velocity.

</dd></dl>

<p class="noindent"><var>lfldisplacement-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal local flight displacement vectors. For accelerated flight,
the local flight displacement is defined as the difference between the usual mesh displacement and the rigid body displacement
associated with the direction of acceleration — that is, the deformational component of the mesh displacement. 
For landing flight simulations, it is defined as the difference between the usual
mesh displacement and the rigid body displacement in rolling direction. 
</dd></dl>

<p class="noindent"><var>force-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains for all the time-steps:
          <ol start="1" type="1">
<li>the time-step number;
</li><li>the physical time;
</li><li>the subcycling factor;
</li><li>the number of Newton iterations;
</li><li>the force in the x-direction;
</li><li>the force in the y-direction;
</li><li>the force in the z-direction;
</li><li>the moment along the x-direction;
</li><li>the moment along the y-direction;
</li><li>the moment along the z-direction;
</li><li>the energy transferred to the structure.
          </li></ol>
Note: if <var>gravity-real</var> and <var>depth-real</var> have nonzero values (see <a href="#Hydro">Hydro</a>), then the force values are the sum of the hydrostatic and hydrodynamic force values. 
</dd></dl>

<p class="noindent"><var>generalizedforce-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file containing the generalized force(s) associated with the structural mode(s)
specified under the object <code>Input</code> (see <a href="#Input">Input</a>) or with the forced oscillation mode (which is not necessarily
a natural structural mode) specified or implied under the object <code>Forced</code> (see <a href="#Forced">Forced</a>), in the following format:
          <ol start="1" type="1">
<li>the time-step number;
</li><li>the physical time;
</li><li>the subcycling factor;
</li><li>the number of Newton iterations;
</li><li>the generalized force associated with the first input mode shape;
</li><li>the generalized force associated with the second input mode shape;
</li><li>... ;
</li><li>the generalized force associated with the last mode shape;
          </li></ol>
Note: when the simulation of a forced oscillation is specified under the object <code>Forced</code> (see <a href="#Forced">Forced</a>),
 a requested generalized
force computation is performed with respect to the forced oscillation 
“mode” (which is not necessarily a natural structural mode), unless
a set of natural structural modes are specified in <var>StrModes</var> under the object <code>Input</code> (see <a href="#Input">Input</a>), in which case the
generalized forces are computed with respect to these specified natural structural modes. 
</dd></dl>

<p class="noindent"><var>tavforce-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>(Useful particularly in LES simulations). Name of the ASCII file that contains for all the time-steps:
          <ol start="1" type="1">
<li>the time-step number;
</li><li>the physical time;
</li><li>the subcycling factor;
</li><li>the number of Newton iterations;
</li><li>the time-averaged force in the x-direction;
</li><li>the time-averaged force in the y-direction;
</li><li>the time-averaged force in the z-direction;
</li><li>the time-averaged moment along the x-direction;
</li><li>the time-averaged moment along the y-direction;
</li><li>the time-averaged moment along the z-direction;
</li><li>the time-averaged energy transferred to the structure.
          </li></ol>
</dd></dl>

<p class="noindent"><var>hydrostaticforce-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains the components of the hydrostatic force in the x-, y-, and z-directions. 
</dd></dl>

<p class="noindent"><var>hydrodynamicforce-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains for all the time-steps:
          <ol start="1" type="1">
<li>the time-step number;
</li><li>the physical time;
</li><li>the subcycling factor;
</li><li>the number of Newton iterations;
</li><li>the hydrodynamic force in the x-direction;
</li><li>the hydrodynamic force in the y-direction;
</li><li>the hydrodynamic force in the z-direction;
</li><li>the hydrodynamic moment along the x-direction;
</li><li>the hydrodynamic moment along the y-direction;
</li><li>the hydrodynamic moment along the z-direction;
</li><li>the hydrodynamic energy transferred to the structure.
          </li></ol>
</dd></dl>

<p class="noindent"><var>liftanddrag-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains for all the time-steps:
          <ol start="1" type="1">
<li>the time-step number;
</li><li>the physical time;
</li><li>the subcycling factor;
</li><li>the number of Newton iterations;
</li><li>the drag, which is the force in the direction parallel to the free-stream velocity;
</li><li>the lift, which is defined here as the force in the direction orthogonal to the vector defined by the
sideslip angle in the x-y plane;
</li><li>the lift, which is defined here as the force in the direction orthogonal to the vector defined by the
angle of attack in the x-z plane.
          </li></ol>
</dd></dl>

<p class="noindent"><var>residual-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains for all the time-steps:
          <ol start="1" type="1">
<li>the time-step number;
</li><li>the elapsed time;
</li><li>the relative nonlinear residual;
</li><li>the CFL number.
          </li></ol>
</dd></dl>

<p class="noindent"><var>timeinterval-real</var> [ ]:
     </p><dl>
<dt></dt><dd>This is an alternative option to <var>frequency-int</var> for specifying when to write
a result in an output file. Essentially, <var>timeinterval-real</var> is an output time-step
  <img src="Aerof3d_files/img47.png" class="math-display" align="top">   which controls the frequency at which the output files are written
as follows. Let   <img src="Aerof3d_files/img48.png" class="math-display" align="top">   be a positive integer set initially to 0, and incremented by 1
after each output time-iteration is reached. Then, output is performed at
each time-iteration   <img src="Aerof3d_files/img49.png" class="math-display" align="top">  . 
When <var>timeinterval-real</var> is specified to a strictly positive value, the output
files are always written at the last computed time-iteration. If both  <var>frequency-int</var>
and <var>timeinterval-real</var> are specified, <var>frequency-int</var> is ignored. 
</dd></dl>

<p class="noindent"><var>length-real</var> [<code>1.0</code>]:
     </p><dl>
<dt></dt><dd>Reference length used in the computation of the moment coefficients. 
</dd></dl>

<p class="noindent"><var>surface-real</var> [<code>1.0</code>]:
     </p><dl>
<dt></dt><dd>Reference surface used in the computation of the force and moment coefficients. 
</dd></dl>

<p class="noindent"><var>xm-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>x-coordinate of the point around which the moment coefficients are computed. 
</dd></dl>

<p class="noindent"><var>ym-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>y-coordinate of the point around which the moment coefficients are computed. 
</dd></dl>

<p class="noindent"><var>zm-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>z-coordinate of the point around which the moment coefficients are computed. 
</dd></dl>

<p class="noindent"><var>poddata-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file to contain the computed POD basis vectors which are always
output in non-dimensional form in order to be invariant with changes in altitude. 
</dd></dl>

<p class="noindent"><var>robinnerproduct-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file to contain the inner products computed between the Reduced-Order Bases (ROBs) specified in <code><a href="#Input">Input</a>.PODData</code> when
<code><a href="#Problem">Problem</a>.Type</code> = <code>ROBInnerProduct</code>. The format of this output file is examplified below.

     <p>Example:
     </p><pre class="format">     <var>ROB1Id-int</var>  <var>ROB2Id-int</var>
     <var>ROB1Id-1TimesROB2Id-1-real</var> <var>ROB1Id-1TimesROB2Id-2-real</var><code> ...
     </code><var>ROB1Id-2TimesROB2Id-1-real</var> <var>ROB1Id-2TimesROB2Id-2-real</var><code> ...
     ...
     </code><var>ROB2Id-int</var>  <var>ROB3Id-int</var>
     <var>ROB2Id-1TimesROB3Id-1-real</var> <var>ROB2Id-1TimesROB3Id-2-real</var><code> ...
     </code><var>ROB2Id-2TimesROB3Id-1-real</var> <var>ROB2Id-2TimesROB3Id-2-real</var><code> ...
     ...
     </code>
</pre>
     <!-- End Example -->
     <p>where <var>ROBiId-int</var>  and <var>ROBjId-int</var> identify the   <img src="Aerof3d_files/img28.png" class="math-display" align="top">  -th and   <img src="Aerof3d_files/img26.png" class="math-display" align="top">  -th ROBs in the file specified in <code><a href="#Input">Input</a>.PODData</code>, and
<var>ROBiId-kTimesROBjId-l-real</var> is the inner product   <img src="Aerof3d_files/img50.png" class="math-display" align="top">  , where   <img src="Aerof3d_files/img51.png" class="math-display" align="top">   is the matrix of cell volumes   <img src="Aerof3d_files/img2.png" class="math-display" align="top">   if
<code><a href="#Time">Time</a>.Form</code> = <code>Descriptor</code>, and   <img src="Aerof3d_files/img51.png" class="math-display" align="top">   is the identify matrix   <img src="Aerof3d_files/img4.png" class="math-display" align="top">   if <code><a href="#Time">Time</a>.Form</code> = <code>NonDescriptor</code>. 
</p></dd></dl>

<p class="noindent"><var>aeroelasticeigenvalues-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file to contain: (a) the set of complex 
eigenvalues and corresponding damping ratios computed for a linearized
aeroelastic system represented by a generalized aerodynamic force 
matrix, and (b) information about the convergence of the underlying
nonlinear iterative eigenvalue solver. The format of this output file is
 examplified below.

     <p>Example:
     </p><pre class="format"><code>
     ModeIDnumber RealPartEigenValue ImaginaryPartEigenValue DampingRatio ConvergenceToSpecifiedPrecision (1 = yes, 0 = no)
     </code><var>ModeId-1-int</var> <var>RealPartLambda-1-real</var> <var>ImaginaryPartLambda-1-real</var> <var>DampingRatio-1-real</var> <var>ConvergenceStatus-1-int</var>
     <var>ModeId-2-int</var> <var>RealPartLambda-2-real</var> <var>ImaginaryPartLambda-2-real</var> <var>DampingRatio-2-real</var> <var>ConvergenceStatus-2-int</var><code>
     ...
     </code>
</pre>
     <!-- End Example -->
     <p>where <var>ModeId-1-int</var> identifies the first aeroelastic eigen mode, <var>RealPartLambda-1-real</var> and <var>ImaginaryPartLambda-1-real</var> are the real and imaginary parts   <img src="Aerof3d_files/img52.png" class="math-display" align="top"> 

and   <img src="Aerof3d_files/img53.png" class="math-display" align="top">   of the first aeroelastic eigenvalue, respectively, <var>DampingRatio-1-real</var> denotes the first aeroelastic damping ratio   <img src="Aerof3d_files/img54.png" class="math-display" align="top">   defined as
 </p><center class="math-display"> <img src="Aerof3d_files/img55.png" class="math-display" align="top"> </center> 

and <var>ConvergenceStatus-1-int</var> specifies whether the iterative solution algorithm converged (1) or not (0) for the first mode. 
</dd></dl>

<p class="noindent"><var>rom-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of ASCII file where to output in the format described in Appendix B (see <a href="#ROM">ROM</a>) the matrices defining a fluid or aeroelastic ROM. 
</dd></dl>

<p class="noindent"><var>rominitialcondition-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of ASCII file where to output for the fluid or aeroelastic ROM outputted itself in <var>rom-str</var>, the initial condition defined in <a href="#Linearized">Linearized</a>.
 
The format of this file is as follows. The first line contains the 
dimension of the ROM. Each subsequent line contains the initial 
condition for the generalized
coordinate indexed by that line. 
</dd></dl>

<p class="noindent"><var>philevel-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal level set values. 
</dd></dl>

<p class="noindent"><var>fluidID-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal
 integer values identifying the fluid media covering these nodes (see <a href="#VolumeData">VolumeData</a> and <a href="#FluidModel">FluidModel</a>). 
</dd></dl>

<p class="noindent"><var>statevector-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of nodal
 fluid state vector values. These solution snapshots are always stored 
as non-dimensional quantities. 
In particular, they can be used to construct a POD basis (see <a href="#Problem">Problem</a>). 
</dd></dl>

<p class="noindent"><var>statevectorsensitivity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of the 
sensitivities of the nodal fluid state vector values with respect
to the specified variables. This output result is available only when 
the direct method is chosen for performing the sensitivity analysis (<code><a href="#SensitivityAnalysis">SensitivityAnalysis</a>.Method</code> = <code>Direct</code>). 
</dd></dl>

<p class="noindent"><var>densitysensitivity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
sensitivities of nodal density values with respect to specified 
variables. 
This output result is available only when the direct method is chosen 
for performing the sensitivity analysis (<code><a href="#SensitivityAnalysis">SensitivityAnalysis</a>.Method</code> = <code>Direct</code>). 
</dd></dl>

<p class="noindent"><var>machsensitivity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
sensitivities of nodal Mach number values with respect to specified 
variables. 
This output result is available only when the direct method is chosen 
for performing the sensitivity analysis (<code><a href="#SensitivityAnalysis">SensitivityAnalysis</a>.Method</code> = <code>Direct</code>). 
</dd></dl>

<p class="noindent"><var>temperaturesensitivity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
sensitivities of nodal temperature values with respect to specified 
variables. 
This output result is available only when the direct method is chosen 
for performing the sensitivity analysis (<code><a href="#SensitivityAnalysis">SensitivityAnalysis</a>.Method</code> = <code>Direct</code>). 
</dd></dl>

<p class="noindent"><var>pressuresensitivity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
sensitivities of nodal pressure values with respect to specified 
variables. If <var>gravity-real</var> and <var>depth-real</var> have nonzero values (see <a href="#Hydro">Hydro</a>),
the pressure values referred to here are those corresponding to the sum of the hydrostatic and hydrodynamic pressure values. 
This output result is available only when the direct method is chosen for performing the sensitivity analysis (<code><a href="#SensitivityAnalysis">SensitivityAnalysis</a>.Method</code> = <code>Direct</code>). 
</dd></dl>

<p class="noindent"><var>totalpressuresensitivity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
sensitivities of nodal total pressure values with respect to specified 
variables. 
This output result is available only when the direct method is chosen 
for performing the sensitivity analysis (<code><a href="#SensitivityAnalysis">SensitivityAnalysis</a>.Method</code> = <code>Direct</code>). 
</dd></dl>

<p class="noindent"><var>velocitysensitivity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file that contains the sequence of 
sensitivities of nodal velocity vectors with respect to specified 
variables. 
This output result is available only when the direct method is chosen 
for performing the sensitivity analysis (<code><a href="#SensitivityAnalysis">SensitivityAnalysis</a>.Method</code> = <code>Direct</code>). 
</dd></dl>

<p class="noindent"><var>displacementsensitivity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>This member is relevant only for simulations performed using the body-fitted framework (<code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>).
 
In this case, it specified the name of the binary file that contains the
 sequence of sensitivities of nodal displacement vectors with respect to
 specified variables. 
This output result is available only when the direct method is chosen 
for performing the sensitivity analysis (<code><a href="#SensitivityAnalysis">SensitivityAnalysis</a>.Method</code> = <code>Direct</code>). 
</dd></dl>

<p class="noindent"><var>forcesensitivity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains the sequence of sensitivities of the aerodynamic forces and moments with respect
to specified variables, in the following format:
          <ol start="1" type="1">
<li>the sensitivity analysis step number;
</li><li>the active specified variable: “1” for a shape parameter, “2” for the Mach number, “3” for the angle of attack, “4” for
the sideslip angle (see <a href="#Inlet">Inlet</a>), and “5” for a structural thickness parameter specified in the input file of <b>AERO-S</b>;
</li><li>the force in the x-direction;
</li><li>the force in the y-direction;
</li><li>the force in the z-direction;
</li><li>the moment along the x-direction;
</li><li>the moment along the y-direction;
</li><li>the moment along the z-direction;
</li><li>sonic boom (currently not supported and therefore set to zero);
</li><li>the sensitivity of the force in the x-direction with respect to the specified variable;
</li><li>the sensitivity of the force in the y-direction with respect to the specified variable;
</li><li>the sensitivity of the force in the z-direction with respect to the specified variable;
</li><li>the sensitivity of the moment along the x-direction with respect to the specified variable;
</li><li>the sensitivity of the moment along the y-direction with respect to the specified variable;
</li><li>the sensitivity of the moment along the z-direction with respect to the specified variable;
</li><li>sensitivity of the sonic boom with respect to the specified variable (currently not supported and therefore set to zero).
          </li></ol>
This output result is available only when the direct method is chosen for performing the sensitivity analysis (<code><a href="#SensitivityAnalysis">SensitivityAnalysis</a>.Method</code> = <code>Direct</code>). 
</dd></dl>

<p class="noindent"><var>liftanddragsensitivity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains the sequence of 
sensitivities of the lift and drag with respect to specified variables, 
in the following format:
          <ol start="1" type="1">
<li>the sensitivity analysis step number;
</li><li>the active specified variable: “1” for a shape parameter, “2” for the Mach number, “3” for the angle of attack, “4” for
the sideslip angle (see <a href="#Inlet">Inlet</a>), and “5” for a structural thickness parameter specified in the input file of <b>AERO-S</b>;
</li><li>the drag, which is the force in the direction parallel to the free-stream velocity;
</li><li>the lift, which is defined here as the force in the direction 
orthogonal to the vector defined by the sideslip angle in the x-y plane;
</li><li>the lift, which is defined here as the force in the direction 
orthogonal to the vector defined by the angle of attack in the x-z 
plane;
</li><li>the sensitivity of the drag with respect to the specified variable;
</li><li>the sensitivity of the lift, which is defined here as the force
 in the direction orthogonal to the vector defined by the sideslip angle
 in the x-y plane, with respect to the specified variable;
</li><li>the sensitivity of the lift, which is defined here as the force
 in the direction orthogonal to the vector defined by the angle of 
attack in the x-z plane, with respect to the specified variable;
          </li></ol>
This output result is available only when the direct method is chosen for performing the sensitivity analysis (<code><a href="#SensitivityAnalysis">SensitivityAnalysis</a>.Method</code> = <code>Direct</code>). 
</dd></dl>

<p class="noindent"><var>gamdata-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains the computed set of generalized aerodynamic matrices. These are always outputted in the
format of the MSC Nastran OUTPUT4 command specified in the DMAP Programmer's Guide. 
</dd></dl>

<p class="noindent"><var>gamfdata-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file to contain the computed set of generalized aerodynamic force matrices (a generalized aerodynamic force
matrix is the product of the dynamic pressure   <img src="Aerof3d_files/img56.png" class="math-display" align="top">   and a generalized aerodynamic matrix). These are always
outputted in the format of the MSC Nastran OUTPUT4 command specified in the DMAP Programmer's Guide. 
</dd></dl>

<p class="noindent"><var>sparsegrid-str</var> [<code>"SparseGrid"</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains computational data 
tabulated in sparse grid format. If the tabulated data is to be stored 
across multiple files,
<var>sparsegrid-str</var> is the common prefix to all these files whose names will be <var>sparsegrid-str</var>x, with x ranging from 1 to the number of files. 
</dd></dl>

<p class="noindent"><var>matvols-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains the sequence of 
volumes occupied by each fluid medium during a simulation. The format of
 this file is as follows:
          <ol start="1" type="1">
<li>the time-step number;
</li><li>the current time-instance;
</li><li>the volume occupied by the fluid medium whose ID is 0;
</li><li>the volume occupied by the fluid medium whose ID is 1;
</li><li>... 
</li><li>the volume occupied by the fluid medium whose ID is the highest;
</li><li>the volume occupied by the obstacle;
</li><li>the total volume of the computational domain.
          </li></ol>
</dd></dl>

<p class="noindent"><var>bubbleradius-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains the time-history of the radius of the spherical interface associated with a
one-dimensional <i>explicit</i> computation of a spherically symmetric unsteady two-phase flow problem (see <a href="#Problem">Problem</a>.<code>Type</code> = <code>1D</code>). 
</dd></dl>

<p class="noindent"><var>cputime-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains a comprehensive report on the elasped CPU time associated with the performed simulation. 
The information in this report is updated in a cumulative fashion at the frequency specified in <var>frequency-int</var>. 
</dd></dl>

<p class="noindent">Notes:
     </p><ol start="1" type="1">
<li>as mentioned in <a href="#Problem">Problem</a>, the output mode (non-dimensional or dimensional)
is governed by the variable <code>Problem.Mode</code>;
</li><li>in the files containing the sensitivities of nodal flow 
quantities with respect to specified variables (computed using the 
direct method), the specific variables
are identified by tags: “1” for a shape parameter, “2” for the Mach 
number, “3” for the main angle of attack,
“4” for the sideslip angle, and “5” for a structural thickness 
parameter; the integer tag is placed before its corresponding result 
set;
the results are outputted on a tag basis and for a given tag, on a node 
basis; the sensitivities with respect to shape parameters are outputted 
in the order
in which these parameters are specified in the file <code>Input.ShapeDerivative</code> (see <a href="#Input">Input</a>); the sensitivities with respect to structural parameters are
outputted in the order in which these parameters are specified in the input file of <b>AERO-S</b>;
</li><li>The binary sensitivity analysis result files can be post-processed
by <b>SOWER</b> and visualized by <b>XPost</b> as all other binary output results files.
     </li></ol>
<!--  -->
<!-- Probes object -->
<!--  -->
<div class="node">
<a name="Probes"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Restart">Restart</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Postpro">Postpro</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Output">Output</a>

</div>

<h4 class="subsection">4.4.2 PROBING NODAL RESULTS</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Probes</b>
</td></tr></tbody></table>

</p><p>The object <code>Probes</code> is used to request outputting, for <i>every time-step</i> of an <b>AERO-F</b> computation in the time-domain,
a specfified scalar or vector result, or for <i>every sampled frequency</i> of an <b>AERO-F</b>
 computation in the frequency-domain,
a specified complex-valued scalar result. This result can be associated 
with a specific node or location in the computational domain, in which 
case it
is referred to here as the "probed" result, or can be independent from 
any specific location in the computational domain. The current list of 
scalar, vector,
and complex-valued scalar results supported by this object can be found 
in the definition of its syntax given below. A spatial location where 
the output is
desired is identified in an object such as <code>Node1</code> within this object, whether this location coincides or not with a specific node of the CFD mesh.

</p><pre class="sp">
</pre>

The syntax of the object <code>Probes</code> is:

<pre class="example">     under Probes {
       Prefix       = <var>prefix-str</var>;
       Density      = <var>density-str</var>;
       Pressure     = <var>pressure-str</var>;
       Temperature  = <var>temperature-str</var>;
       Velocity     = <var>velocity-str</var>;
       Displacement = <var>displacement-str</var>;
       FarfieldPattern = <var>farfieldpattern-str</var>;
       under Node1{ ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>prefix-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>String that is prefixed to all post-processing file names. 
</dd></dl>

<p class="noindent"><var>density-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains for each time-step the
 sequence of density values at the nodes or other locations identified 
in an object of the type <code>Node1</code>. 
</dd></dl>

<p class="noindent"><var>pressure-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>If <code><a href="#Problem">Problem</a>.Type</code> = <code>Aeroacoustic</code>, name of the ASCII file that contains for each sampled frequency the sequence of far-field acoustic pressure
complex values and moduli at the nodes identified in an object of the type <code>Node1</code>. Otherwise, name of the ASCII file that contains for each time-step the
sequence of pressure values at the nodes identified in an object of the type <code>Node1</code>. 
<code>Node1</code>. 
</dd></dl>

<p class="noindent"><var>temperature-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains for each time-step the
 sequence of temperature values at the nodes or other locations 
identified in an object
of the type <code>Node1</code>. 
</dd></dl>

<p class="noindent"><var>velocity-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains for each time-step the
 sequence of velocity vector values at the nodes or other locations 
identified in an object
of the type <code>Node1</code>. 
</dd></dl>

<p class="noindent"><var>displacement-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains for each time-step the
 sequence of displacement vector values at the nodes or other locations 
identified in an object
of the type <code>Node1</code>. 
</dd></dl>

<p class="noindent"><var>farfieldpattern-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains for each sampled 
frequency (and hence wave number) the far-field pattern of the acoustic 
pressure field (in the far-field, the acoustic
pressure along an outgoing spherical wave varies as
 <center class="math-display"> <img src="Aerof3d_files/img57.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img58.png" class="math-display" align="top">   denotes the position of a point in a given space,   <img src="Aerof3d_files/img59.png" class="math-display" align="top">   the dimension of this space,   <img src="Aerof3d_files/img40.png" class="math-display" align="top">   the wave number, and   <img src="Aerof3d_files/img60.png" class="math-display" align="top">   the far-field pattern of   <img src="Aerof3d_files/img61.png" class="math-display" align="top">
  ). 
The format of this output result, which is not associated with any node 
of the CFD mesh, is as follows (one line per sampled frequency):
<pre class="verbatim">       [VECTOR_RESULT]
       (1) identification number of a sampled frequency
       (2) value of a sampled frequency
       (3) Spherical angle alpha expressed in radians
       (4) Spherical angle beta expressed in radians
       (5) Real value of the far-field pattern of the acoustic pressure field
       (6) Imaginary value of the far-field pattern of the acoustic pressure field
       (7) Modulus of the far-field pattern of the acoustic pressure field
           ...
</pre>
Each pair of spherical angles   <img src="Aerof3d_files/img62.png" class="math-display" align="top">   (<code>alpha</code>) and   <img src="Aerof3d_files/img63.png" class="math-display" align="top">   (<code>beta</code>) determines the direction
 <center class="math-display"> <img src="Aerof3d_files/img64.png" class="math-display" align="top"> </center> 

where the superscript   <img src="Aerof3d_files/img65.png" class="math-display" align="top">
   designates the transpose. The total number of output lines is equal 
to the number of sampled frequencies, which is automatically set by <b>AERO-F</b> to
the number of snapshots of the traces on the user-defined internal "Kirchhoff" surface of the unsteady pressure field saved in <code><a href="#Input">Input</a>.PressureKirchhoff</code> plus one. 
The total number of columns per outputted line is equal to ((<code><a href="#AcousticPressure">AcousticPressure</a>.Increment</code>)/2+1)*(<code><a href="#AcousticPressure">AcousticPressure</a>.Increment</code>). 
</dd></dl>

<p class="noindent"><code>Node1</code>:
     </p><dl>
<dt></dt><dd>Identification of a mesh node or other location in the computational domain where to probe computational results. 
</dd></dl>

<p class="noindent">Notes:
     </p><ol start="1" type="1">
<li>as mentioned in <a href="#Problem">Problem</a>, the output mode (non-dimensional or dimensional) is governed by the variable <code>Problem.Mode</code>;
</li><li>all output files requested under this object are generated in an ASCII format;
</li><li>currently, the user can specify up to 50 nodes or other 
locations in the computational domain where to probe scalar and/or 
vector computational results;
</li><li>the ASCII format of an output file associated with a <i>probed</i> scalar result field is as follows (one line per time-step):
<pre class="verbatim">      [SCALAR_RESULT]
      (1) identification number of a time-step
      (2) value of a physical time
      (3) value of the specified scalar result at the node specified in Node1
      (4) value of the specified scalar result at the node specified in Node2
          ...
</pre>
</li><li>the ASCII format of an output file associated with a <i>probed</i> vector result or complex-valued scalar result field is as follows (one line per time-step or sampled frequency):
<pre class="verbatim">      [VECTOR_RESULT]
      (1) identification number of a time-step or sampled frequency
      (2) value of a physical time or a sampled frequency
      (3) value of the x-component of the specified vector result or real value of the specified complex-valued scalar result at the node specified in Node1
      (4) value of the y-component of the specified vector result or imaginary value of the specified complex-valued scalar result at the node specified in Node1
      (5) value of the z-component of the specified vector result or modulus of the specified complex-valued scalar result at the node specified in Node1
      (6) value of the x-component of the specified vector result or real value of the specified complex-valued scalar result at the node specified in Node2
      (7) value of the y-component of the specified vector result or imaginary value of the specified complex-valued scalar result at the node specified in Node2
      (8) value of the z-component of the specified vector result or modulus of the specified complex-valued scalar result at the node specified in Node2
          ...
</pre>
</li><li>the ASCII format of an output file associated with a scalar or 
vector result field specified under this object but not associated with 
neither a node nor a location  in the computational domain
is given in the description of that result.
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#ProbingNode">ProbingNode</a>
</li></ul>
<!--  -->
<!-- Node object -->
<!--  -->
<div class="node">
<a name="ProbingNode"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#Probes">Probes</a>

</div>

<h5 class="subsubsection">4.4.2.1 PROBING NODE</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Node</b>
</td></tr></tbody></table>

</p><p>The object <code>Node</code> (with an integer appended to the last letter of this word) is used to identify
a node of the mesh or a location in the computational domain where to output a probed computational result.

</p><p>The syntax of the object <code>Node</code> (with an integer appended to the last letter of this word) is:

</p><pre class="example">     under <var>node-obj</var> {
     ID = <var>id-int</var>;
     LocationX = <var>locationx-real</var>;
     LocationY = <var>locationy-real</var>;
     LocationZ = <var>locationz-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>id-int</var> [—]:
     </p><dl>
<dt></dt><dd>Global identification number (as in the <b>XPost</b> mesh file) of a node of the fluid mesh
at which a computational result is to be probed at each time-step of an <b>AERO-F</b> simulation. 
</dd></dl>

<p class="noindent"><var>locationX-real</var> [—]:
     </p><dl>
<dt></dt><dd>  <img src="Aerof3d_files/img66.png" class="math-display" align="top">   coordinate of a location in the computational domain at which a computational result is to be probed at each time-step of an <b>AERO-F</b> simulation. 
</dd></dl>

<p class="noindent"><var>locationY-real</var> [—]:
     </p><dl>
<dt></dt><dd>  <img src="Aerof3d_files/img67.png" class="math-display" align="top">   coordinate of a location in the computational domain at which a computational result is to be probed at each time-step of an <b>AERO-F</b> simulation. 
</dd></dl>

<p class="noindent"><var>locationZ-real</var> [—]:
     </p><dl>
<dt></dt><dd>  <img src="Aerof3d_files/img68.png" class="math-display" align="top">   coordinate of a location in the computational domain at which a computational result is to be probed at each time-step of an <b>AERO-F</b> simulation. 
</dd></dl>

<p class="noindent">Note:
     </p><ol start="1" type="1">
<li>currently, the user can specify up to 50 nodes or locations where to probe scalar and/or vector computational results;
</li><li>if at any point in time the chosen node or location in the 
computational domain is covered by the obstacle, the computational 
result at this probe is set to its free-stream value.
     </li></ol>
<!--  -->
<!-- Restart object -->
<!--  -->

<div class="node">
<a name="Restart"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Probes">Probes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Output">Output</a>

</div>

<h4 class="subsection">4.4.3 SAVING THE COMPUTATIONAL RESULTS FOR LATER</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Restart</b>
</td></tr></tbody></table>

</p><p>The <code>Restart</code> object specifies the name of the files that are written
during (if the value of <code>Output.Restart.Frequency</code> is different from zero) and
at the end of the computation. These files are only needed if one wishes to
restart AERO-F (see <a href="#Input">Input</a>). The syntax of the <code>Restart</code> object is:

</p><pre class="example">     under Restart {
       Prefix = <var>prefix-str</var>;
       Frequency = <var>frequency-int</var>;
       TimeInterval = <var>timeinterval-real</var>;
       FilePackage = <var>filepackage-str</var>;
       Solution = <var>solution-str</var>;
       Position = <var>position-str</var>;
       EmbeddedPosition = <var>embeddedposition-str</var>;
       LevelSet = <var>levelset-str</var>;
       FluidID = <var>fluidid-str</var>;
       Cracking = <var>cracking-str</var>;
       RestartData = <var>restartdata-str</var>;
       PressureKirchhoff = <var>pressurekirchhoff-str</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>prefix-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>String that is prefixed to all restart file names. 
</dd></dl>

<p class="noindent"><var>frequency-int</var> [<code>0</code>]:
     </p><dl>
<dt></dt><dd>The frequency (every so many time-iteration) at which all restart files, excluding <code>PressureKirchhoff</code>, are
re-written (each save, except in the case of <code>PressureKirchhoff</code>, overwrites the previous one). 
In the case of an aeroelastic or aerothermal simulation with the AERO-S code,
this value must be specified in the AERO-S input file. 
</dd></dl>

<p class="noindent"><var>timeinterval-real</var> [ ]:
     </p><dl>
<dt></dt><dd>This is an alternative option to <var>frequency-int</var> for specifying when to update
a restart file. Essentially, <var>timeinterval-real</var> is a restart update time-step
  <img src="Aerof3d_files/img69.png" class="math-display" align="top">   which controls the frequency at which the restart files are updated
as follows. Let   <img src="Aerof3d_files/img48.png" class="math-display" align="top">   be a positive integer set initially to 0, and incremented by 1
after each update time-iteration is reached. Then, the update of the restart files is performed at
each time-iteration   <img src="Aerof3d_files/img70.png" class="math-display" align="top">  . 
When <var>timeinterval-real</var> is specified to a strictly positive value, the restart
files are always written at the last computed time-iteration. If both  <var>frequency-int</var>
and <var>timeinterval-real</var> are specified, <var>frequency-int</var> is ignored. This option
is not recommended when performing a coupled-field simulation using also the AERO-S code. 
</dd></dl>

<p class="noindent"><var>filepackage-str</var> [<code>"DEFAULT.PKG"</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file containing the links to the restart files <code>Solution</code>, <code>Position</code>, <code>LevelSet</code>, <code>FluidID</code>, <code>Cracking</code>, and <code>RestartData</code>. 
Hence, when restarting a simulation that has created restart data for <code>Solution</code>, <code>Position</code>, <code>LevelSet</code>, <code>FluidID</code>, <code>Cracking</code>, and <code>RestartData</code>,
this file can be specified in <code><a href="#Input">Input</a>.FilePackage</code> in lieu of all of <code><a href="#Input">Input</a>.Solution</code>, <code><a href="#Input">Input</a>.Position</code>, <code><a href="#Input">Input</a>.LevelSet</code>, <code><a href="#Input">Input</a>.FluidID</code>,
<code><a href="#Input">Input</a>.Cracking</code>, and <code><a href="#Input">Input</a>.RestartData</code>. 
</dd></dl>

<p class="noindent"><var>solution-str</var> [<code>"DEFAULT.SOL"</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary solution (i.e. conservative variables) file. 
</dd></dl>

<p class="noindent"><var>position-str</var> [<code>"DEFAULT.POS"</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary position (i.e. x,y,z node coordinates) file. 
This file is written if a “ping-pong” step, “modal ping-pong” step, aeroelastic, forced vibration, or accelerated flight
simulation is performed. 
</dd></dl>

<p class="noindent"><var>embeddedposition-str</var> [<code>"DEFAULT.EMBPOS"</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII position (i.e. x,y,z node coordinates) 
file of the embedded discrete surface. This file is written if a 
“ping-pong” step, “modal ping-pong” step, aeroelastic, forced vibration,
 or accelerated flight
simulation is performed. 
</dd></dl>

<p class="noindent"><var>levelset-str</var> [<code>"DEFAULT.LS"</code>]:
     </p><dl>
<dt></dt><dd>
Name of the binary file containing the “conservative” level set variable   <img src="Aerof3d_files/img71.png" class="math-display" align="top">  . This file can be specified
only for multi-phase flow simulations (see <a href="#MultiPhase">MultiPhase</a>).

</dd></dl>

<p class="noindent"><var>fluidid-str</var> [<code>"DEFAULT.FID"</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file containing the fluid ID (see <a href="#Box">Box</a>, <a href="#Plane">Plane</a>, <a href="#Point">Point</a>, <a href="#Sphere">Sphere</a>, <a href="#VolumeData">VolumeData</a>) of each node of the CFD mesh. This file can be specified
only for multi-phase flow simulations (see <a href="#MultiPhase">MultiPhase</a>). 
</dd></dl>

<p class="noindent"><var>cracking-str</var> [<code>"DEFAULT.CRK"</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file containing information necessary 
for restarting a fluid-structure iteraction computation involving 
cracking of the structure. This file can be specified
only when using <b>AERO-F</b>'s embedded boundary method for CFD — that is, <code><a href="#Problem">Problem</a>.Framework</code> = <code>Embedded</code>. 
</dd></dl>

<p class="noindent"><var>restartdata-str</var> [<code>"DEFAULT.RST"</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII restart file . 
</dd></dl>

<p class="noindent"><var>pressurekirchhoff-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file in which the traces on a 
user-defined internal "Kirchhoff" surface of the unsteady pressure field
 are saved in order to enable a subsequent
aeroacoustic analysis in the frequency-domain (see <code><a href="#Problem">Problem</a>.Type = Aeroacoustic</code>). 
</dd></dl>
<!--  -->
<!-- Surfaces object -->
<!--  -->

<div class="node">
<a name="Surfaces"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Velocity">Velocity</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Output">Output</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.5 SPECIFYING THE ATTRIBUTES OF THE MESH SURFACES DEFINED IN THE COMPUTER-AIDED DESIGN MODEL</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Surfaces</b>
</td></tr></tbody></table>

</p><p>During the process of generating a fluid mesh from a computer-aided design model,
several surfaces can be defined and grouped according to a user-specified id number. 
The <code>Surfaces</code> object specifies these surfaces in preparation for defining their attributes. It can also be used
to specify embedded surfaces for the same purpose. Its syntax is:

</p><pre class="example">     under Surfaces {
       under SurfaceData[<var>surface-id-int</var>] { ... }
       ...
     }
</pre>
<p>with

</p><p class="noindent"><var>surface-id-int</var> [<code>None</code>]:

     </p><dl>
<dt></dt><dd>ID number of a surface or group of surfaces. 
</dd></dl>
<code>SurfaceData</code>:
     <dl>
<dt></dt><dd>Specifies the attributes of the mesh surfaces. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#SurfaceData">SurfaceData</a>
</li></ul>
<!--  -->
<!-- SurfaceData object -->
<!--  -->

<div class="node">
<a name="SurfaceData"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#Surfaces">Surfaces</a>

</div>

<h4 class="subsection">4.5.1 SPECIFYING THE ATTRIBUTES OF MESH OR EMBEDDED SURFACES</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>SurfaceData</b>
</td></tr></tbody></table>

</p><p>The <code>SurfaceData</code> object defines the attributes to be assigned to all boundary and internal surfaces commonly
identified by the specified tag <var>surface-id-int</var>. When the fluid is modeled as a perfect gas,
it can also be used to specify boundary conditions on tagged inlet and outlet surfaces or modify any default boundary
condition inputted under the <code>BoundaryConditions</code> object that affects such surfaces.

</p><p>The syntax of this object is:

</p><pre class="example">     under SurfaceData[<var>surface-id-int</var>] {
       BoundaryConditionID = <var>boundarycondition-id-int</var>;
       Nx = <var>Nx-real</var>;
       Ny = <var>Ny-real</var>;
       Nz = <var>Nz-real</var>;
       ComputeForces = <var>computef-flag</var>;
       SeparateForces = <var>separatef-flag</var>;
       ComputeHeatFlux = <var>computehf-flag</var>;
       SeparateHeatFlux = <var>separatehf-flag</var>;
       VelocityID = <var>velocity-id-int</var>;
       ForcedVelocityID = <var>forcedvelocity-id-int</var>;
       Type = <var>type-id-</var>;
       Temperature = <var>temp-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>boundarycondition-id-int</var> [<code>None</code>]:
     </p><dl>
<dt></dt><dd>Attributes a set of boundary conditions defined in <a href="#BoundaryData">BoundaryData</a> and identified by this specified integer ID number
to all boundary surfaces sharing the tag <var>surface-id-int</var>. Hence, this member can be used in particular to override the
default boundary conditions defined in <a href="#BoundaryConditions">BoundaryConditions</a> on the boundary surfaces identified by <var>surface-id-int</var>. 
</dd></dl>

<p class="noindent"><var>Nx-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>This information is relevant only when the target simulation involves mesh motion. 
If at least one of the parameters <var>Nx-real</var> or <var>Ny-real</var> or <var>Nz-real</var> (see below)
is non zero, the tagged surface (or group of surfaces) is declared a sliding plane and
<var>Nx-real</var> specifies the value of the x-component of the normal to this sliding plane. 
In this case, the nodes in the declared sliding plane are constrained to move within this plane — that is,
the component of their displacement field along the specified normal to the sliding plane is constrained
to zero. If the declared sliding plane is also a symmetry plane
and <var>type-id</var> of the <code>MeshMotion</code> object is set to <var>Corotational</var> (see <a href="#MeshMotion">MeshMotion</a>), the <code>Symmetry</code> object
must be specified within the <code>MeshMotion</code> object (see <a href="#Symmetry">Symmetry</a>). 
</dd></dl>

<p class="noindent"><var>Ny-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>This information is relevant only when the target simulation involves mesh motion. 
If at least one of the parameters <var>Nx-real</var> or <var>Ny-real</var> or <var>Nz-real</var> (see below)
is non zero, the tagged surface (or group of surfaces) is declared a sliding plane and
<var>Ny-real</var> specifies the value of the y-component of the normal to this sliding plane. 
In this case, the nodes in the declared sliding plane are constrained to move within this plane — that is,
the component of their displacement field along the specified normal to the sliding plane is constrained
to zero. If the declared sliding plane is also a symmetry plane and <var>type-id</var> of the <code>MeshMotion</code> object is set to
<var>Corotational</var> (see <a href="#MeshMotion">MeshMotion</a>), the <code>Symmetry</code> object must be specified within the <code>MeshMotion</code> object (see <a href="#Symmetry">Symmetry</a>). 
</dd></dl>

<p class="noindent"><var>Nz-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>This information is relevant only when the target simulation involves mesh motion. 
If at least one of the parameters <var>Nx-real</var> or <var>Ny-real</var> or <var>Nz-real</var> (see below)
is non zero, the tagged surface (or group of surfaces) is declared a sliding plane and
<var>Nz-real</var> specifies the value of the z-component of the normal to this sliding plane. 
In this case, the nodes in the declared sliding plane are constrained to move within this plane — that is,
the component of their displacement field along the specified normal to the sliding plane is constrained
to zero. If the declared sliding plane is also a symmetry plane
and <var>type-id</var> of the <code>MeshMotion</code> object is set to <var>Corotational</var> (see <a href="#MeshMotion">MeshMotion</a>),
the <code>Symmetry</code> object must be specified within the <code>MeshMotion</code> object (see <a href="#Symmetry">Symmetry</a>). 
</dd></dl>

<p class="noindent"><var>computef-flag</var> [ ]:
     </p><dl>
<dt><code>True</code></dt><dd>In the absence of this command, and when requested  under the <code>Output.Postpro</code> object, AERO-F computes the
total aerodynamic forces (lift, drag, forces and moments, time-averaged counterparts, etc.) generated  by all "moving" surfaces
except moving inlet and outlet boundaries. Setting this command to <code>True</code> adds to the total the contribution of the specified
tagged surface (or group of surfaces). 
<br></dd><dt><code>False</code></dt><dd>In the absence of this command, and when requested  under the <code>Output.Postpro</code> object, AERO-F computes the
total aerodynamic forces (lift, drag, forces and moments, time-averaged counterparts, etc.) generated  by all "moving" surfaces
except moving inlet and outlet boundaries. Setting this command to <code>False</code> removes from the total the contribution of
the specified tagged surface (or group of surfaces). 
</dd></dl>

<p class="noindent"><var>separatef-flag</var> [<code>False</code>]:
     </p><dl>
<dt><code>True</code></dt><dd>In this case, the aerodynamic forces (lift, drag, forces and moments, time-averaged counterparts, etc.) generated by the
tagged surface (or group of surfaces) are output in a separate file, assuming that such a result is requested under the
<code>Output.Postpro</code> object. 
The name of each output file associated with the tagged surface (or 
group of surfaces) is set to the filename of the corresponding
result specified under <code>Output.Postpro</code> with a postfix set to the surface id number. 
<br></dd><dt><code>False</code></dt><dd>In this case, the aerodynamic forces (lift, drag, forces and moments, time-averaged counterparts, etc.) generated by the
tagged surface (or group of surfaces) are not computed and output in a separate file. 
</dd></dl>

<p class="noindent"><var>computehf-flag</var> [ ]:
     </p><dl>
<dt><code>True</code></dt><dd>In the absence of this command, and when requested  under the <code>Output.Postpro</code> object, <b>AERO-F</b> computes the
total heat flux through all “moving” isothermal wall boundaries. Setting this command to <code>True</code> adds to the total
the contribution of the specified tagged surface (or group of surfaces). 
<br></dd><dt><code>False</code></dt><dd>In the absence of this command, and when requested  under the <code>Output.Postpro</code> object, <b>AERO-F</b> computes the
total heat flux through all “moving” isothermal wall boundaries. Setting this command to <code>False</code> removes from the total
the contribution of the specified tagged surface (or group of surfaces). 
</dd></dl>

<p class="noindent"><var>separatehf-flag</var> [<code>False</code>]:
     </p><dl>
<dt><code>True</code></dt><dd>In this case, the heat flux values through the tagged surface (or group of surfaces) are outputted in a separate file,
assuming that such a result is requested under the <code>Output.Postpro</code>
 object. 
The name of each output file associated with the tagged surface (or 
group of surfaces) is set to the filename of the corresponding
result specified under <code>Output.Postpro</code> with a postfix set to the surface id number.

     <br></dd><dt><code>False</code></dt><dd>In this case, the heat flux values through the tagged surface (or group of surfaces) are not outputted in a separate file. 
</dd></dl>

<p class="noindent"><var>velocity-id-int</var> [<code>None</code>]:
     </p><dl>
<dt></dt><dd>ID number of a prescribed velocity data-set including the 
rotation or translation axis, the center of rotation, and the angular or
 translational velocity (see <a href="#Velocity">Velocity</a>, <a href="#RotationAxis">RotationAxis</a>). 
This option can be used to prescribe a <i>constant flow velocity (or angular velocity)</i>
 on a translating or rotating surface, including an embedded surface. In
 the case
of an aeroelastic computation, if the tagged surface is at the 
fluid-structure interface, the prescribed flow velocity is superposed to
 the velocity field transmitted at this interface. 
</dd></dl>

<p class="noindent"><var>forcedvelocity-id-int</var> [<code>None</code>]:
     </p><dl>
<dt></dt><dd>ID number of a prescribed velocity data-set including the 
rotation or translation axis, the center of rotation, and the angular or
 translational velocity (see <a href="#Velocity">Velocity</a>, <a href="#RotationAxis">RotationAxis</a>). 
This option can be used to prescribe a <i>constant</i> velocity for a rotating or translating <i>embedded</i> surface. Hence, it is relevant only when <code><a href="#Problem">Problem</a>.Framework</code> = <code>Embedded</code> or <code>EmbeddedALE</code>. 
</dd></dl>

<p class="noindent"><var>type-id</var> [ ]:
     </p><dl>
<dt><code>Adiabatic</code></dt><dd>In this case, the surface identified by the specified surface tag is treated as an adiabatic surface (wall). 
<br></dd><dt><code>Isothermal</code></dt><dd>In this case, the surface identified by the specified surface tag is treated as an isothermal surface (wall)
where the constant temperature is specified in <code>SurfaceData.Temperature</code> (see below).

     <p>The default value of <var>type-id</var> is the value set in <code>Wall.Type</code> (see <a href="#Wall">Wall</a>). 
</p></dd></dl>

<p class="noindent"><var>temp-real</var> [—]:
     </p><dl>
<dt></dt><dd>Temperature of the surface identified by the specified surface tag if this surface is specified as an isothermal wall in <code>SurfaceData.Type</code> (see above). Attention should be paid to inputting this temperature,
when desired, in the same system of units as that of the ideal gas constant R (see <a href="#GasModel">GasModel</a>) and the remainder of the input file. 
</dd></dl>

<p class="noindent">Note:
     </p><ol start="1" type="1">
<li>if a boundary surface (or a set of them) identified by the integer ID tag <var>surface-id-int</var> is an inlet (outlet) boundary
surface and the fluid is modeled as a perfect gas, the default boundary conditions specified for this surface in <a href="#Inlet">Inlet</a>
(<a href="#Outlet">Outlet</a>) can be modified here on the surfaces whose integer ID tag is <var>surface-id-int</var>.
     </li></ol>

<!--  -->
<!-- Velocity object -->
<!--  -->
<div class="node">
<a name="Velocity"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Volumes">Volumes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Surfaces">Surfaces</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.6 SPECIFYING ROTATIONAL AND TRANSLATIONAL VELOCITY FIELDS</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Velocity</b>
</td></tr></tbody></table>

</p><p>Axes of rotation or translation are defined using this object to facilitate the prescription of:

     </p><ul>
<li>The flow velocity field of the CFD grid points lying on a rotating or translating surface (see <a href="#Surfaces">Surfaces</a>), including an embedded surface. In this case, this object
must be positioned at an independent location of the input file. 
</li><li>The velocity field of an embedded surface. In this case, this object must be positioned inside the <a href="#Forced">Forced</a> object. 
</li></ul>

<p>The syntax of this object is:
</p><pre class="example">     under Velocity{
       under RotationAxis[<var>rotation-id-int</var>] { ... }   ...
     }
</pre>
<p>with

</p><p class="noindent"><code>RotationAxis</code>:
     </p><dl>
<dt></dt><dd>Specifies rotational and translational velocity fields. 
</dd></dl>

<p class="noindent"><var>rotation-id-int</var> [<code>None</code>]:
     </p><dl>
<dt></dt><dd>ID number of a rotation or translation data-set. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#RotationAxis">RotationAxis</a>
</li></ul>
<!--  -->
<!-- RotationAxis object -->
<!--  -->

<div class="node">
<a name="RotationAxis"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#Velocity">Velocity</a>

</div>

<h4 class="subsection">4.6.1 SPECIFYING ROTATIONAL AND TRANSLATION VELOCITY FIELDS (CONTINUE)</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>RotationAxis</b>
</td></tr></tbody></table>

</p><p>The <code>RotationAxis</code> object defines the parameters of the specified rotation/translation data-set. Its syntax is:

</p><pre class="example">     under RotationAxis[<var>rotation-id-int</var>] {
       Nx  =  <var>Nx-real</var>;
       Ny  =  <var>Ny-real</var>;
       Nz  =  <var>Nz-real</var>;
       X0  =  <var>X0-real</var>;
       Y0  =  <var>Y0-real</var>;
       Z0  =  <var>Z0-real</var>;
       InfiniteRadius = <var>infiniteradius-flag</var>;
       Omega = <var>omega-real</var>;
     
     }
</pre>
<p>with

</p><p class="noindent"><var>Nx-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>The x-component of the normalized rotation axis or translation vector. 
</dd></dl>

<p class="noindent"><var>Ny-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>The y-component of the normalized rotation axis or translation vector. 
</dd></dl>

<p class="noindent"><var>Nz-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>The z-component of the normalized rotation axis or translation vector. 
</dd></dl>

<p class="noindent"><var>X0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>The x-coordinate of the center of rotation. 
</dd></dl>

<p class="noindent"><var>Y0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>The y-coordinate of the center of rotation. 
</dd></dl>

<p class="noindent"><var>Z0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>The z-coordinate of the center of rotation. 
</dd></dl>

<p class="noindent"><var>infiniteradius-flag</var> [<code>False</code>]:

     </p><dl>
<dt><code>False</code></dt><dd>When this flag is set to <code>False</code>, the vector specified above is interpreted as the normalized axis of rotation.

     <br></dd><dt><code>True</code></dt><dd>When this flag is set to <code>True</code>, the vector specified above is interpreted as the normalized direction of translation. 
</dd></dl>

<p class="noindent"><var>omega-real</var> [<code>0.0</code>]:

     </p><dl>
<dt></dt><dd>When <var>infiniteradius-flag</var> is set to <code>False</code>, <var>omega-real</var> is the angular velocity. 
When <var>infiniteradius-flag</var> is set to <code>True</code>, <var>omega-real</var> becomes the magnitude of the translational velocity. 
</dd></dl>

<!--  -->
<!-- Volumes object -->
<!--  -->
<div class="node">
<a name="Volumes"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ReferenceState">ReferenceState</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Velocity">Velocity</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.7 SPECIFYING THE ATTRIBUTES OF THE MESH VOLUMES DEFINED IN THE COMPUTER-AIDED DESIGN MODEL</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Volumes</b>
</td></tr></tbody></table>

</p><p>During the process of generating a fluid mesh from a computer-aided design model,
several volumes (sets of mesh elements) can be defined and grouped according to a user-specified id number. 
The <code>Volumes</code> object specifies these volumes in preparation for defining their attributes. Its syntax is:

</p><pre class="example">     under Volumes{
       under VolumeData[<var>volume-id-int</var>] { ... }
       ...
     }
</pre>
<p>with

</p><p class="noindent"><var>volume-id-int</var> [<code>None</code>]:

     </p><dl>
<dt></dt><dd>ID number of a volume or group of volumes. 
</dd></dl>
<code>VolumeData</code>:
     <dl>
<dt></dt><dd>Specifies the attributes of the mesh volumes. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#VolumeData">VolumeData</a>
</li></ul>
<!--  -->
<!-- VolumeData object -->
<!--  -->

<div class="node">
<a name="VolumeData"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#Volumes">Volumes</a>

</div>

<h4 class="subsection">4.7.1 SPECIFYING THE ATTRIBUTES OF THE MESH VOLUMES</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>VolumeData</b>
</td></tr></tbody></table>

</p><p>The <code>VolumeData</code> object specifies the attributes of a 
region of the computational domain (subset of the mesh elements) 
identified by the integer <var>volume-id-int</var>. 
It can also be used to set the initial conditions for a flow simulation,
 whether it involves a single or multiple fluids or a single-phase or 
multi-phase computation. 
The syntax of this object is:

</p><pre class="example">     under VolumeData[<var>volume-id-int</var>] {
       Type = <var>type-str</var>;
       FluidID = <var>fluid-id-int</var>;
       under PorousMedium { ... }
       under InitialState { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>type-str</var> [<code>Fluid</code>]:
     </p><dl>
<dt><code>Fluid</code></dt><dd>Specifies that the volume identified by <var>volume-id-int</var> is occupied by a fluid. The fluid which initially occupies this volume is identified
by its integer identifcation number <var>fluid-id-int</var>; its material properties are set in <a href="#FluidModel">FluidModel</a>,
and its initial state is specified in <a href="#InitialState">InitialState</a>. 
<br></dd><dt><code>Porous</code></dt><dd>Specifies that the volume identified by <var>volume-id-int</var> is occupied by a porous medium whose properties are described in the <code>PorousMedium</code> object. 
</dd></dl>

<p class="noindent"><var>fluid-id-int</var> [—]:
     </p><dl>
<dt></dt><dd>Integer identification (ID) number of the fluid medium which initially occupies the volumic region identified by <var>volume-id-int</var>. 
This is the same ID used in <a href="#FluidModel">FluidModel</a> to set the material properties of this fluid medium. 
</dd></dl>

<p class="noindent"><code>PorousMedium</code>:
     </p><dl>
<dt></dt><dd>Defines the properties of the porous medium occupying the volumic region of the computational domain
identified by <var>volume-id-int</var> if <var>type-str</var> is set to <code>PorousMedium</code>. 
</dd></dl>

<p class="noindent"><code>InitialState</code>:
     </p><dl>
<dt></dt><dd>Defines the initial conditions of the fluid initially occupying the volumic region of the computational domain identified by  <var>volume-id-int</var>
if <var>type-str</var> is set to <code>Fluid</code>. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#PorousMedium">PorousMedium</a>
</li><li><a accesskey="2" href="#InitialState">InitialState</a>
</li></ul>

<!--  -->
<!-- PorousMedium object -->
<!--  -->
<div class="node">
<a name="PorousMedium"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#InitialState">InitialState</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#VolumeData">VolumeData</a>

</div>

<h5 class="subsubsection">4.7.1.1 SPECIFYING THE PROPERTIES OF A POROUS MEDIUM</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>PorousMedium</b>
</td></tr></tbody></table>

</p><p>The <code>PorousMedium</code> object specifies the porosity 
properties of a volume that is identified by its id number and declared
a porous medium. In this volume, the fluid flow is described by a 
generalized momentum equation based on the Brinkman-Forchheimer-Extended
 Darcy model. 
Essentially, the following sink term

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img72.png" class="math-display" align="top"> </center> 

is added to the   <img src="Aerof3d_files/img73.png" class="math-display" align="top">   momentum equation.

<p>The nonlinear component in the above term is called the Forchheimer term. The linear component is the usual Darcy term.

</p><p>For turbulence runs, the turbulence kinetic energy   <img src="Aerof3d_files/img40.png" class="math-display" align="top">   and dissipation rate   <img src="Aerof3d_files/img42.png" class="math-display" align="top">   of the flow through the porous media are computed as follows:
 </p><center class="math-display"> <img src="Aerof3d_files/img74.png" class="math-display" align="top"> </center> 

 <center class="math-display"> <img src="Aerof3d_files/img75.png" class="math-display" align="top"> </center> 

where,   <img src="Aerof3d_files/img76.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img77.png" class="math-display" align="top">   are user-supplied coefficients representing the average turbulence intensity and length scale respectively, and   <img src="Aerof3d_files/img78.png" class="math-display" align="top">  . 
Using these values of   <img src="Aerof3d_files/img40.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img42.png" class="math-display" align="top">  , the eddy viscosity   <img src="Aerof3d_files/img79.png" class="math-display" align="top">   is computed.

<p>The syntax of this object is:

</p><pre class="example">     under PorousMedium {
       Ix  =  <var>ix-real</var>;
       Iy  =  <var>iy-real</var>;
       Iz  =  <var>iz-real</var>;
       Jx  =  <var>jx-real</var>;
       Jy  =  <var>jy-real</var>;
       Jz  =  <var>jz-real</var>;
       Kx  =  <var>kx-real</var>;
       Ky  =  <var>ky-real</var>;
       Kz  =  <var>kz-real</var>;
       Alphax = <var>alphax-real</var>;
       Alphay = <var>alphay-real</var>;
       Alphaz = <var>alphaz-real</var>;
       Betax  = <var>betax-real</var>;
       Betay  = <var>betay-real</var>;
       Betaz  = <var>betaz-real</var>;
       Idr =  <var>idr-real</var>;
       Ldr =  <var>ldr-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>ix-real</var> [<code>1.0</code>]:

     </p><dl>
<dt></dt><dd>The x-component of the x-axis of the local coordinate system. 
</dd></dl>

<p class="noindent"><var>iy-real</var> [<code>0.0</code>]:

     </p><dl>
<dt></dt><dd>The y-component of the x-axis of the local coordinate system. 
</dd></dl>

<p class="noindent"><var>iz-real</var> [<code>0.0</code>]:

     </p><dl>
<dt></dt><dd>The z-component of the x-axis of the local coordinate system. 
</dd></dl>

<p class="noindent"><var>jx-real</var> [<code>0.0</code>]:

     </p><dl>
<dt></dt><dd>The x-component of the y-axis of the local coordinate system. 
</dd></dl>

<p class="noindent"><var>jy-real</var> [<code>1.0</code>]:

     </p><dl>
<dt></dt><dd>The y-component of the y-axis of the local coordinate system. 
</dd></dl>

<p class="noindent"><var>jz-real</var> [<code>0.0</code>]:

     </p><dl>
<dt></dt><dd>The z-component of the y-axis of the local coordinate system. 
</dd></dl>

<p class="noindent"><var>kx-real</var> [<code>0.0</code>]:

     </p><dl>
<dt></dt><dd>The x-component of the z-axis of the local coordinate system. 
</dd></dl>

<p class="noindent"><var>ky-real</var> [<code>0.0</code>]:

     </p><dl>
<dt></dt><dd>The y-component of the z-axis of the local coordinate system. 
</dd></dl>

<p class="noindent"><var>kz-real</var> [<code>1.0</code>]:

     </p><dl>
<dt></dt><dd>The z-component of the z-axis of the local coordinate system. 
</dd></dl>

<p class="noindent"><var>alphax-real</var> [<code>0.0</code>]:

     </p><dl>
<dt></dt><dd>Resistance coefficient of the Forchheimer term in the local x-direction. It has the dimension of mass/length  <img src="Aerof3d_files/img80.png" class="math-display" align="top">  . 
</dd></dl>

<p class="noindent"><var>alphay-real</var> [<code>0.0</code>]:

     </p><dl>
<dt></dt><dd>Resistance coefficient of the Forchheimer term in the local y-direction. It has the dimension of mass/length  <img src="Aerof3d_files/img80.png" class="math-display" align="top">  . 
</dd></dl>

<p class="noindent"><var>alphaz-real</var> [<code>0.0</code>]:

     </p><dl>
<dt></dt><dd>Resistance coefficient of the Forchheimer term in the local z-direction. It has the dimension of mass/length  <img src="Aerof3d_files/img80.png" class="math-display" align="top">  . 
</dd></dl>

<p class="noindent"><var>betax-real</var> [<code>0.0</code>]:

     </p><dl>
<dt></dt><dd>Resistance coefficient of the Darcy term in the local x-direction. It has the dimension of mass/length  <img src="Aerof3d_files/img81.png" class="math-display" align="top">  /time. 
</dd></dl>

<p class="noindent"><var>betay-real</var> [<code>0.0</code>]:

     </p><dl>
<dt></dt><dd>Resistance coefficient of the Darcy term in the local y-direction. It has the dimension of mass/length  <img src="Aerof3d_files/img81.png" class="math-display" align="top">  /time. 
</dd></dl>

<p class="noindent"><var>betaz-real</var> [<code>0.0</code>]:

     </p><dl>
<dt></dt><dd>Resistance coefficient of the Darcy term in the local z-direction. It has the dimension of mass/length  <img src="Aerof3d_files/img81.png" class="math-display" align="top">  /time. 
</dd></dl>

<p class="noindent"><var>idr-real</var> [<code>0.01</code>]:
     </p><dl>
<dt></dt><dd>Coefficient representing average turbulent intensity in the porous media. This is used to compute the turbulence
kinetic energy <var>k</var>. 
</dd></dl>

<p class="noindent"><var>ldr-real</var> [<code>0.1</code>]:
     </p><dl>
<dt></dt><dd>Coefficient representing the length scale of turbulence in 
the porous media (~0.1 times a characterstic passage dimension). This is
 used to compute the turbulence dissipation rate   <img src="Aerof3d_files/img42.png" class="math-display" align="top">  . 
</dd></dl>

<p class="noindent">Notes:
     </p><ol start="1" type="1">
<li>currently, flow through a porous medium is supported only when the 
fluid is modeled as a perfect gas in the remainder of the computational 
domain;
</li><li>currently, turbulence through a porous medium is supported only
 when a RANS turbulence model is selected for the remainder of the 
computational domain.
     </li></ol>
<!--  -->
<!-- InitialState -->
<!--  -->
<div class="node">
<a name="InitialState"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#PorousMedium">PorousMedium</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#VolumeData">VolumeData</a>

</div>

<h5 class="subsubsection">4.7.1.2 SPECIFYING AN INITIAL STATE FOR A MULTI-FLUID COMPUTATION</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>InitialState</b>
</td></tr></tbody></table>

</p><p>Whether in the context of a single-fluid or multi-fluid flow 
problem, this object can be used to specify the parameters of a uniform 
initial state in a region of the computational domain
identified outside this object. 
Its syntax is:

</p><pre class="example">     under InitialState {
       Mach = <var>mach-real</var>;
       Velocity = <var>velocity-real</var>;
       Alpha = <var>alpha-real</var>;
       Beta = <var>beta-real</var>;
       Density = <var>density-real</var>;
       Pressure = <var>pressure-real</var>;
       Temperature = <var>temperature-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>mach-real</var> [—]:
     </p><dl>
<dt></dt><dd>Initial Mach number. To be specified only if the velocity magnitude is not specified. 
</dd></dl>

<p class="noindent"><var>velocity-real</var> [—]:
     </p><dl>
<dt></dt><dd>Initial velocity magnitude. To be specified only if the Mach number is not specified. 
</dd></dl>

<p class="noindent"><var>alpha-real</var> [—]:
     </p><dl>
<dt></dt><dd>Initial angle of attack. 
</dd></dl>

<p class="noindent"><var>beta-real</var> [—]:
     </p><dl>
<dt></dt><dd>Initial sideslip angle. 
</dd></dl>

<p class="noindent"><var>density-real</var> [—]:
     </p><dl>
<dt></dt><dd>Initial density. Needs to be specified for a perfect gas, 
stiffened gas, and a fluid modeled by the JWL equation of state. 
For a barotropic liquid, this parameter needs to be specified only if no
 pressure value is specified (it is discarded if a pressure value is 
simultaneously specified). 
</dd></dl>

<p class="noindent"><var>pressure-real</var> [—]:
     </p><dl>
<dt></dt><dd>Initial pressure. Needs to be specified for a perfect gas, stiffened gas, and a fluid modeled by the JWL equation of state. 
For a barotropic liquid, this parameter needs to be specified only if no density value is specified. 
</dd></dl>

<p class="noindent"><var>temperature-real</var> [—]:
     </p><dl>
<dt></dt><dd>Initial temperature. Needs to be specified only for a 
barotropic liquid. It is discarded if it is specified for any other 
fluid. 
</dd></dl>
<!--  -->
<!-- ReferenceState object -->
<!--  -->

<div class="node">
<a name="ReferenceState"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Equations">Equations</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Volumes">Volumes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.8 DEFINING THE REFERENCE STATE</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>ReferenceState</b>
</td></tr></tbody></table>

</p><p>The <code>ReferenceState</code> object allows to specify some of the quantities used for
non-dimensionalizing the governing equations. Its syntax is:

</p><pre class="example">     under ReferenceState {
       Density = <var>density-real</var>;
       Temperature = <var>temp-real</var>;
       Reynolds = <var>reynolds-real</var>;
       Length = <var>length-real</var>;
       Mach = <var>mach-real</var>;
     }
</pre>
<p>with
<var>density-real</var> [—];
     </p><dl>
<dt></dt><dd>Reference density (required for simulations with variations of boundary conditions in time. See <a href="#BoundaryConditions">BoundaryConditions</a>). 
Its default value is that set in <a href="#Inlet">Inlet</a> for all boundary surfaces of the type <code>InletFixed</code> or <code>InletMoving</code>. 
</dd></dl>

<p class="noindent"><var>temp-real</var> [—]:
     </p><dl>
<dt></dt><dd>Reference temperature (required for non-dimensional viscous simulations with
the Sutherland viscosity model). 
</dd></dl>

<p class="noindent"><var>reynolds-real</var> [—]:
     </p><dl>
<dt></dt><dd>Reynolds number (required for non-dimensional viscous 
simulations). Its definition is based on the reference length, reference
 velocity, and reference density (see <a href="#Problem">Problem</a>). 
</dd></dl>

<p class="noindent"><var>length-real</var> [<code>1.0</code>]:
     </p><dl>
<dt></dt><dd>Reference length which is used to non-dimensionalize the mesh. The Reynolds number is based on this length. 
</dd></dl>

<p class="noindent"><var>Mach-real</var> [—]:
     </p><dl>
<dt></dt><dd>Reference Mach number that should be specified only if the inlet Mach number is not specified in <a href="#Inlet">Inlet</a> or specified to zero in
<code><a href="#Inlet">Inlet</a>.Mach</code>. Otherwise, the reference Mach number is automatically set to the non zero value of the free-stream Mach number
specified in <code><a href="#Inlet">Inlet</a>.Mach</code>. Hence, specifying the reference Mach number is useful primarily when the inlet Mach number is zero
as in a shock-tube problem. 
</dd></dl>

<p>Note:
     </p><ol start="1" type="1">
<li>the reference state conditions that cannot be specified by this command
but are perceived needed for the flow computation are set internally by
the code to the corresponding boundary values.
     </li></ol>
<!--  -->
<!-- Equations object -->
<!--  -->

<div class="node">
<a name="Equations"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#MultiPhase">MultiPhase</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ReferenceState">ReferenceState</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.9 DEFINING THE EQUATIONS TO BE SOLVED</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Equations</b>
</td></tr></tbody></table>

</p><p>The <code>Equations</code> object defines the type of equations to be solved. Its syntax is:

</p><pre class="example">     under Equations {
       Type = <var>type-id</var>;
       GravityX = <var>gravityx-real</var>;
       GravityY = <var>gravityy-real</var>;
       GravityZ = <var>gravityz-real</var>;
       under FluidModel[<var>fluid-id-int</var>] { ... }
       under ViscosityModel { ... }
       under ThermalConductivityModel { ... }
       under TurbulenceClosure { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>Euler</code>]:
     </p><dl>
<dt><code>Euler</code></dt><dd>Inviscid flow simulation based on the compressible Euler equations.

     <br></dd><dt><code>NavierStokes</code></dt><dd>Viscous flow simulation based on the compressible Navier-Stokes equations. 
</dd></dl>

<p class="noindent"><var>gravityx-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Value of the gravity field in the x-direction, if any. 
</dd></dl>

<p class="noindent"><var>gravityy-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Value of the gravity field in the y-direction, if any. 
</dd></dl>

<p class="noindent"><var>gravityz-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Value of the gravity field in the z-direction, if any. 
</dd></dl>

<p class="noindent"><code>FluidModel</code>:
     </p><dl>
<dt></dt><dd>Defines the properties of the fluid in a single-phase flow problem. The corresponding syntax is defined
in the <var>FluidModel</var> object (see <a href="#FluidModel">FluidModel</a>). 
</dd></dl>

<p class="noindent"><var>fluid-id-int</var>[—]
     </p><dl>
<dt></dt><dd>Integer identifier of a fluid medium. 
</dd></dl>

<p class="noindent"><code>ViscosityModel</code>:
     </p><dl>
<dt></dt><dd>Specifies the viscosity model to be used in a viscous flow problem. 
</dd></dl>

<p class="noindent"><code>ThermalConductivityModel</code>:
     </p><dl>
<dt></dt><dd>Specifies the behavior of the heat conductivity coefficient of a viscous fluid. 
</dd></dl>

<p class="noindent"><code>TurbulenceClosure</code>:
     </p><dl>
<dt></dt><dd>Specifies the turbulence model as either a RANS or LES model. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#FluidModel">FluidModel</a>
</li><li><a accesskey="2" href="#ViscosityModel">ViscosityModel</a>
</li><li><a accesskey="3" href="#ThermalConductivityModel">ThermalConductivityModel</a>
</li><li><a accesskey="4" href="#TurbulenceClosure">TurbulenceClosure</a>
</li></ul>
<!--  -->
<!-- FluidModel object -->
<!--  -->

<div class="node">
<a name="FluidModel"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ViscosityModel">ViscosityModel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Equations">Equations</a>

</div>

<h4 class="subsection">4.9.1 SPECIFYING A FLUID MODEL</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>FluidModel</b>
</td></tr></tbody></table>

</p><p>The object <code>FluidModel</code>[<var>fluid-id-int</var>], where <var>fluid-id-int</var>
 is an integer identifying a fluid medium,
can be used to specify an equation of state (EOS) for this medium and 
its parameters. The user can choose between the EOS of a
perfect gas, stiffened gas, Tait's EOS which typically models a 
compressible barotropic liquid, and the Jones-Wilkins-Lee (JWL) EOS
which typically models a highly explosive gas.

<!-- Currently, viscous effects are implemented only for a perfect gas. -->
</p><p>The syntax of this object is:

</p><pre class="example">     under FluidModel[<var>fluid-id-int</var>] {
       Fluid = <var>fluidtype-id</var>;
       PressureCutOff = <var>pressurecutoff-real</var>;
       DensityCutOff = <var>densitycutoff-real</var>;
       under GasModel { ... }
       under LiquidModel { ... }
       under JWLModel { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>fluid-id-int</var> [ ]:
     </p><dl>
<dt></dt><dd>Integer number identifying a fluid medium. When the problem involves a single fluid, <var>fluid-id-int</var> must be set to 0 (which is done by default). 
When it involves multiple fluids, <var>fluid-id-int</var> must be assigned in a consecutive manner (no gap) starting with 0. 
<b>AERO-F</b> can handle a multi-fluid problem with an arbitrary number of fluid media. However, <b>AERO-F</b>
 can currently handle
only three different fluid-fluid interfaces which furthermore must be 
between a same fluid — referred to in this User's Reference Manual as
the “primary” fluid — and any one of three other fluids. In this case, 
the primary fluid must be identified by <var>fluid-id-int</var> = 0, and must be
the only fluid which occupies a part of the computational domain with far-field boundary conditions. 
</dd></dl>

<p class="noindent"><var>fluidtype-id</var> [<code>PerfectGas</code>]:
     </p><dl>
<dt><code>PerfectGas</code></dt><dd>The fluid is modeled as a perfect gas.

     <br></dd><dt><code>StiffenedGas</code></dt><dd>The fluid is modeled as a stiffened gas.

     <br></dd><dt><code>Liquid</code></dt><dd>The fluid is modeled as a barotropic liquid governed by Tait's EOS.

     <br></dd><dt><code>JWL</code></dt><dd>The fluid is modeled as a highly explosive gas governed by the Jones-Wilkins-Lee EOS. 
</dd></dl>

<p class="noindent"><var>pressurecutoff-real</var> [—]:
     </p><dl>
<dt></dt><dd>Lower threshold for the pressure. This limit value of the 
pressure can be used to avoid artificial cavitation due to 
discretization
error for a given EOS. Essentially, if the computed value of the 
pressure field becomes lower than the specified threshold value,
it is set to the specified threshold value. The dimensional or 
non-dimensional mode of this parameter should be consistent with
the mode of the simulation (see <a href="#Problem">Problem</a>). 
</dd></dl>

<p class="noindent"><var>densitycutoff-real</var> [—]:
     </p><dl>
<dt></dt><dd>Lower threshold for the density. This limit value of the 
density can be used to avoid artificial cavitation due to discretization
error for a given EOS. Essentially, if the computed value of the density
 field becomes lower than the specified threshold value,
it is set to the specified threshold value. The dimensional or 
non-dimensional mode of this parameter should be consistent with
the mode of the simulation (see <a href="#Problem">Problem</a>). 
</dd></dl>

<p class="noindent"><code>GasModel</code>:
     </p><dl>
<dt></dt><dd>Specifies the parameters of a perfect or stiffened gas. 
</dd></dl>

<p class="noindent"><code>LiquidModel</code>:
     </p><dl>
<dt></dt><dd>Specifies the model for a compressible liquid and its parameters. 
</dd></dl>

<p class="noindent"><code>JWLModel</code>:
     </p><dl>
<dt></dt><dd>Specifies the model for a highly explosive gas and its parameters. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#GasModel">GasModel</a>
</li><li><a accesskey="2" href="#LiquidModel">LiquidModel</a>
</li><li><a accesskey="3" href="#JWLModel">JWLModel</a>
</li></ul>
<!--  -->
<!-- GasModel object -->
<!--  -->

<div class="node">
<a name="GasModel"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#LiquidModel">LiquidModel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#FluidModel">FluidModel</a>

</div>

<h5 class="subsubsection">4.9.1.1 SPECIFYING THE EQUATION OF STATE OF A PERFECT OR STIFFENED GAS</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>GasModel</b>
</td></tr></tbody></table>

</p><p>The object <code>GasModel</code> is currently restricted to the equation of state (EOS) of a stiffened gas which can be written as

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img82.png" class="math-display" align="top"> </center> 


<p></p><center class="math-display"> <img src="Aerof3d_files/img83.png" class="math-display" align="top"> </center> 


<p>where   <img src="Aerof3d_files/img61.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img84.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img65.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img85.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img86.png" class="math-display" align="top">   denote the pressure, density, temperature, internal energy per unit mass and internal
enthalpy per unit mass, respectively, and   <img src="Aerof3d_files/img87.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img88.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img89.png" class="math-display" align="top">   are the ratio of specific heats, a pressure constant,
and the specific heat at constant pressure, respectively. For example, in the case of water which can be modeled as a stiffened
gas,   <img src="Aerof3d_files/img88.png" class="math-display" align="top">   represents the molecular attraction between water molecules.

</p><p>The EOS of an ideal (perfect) gas is a particular case of the EOS of a stiffened gas obtained by setting   <img src="Aerof3d_files/img90.png" class="math-display" align="top">  , which leads to

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img91.png" class="math-display" align="top"> </center> 


<p>where   <img src="Aerof3d_files/img92.png" class="math-display" align="top">   is the ideal gas constant.

</p><p>The specific heats at constant volume and constant pressure are given by

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img93.png" class="math-display" align="top"> </center> 


<p>respectively.

</p><pre class="sp">
</pre>

The syntax of this object is:

<pre class="example">     under GasModel {
       SpecificHeatRatio              = <var>gamma-real</var>;
       IdealGasConstant               = <var>R-real</var>;
       PressureConstant               = <var>psg-real</var>;
       SpecificHeatAtConstantPressure = <var>cp-real</var>;
     
     }
</pre>
<p>with

</p><p class="noindent"><var>gamma-real</var> [<code>1.4</code>]:
     </p><dl>
<dt></dt><dd>Ratio of specific heats   <img src="Aerof3d_files/img87.png" class="math-display" align="top">  . It must be specified for both a stiffened gas and a perfect gas. 
</dd></dl>

<p class="noindent"><var>R-real</var> [<code>287.1</code>]:
     </p><dl>
<dt></dt><dd>Ideal gas constant (hence, must be specified only for a perfect gas, instead of the specific heat at
constant pressure). It is used by <b>AERO-F</b> only in dimensional 
simulations where a temperature boundary
condition is specified, or a temperature output is requested, or 
Sutherland's viscosity model is used. In such cases, this constant
must be specified in the same system of units as all other input data 
(its default value is equal to   <img src="Aerof3d_files/img94.png" class="math-display" align="top">
   and therefore
should be used only when the units of this default value are consistent 
with the system of units chosen for all other input data). 
</dd></dl>

<p class="noindent"><var>psg-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Stiffened gas pressure constant   <img src="Aerof3d_files/img88.png" class="math-display" align="top">   expressed in pressure units consistent with the system of units used by all other input data. 
For a perfect gas, this constant is zero (default value). 
</dd></dl>

<p class="noindent"><var>cp-real</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>Stiffened gas specific heat at constant pressure expressed in units consistent with the system
of units used by all other input data. It need not be specified for a perfect gas (instead, the ideal gas constant is specified
for a perfect gas). 
</dd></dl>

<p class="noindent">Notes:
     </p><ol start="1" type="1">
<li>when a fluid is modeled as a stiffened gas, the flow computation must be performed in dimensional mode (<code><a href="#Problem">Problem</a>.Mode</code> = <code>Dimensional</code>);
</li><li>if a temperature boundary condition is specified, or the temperature field is outputted, or Sutherland's viscosity model
is used, special attention should be paid to ensure that: for a dimensional simulation, the ideal gas constant <var>R-real</var>
 is
specified for a perfect gas and the specific heat at constant pressure 
is specified for a stiffened gas in the same system of units
as the temperature and all other input data.
     </li></ol>

<!--  -->
<!-- LiquidModel object -->
<!--  -->
<div class="node">
<a name="LiquidModel"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#JWLModel">JWLModel</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#GasModel">GasModel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#FluidModel">FluidModel</a>

</div>

<h5 class="subsubsection">4.9.1.2 SPECIFYING THE TAIT EQUATION OF STATE</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>LiquidModel</b>
</td></tr></tbody></table>

</p><p>The object <code>LiquidModel</code> is currently restricted to Tait's barotropic equation of
state (EOS)

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img95.png" class="math-display" align="top"> </center> 


<p></p><center class="math-display"> <img src="Aerof3d_files/img83.png" class="math-display" align="top"> </center> 


<p>where   <img src="Aerof3d_files/img61.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img84.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img65.png" class="math-display" align="top">  , and   <img src="Aerof3d_files/img86.png" class="math-display" align="top">   denote the pressure, density, temperature and internal enthalpy per unit mass, respectively,
  <img src="Aerof3d_files/img96.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img62.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img63.png" class="math-display" align="top">   are three constants,   <img src="Aerof3d_files/img97.png" class="math-display" align="top">   is a reference state, and   <img src="Aerof3d_files/img89.png" class="math-display" align="top">   is the specific heat at
constant pressure.

</p><p>The Tait EOS also assumes that the bulk modulus <var>K</var> is anaffine function of the pressure

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img98.png" class="math-display" align="top"> </center> 


<p>where   <img src="Aerof3d_files/img99.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img18.png" class="math-display" align="top">   are two constants.

</p><p>The constants   <img src="Aerof3d_files/img96.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img63.png" class="math-display" align="top">   are determined from the knowledge of   <img src="Aerof3d_files/img99.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img18.png" class="math-display" align="top">   as follows

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img100.png" class="math-display" align="top"> </center> 


<p>and the constant   <img src="Aerof3d_files/img62.png" class="math-display" align="top">   is determined from the knowledge of the reference state  <img src="Aerof3d_files/img97.png" class="math-display" align="top">   as follows

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img101.png" class="math-display" align="top"> </center> 


<p>The specific heat at constant pressure   <img src="Aerof3d_files/img89.png" class="math-display" align="top">   of a fluid modeled by Tait's EOS must be specified by the user,
unless the problem definition includes a free-stream whose EOS is the same Tait's EOS of interest, in which case
<b>AERO-F</b> automatically sets   <img src="Aerof3d_files/img89.png" class="math-display" align="top">   to

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img102.png" class="math-display" align="top"> </center> 


<p>where   <img src="Aerof3d_files/img103.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img104.png" class="math-display" align="top">   are the free-stream density and temperature, respectively,
specified or set by <b>AERO-F</b> as explained in <a href="#Inlet">Inlet</a>.

</p><p>An alternative expression of the first component of Tait's EOS is

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img105.png" class="math-display" align="top"> </center> 


<p>where   <img src="Aerof3d_files/img106.png" class="math-display" align="top">  . Hence, the user can specify either   <img src="Aerof3d_files/img99.png" class="math-display" align="top">   or   <img src="Aerof3d_files/img107.png" class="math-display" align="top">  .

</p><pre class="sp">
</pre>

The syntax of the object <code>LiquidModel</code> is:

<pre class="example">     under LiquidModel {
       k1       = <var>k1-real</var>;
       k2       = <var>k2-real</var>;
       B        = <var>B-real</var>;
       SpecificHeatAtConstantPressure = <var>cp-real</var>;
       Pressure = <var>referencepressure-real</var>;
       Density  = <var>referencedensity-real</var>;
       Burnable = <var>burnable-id</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>k1-real</var> [<code>2.07e9</code>]:
     </p><dl>
<dt></dt><dd>One of the two constants defining the behavior of the bulk modulus. Its default value is   <img src="Aerof3d_files/img108.png" class="math-display" align="top">
   and corresponds to water. 
However, even for water, this default value should be used only when its
 units are consistent with the system of units chosen for all other 
input data. 
If <var>B-real</var> is also specified, <var>k1-real</var> is ignored. 
</dd></dl>

<p class="noindent"><var>k2-real</var> [<code>7.15</code>]:
     </p><dl>
<dt></dt><dd>Second constant defining the behavior of the bulk modulus. This constant is non-dimensional. Its default value is   <img src="Aerof3d_files/img109.png" class="math-display" align="top">   and corresponds to water. 
</dd></dl>

<p class="noindent"><var>B-real</var> [—]:
     </p><dl>
<dt></dt><dd>This parameter can be specified instead of the parameter <var>k1-real</var> discussed above, in order to describe Tait's EOS. 
If for some reason <var>k1-real</var> is also specified, <var>k1-real</var> is ignored. 
</dd></dl>

<p class="noindent"><var>cp-real</var> [—]:
     </p><dl>
<dt></dt><dd>Specific heat at constant pressure expressed in units consistent with the system of units used by all other input data. 
If the problem definition includes a free-stream whose EOS is the same Tait's EOS of interest, <b>AERO-F</b> automatically
sets this parameter as explained above, even when specified to a different value by the user. 
</dd></dl>

<p class="noindent"><var>referencepressure-real</var> [—]:
     </p><dl>
<dt></dt><dd>This reference pressure value must be chosen in agreement with the reference density value (see below),
and expressed in pressure units consistent with the system of units used by all other input data. 
It can be found in a thermodynamic table.

</dd></dl>

<p class="noindent"><var>referencedensity-real</var> [—]:
     </p><dl>
<dt></dt><dd>This reference density value must be chosen in agreement 
with the reference pressure value (see above),
and expressed in density units consistent with the system of units used 
by all other input data. It can be found in a thermodynamic table. 
</dd></dl>

<p class="noindent"><var>burnable-flag</var> [False];
     </p><dl>
<dt><code>True</code></dt><dd>Specifies that the fluid identified by <var>fluid-id-int</var> (see <a href="#FluidModel">FluidModel</a>) is burnable (see <a href="#ProgrammedBurn">ProgrammedBurn</a>). 
<br></dd><dt><code>False</code></dt><dd>Specifies that the fluid identified by <var>fluid-id-int</var> (see <a href="#FluidModel">FluidModel</a>) is not burnable (see <a href="#ProgrammedBurn">ProgrammedBurn</a>). 
</dd></dl>

<p>Notes:
     </p><ol start="1" type="1">
<li>the reference pressure and density are not independent: they must correspond to a physical state — the user can set them
by looking at thermodynamic tables;
</li><li>it is best to set the reference pressure and density to their free-stream values.
     </li></ol>
<!--  -->
<!-- JWLModel object -->
<!--  -->
<div class="node">
<a name="JWLModel"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#LiquidModel">LiquidModel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#FluidModel">FluidModel</a>

</div>

<h5 class="subsubsection">4.9.1.3 SPECIFYING THE JWL EQUATION OF STATE</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>JWLModel</b>
</td></tr></tbody></table>

</p><p>This object can be used to specify the parameters of the Jones-Wilkins-Lee equation of state (EOS) which can be written as

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img110.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img61.png" class="math-display" align="top">   denotes the pressure of the fluid medium,   <img src="Aerof3d_files/img84.png" class="math-display" align="top">   its density,   <img src="Aerof3d_files/img42.png" class="math-display" align="top">   its internal energy per unit mass,
  <img src="Aerof3d_files/img111.png" class="math-display" align="top">   is a non-dimensional constant,   <img src="Aerof3d_files/img112.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img113.png" class="math-display" align="top">   are two constants with pressure units,   <img src="Aerof3d_files/img114.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img115.png" class="math-display" align="top">   are
two non-dimensional constants, and   <img src="Aerof3d_files/img116.png" class="math-display" align="top">   is a constant with a density unit.

<p>The syntax of this object is:

</p><pre class="example">     under JWLModel {
       Omega = <var>omega-real</var>;
       A1 = <var>a1-real</var>;
       R1 = <var>r1-real</var>;
       A2 = <var>a2-real</var>;
       R2 = <var>r2-real</var>;
       ReferenceDensity = <var>referencedensity-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>omega-real</var>[0.4]
     </p><dl>
<dt></dt><dd>First constant defining the behavior of the JWL EOS. It is non-dimensional. Its default value is   <img src="Aerof3d_files/img117.png" class="math-display" align="top">  . 
</dd></dl>

<p class="noindent"><var>a1-real</var>[0.0]
     </p><dl>
<dt></dt><dd>Second constant defining the behavior of the JWL EOS. It 
has the dimension of a pressure and therefore should be expressed in 
pressure units consistent with the system of units used by all other 
input data. 
</dd></dl>

<p class="noindent"><var>r1-real</var>[1.0]
     </p><dl>
<dt></dt><dd>Third constant defining the behavior of the JWL EOS. It is non-dimensional. Its default value is   <img src="Aerof3d_files/img118.png" class="math-display" align="top">  . 
</dd></dl>

<p class="noindent"><var>a2-real</var>[0.0]
     </p><dl>
<dt></dt><dd>Fourth constant defining the behavior of the JWL EOS. It 
has the dimension of a pressure and therefore should be expressed in 
pressure units consistent with the system of units used by all other 
input data. 
</dd></dl>

<p class="noindent"><var>r2-real</var>[1.0]
     </p><dl>
<dt></dt><dd>Fifth constant defining the behaviour of the JWL EOS. It is non-dimensional. Its default value is   <img src="Aerof3d_files/img118.png" class="math-display" align="top">  . 
</dd></dl>

<p class="noindent"><var>referencedensity-real</var>[1.0]
     </p><dl>
<dt></dt><dd>Last constant defining the behaviour of the JWL EOS. It has
 the dimension of a density and therefore should be expressed in density
 units consistent with the system of units used by all other input data.
 
Its default value is   <img src="Aerof3d_files/img119.png" class="math-display" align="top">
   and therefore should be used only when the units of this default 
value are consistent with the system of units chosen for all other input
 data. 
</dd></dl>

<!--  -->
<!-- ViscosityModel object -->
<!--  -->
<div class="node">
<a name="ViscosityModel"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ThermalConductivityModel">ThermalConductivityModel</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#FluidModel">FluidModel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Equations">Equations</a>

</div>

<h4 class="subsection">4.9.2 SPECIFYING THE VISCOSITY MODEL</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>ViscosityModel</b>
</td></tr></tbody></table>

</p><p>The object <code>ViscosityModel</code> can be used to specify a viscosity model. 
Its syntax is:

</p><pre class="example">     under ViscosityModel {
       Type                           = <var>type-id</var>;
       SutherlandConstant             = <var>cst-real</var>;
       SutherlandReferenceTemperature = <var>temp-real</var>;
       DynamicViscosity               = <var>dynavisc-real</var>;
       BulkViscosity                  = <var>bulkvisc-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>Sutherland</code>]:
     </p><dl>
Identifies the Sutherland viscosity model <i>for an ideal gas</i>, or a constant dynamic viscosity (in space and time). 
</dl>

     <dl>
<dt><code>Sutherland</code></dt><dd>Sutherland's viscosity law. For an ideal gas, a widely used formula is

     <p></p><center class="math-display"> <img src="Aerof3d_files/img120.png" class="math-display" align="top"> </center> 


     <p>where Sutherland's constants   <img src="Aerof3d_files/img121.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img122.png" class="math-display" align="top">   are specified below.

     <br></p></dd><dt><code>Constant</code></dt><dd>Constant viscosity model applicable to all equations of state supported by<b>AERO-F</b>. It is recommended for dimensionless analyses. 
</dd></dl>

<p class="noindent"><var>cst-real</var> [<code>1.458e-6</code>]:
     </p><dl>
<dt></dt><dd>Sutherland's constant   <img src="Aerof3d_files/img121.png" class="math-display" align="top">  . Its default value is   <img src="Aerof3d_files/img123.png" class="math-display" align="top">
   and corresponds to air. 
However, even for air, this default value should be used only when its 
units are consistent with the system of units chosen for all other input
 data. 
</dd></dl>

<p class="noindent"><var>temp-real</var> [<code>110.6</code>]:
     </p><dl>
<dt></dt><dd>Sutherland's reference temperature   <img src="Aerof3d_files/img122.png" class="math-display" align="top">
  . When performing a non-dimensional simulation, this temperature must 
be specified in the same system of units as the reference temperature
<code><a href="#ReferenceState">ReferenceState</a>.Temperature</code>. Its default value is   <img src="Aerof3d_files/img124.png" class="math-display" align="top">   and corresponds to air. However, even for air, this default value should be used only when its units
are consistent with the system of units chosen for all other input data. 
</dd></dl>

<p class="noindent"><var>dynavisc-real</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>Dynamic viscosity coefficient (assumed to be constant). 
</dd></dl>

<p class="noindent"><var>bulkvisc-real</var> [<code>0</code>]
     </p><dl>
<dt></dt><dd>Bulk viscosity coefficient (assumed to be constant) when the fluid is not assumedto satisfy Stoke's hypothesis (zero
bulk viscosity). 
</dd></dl>

<p class="noindent">Notes:
     </p><ol start="1" type="1">
<li>special attention should be paid to the consistency of the units of <var>cst-real</var> and <var>R-real</var> (see <a href="#GasModel">GasModel</a>), and the
units of all other data in the remainder of the input file;
</li><li>Sutherland's viscosity law is not recommended for dimensionless
 analyses because it results in a non-uniform dynamic viscosity that can
 become inconsistent with the Reynolds
nunmber specified in <code><a href="#ReferenceState">ReferenceState</a>.Reynolds</code>.
     </li></ol>

<!--  -->
<!-- ThermalConductivityModel object -->
<!--  -->
<div class="node">
<a name="ThermalConductivityModel"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#TurbulenceClosure">TurbulenceClosure</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ViscosityModel">ViscosityModel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Equations">Equations</a>

</div>

<h4 class="subsection">4.9.3 THERMAL CONDUCTIVITY MODEL</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>ThermalConductivityModel</b>
</td></tr></tbody></table>

</p><p>The object <code>ThermalConductivityModel</code> can be used to specify the behavior of the heat conductivity coefficient   <img src="Aerof3d_files/img40.png" class="math-display" align="top"> 

of a fluid. If this fluid is barotropic — that is, governed by Tait's equation of state (EOS) — or if it is a stiffened
gas, it is assumed to be characterized by two constants: a constant dynamic viscosity   <img src="Aerof3d_files/img125.png" class="math-display" align="top">   that is set
in <code><a href="#ViscosityModel">ViscosityModel</a>.DynamicViscosity</code>, and a constant specific heat at constant pressure   <img src="Aerof3d_files/img89.png" class="math-display" align="top">   that is set
in <code><a href="#GasModel">GasModel</a>.SpecificHeatAtConstantPressure</code> or implied by the constants set in <a href="#LiquidModel">LiquidModel</a>. 
If on the other hand it is a perfect gas, it is characterized at least by one constant, the ideal gas constant set in
<code><a href="#GasModel">GasModel</a>.IdealGasConstant</code>,
as its dynamic viscosity can be either a constant or governed by Sutherland's viscosity law (see <a href="#ViscosityModel">ViscosityModel</a>).

</p><p>For any of the above discussed fluids,   <img src="Aerof3d_files/img40.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img125.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img89.png" class="math-display" align="top">   are related by the Prandtl number

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img126.png" class="math-display" align="top"> </center> 


<p>Hence, the heat conductivity coefficient   <img src="Aerof3d_files/img40.png" class="math-display" align="top">   can be specified either directly, or via a constant Prandtl number (including
for dimensional simulations). If   <img src="Aerof3d_files/img40.png" class="math-display" align="top">   is constant, it can be specified directly using <code>ThermalConductivity.HeatConductivity</code>. 
If it is specified via a constant Prandtl number in <code>ThermalConductivity.Prandtl</code>, it is computed as

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img127.png" class="math-display" align="top"> </center> 


<p>where the specific heat ratio at constant pressure   <img src="Aerof3d_files/img89.png" class="math-display" align="top">   is that specified in <code><a href="#GasModel">GasModel</a>.SpecificHeatAtConstantPressure</code>
or implied by the parameters set in <a href="#LiquidModel">LiquidModel</a>, and   <img src="Aerof3d_files/img125.png" class="math-display" align="top">   is specified in <a href="#ViscosityModel">ViscosityModel</a>.

</p><p>Hence, note that if   <img src="Aerof3d_files/img125.png" class="math-display" align="top">   is constant, specifying a constant Prandtl number is equivalent to specifying a constant conductivity
coefficient.

</p><pre class="sp">
</pre>

The syntax of this object is:

<pre class="example">     under ThermalConductivityModel{
       Type                           = <var>type-id</var>;
       HeatConductivity               = <var>heatcond-real</var>;
       Prandtl                        = <var>prandtl-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>ConstantPrandtl</code>]:
     </p><dl>
Specifies whether the heat conductivity coefficient   <img src="Aerof3d_files/img40.png" class="math-display" align="top">   is inputted directly or via the Prandtl number (and the
specific heat at constant pressure and dynamic viscosity specified elsewhere, as indicated above). 
</dl>

     <dl>
<dt><code>ConstantConductivity</code></dt><dd>In this case, the constant heat conductivity coefficient   <img src="Aerof3d_files/img40.png" class="math-display" align="top">   is inputted directly in <var>heatcond-real</var> (see below). 
<br></dd><dt><code>ConstantPrandtl</code></dt><dd>In this case, the constant heat conductivity coefficient   <img src="Aerof3d_files/img40.png" class="math-display" align="top">   is inputted via the Prandtl number which is assumed to
be constant (see below). 
</dd></dl>

<p class="noindent"><var>heatcond-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Heat conductivity coefficient (assumed to be constant). 
</dd></dl>

<p class="noindent"><var>prandtl-real</var> [<code>0.72</code>]:
     </p><dl>
<dt></dt><dd>Prandtl number (assumed to be constant). 
</dd></dl>

<!--  -->
<!-- TurbulenceClosure object -->
<!--  -->
<div class="node">
<a name="TurbulenceClosure"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ThermalConductivityModel">ThermalConductivityModel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Equations">Equations</a>

</div>

<h4 class="subsection">4.9.4 SPECIFYING THE TURBULENCE CLOSURE</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>TurbulenceClosure</b>
</td></tr></tbody></table>

</p><p>For viscous flow simulations, the type of turbulence closure is defined within
the <code>TurbulenceClosure</code> object. Its syntax is:

</p><pre class="example">     under TurbulenceClosure {
       Type = <var>type-id</var>;
       PrandtlTurbulent = <var>coefficient-real</var>;
       under TurbulenceModel { ... }
       under LESModel { ... }
       under Tripping{ ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>None</code>]:
     </p><dl>
<dt><code>None</code></dt><dd>The compressible Navier-Stokes equations are solved without any additional model. 
<br></dd><dt><code>TurbulenceModel</code></dt><dd>The averaged compressible Navier-Stokes equations are solved with an eddy
viscosity turbulence model (see <a href="#TurbulenceModel">TurbulenceModel</a>). 
<br></dd><dt><code>LESModel</code></dt><dd>The compressible Navier-Stokes equations are solved with a large eddy
simulation model (see <a href="#LESModel">LESModel</a>). 
</dd></dl>

<p class="noindent"><var>coefficient-real</var> [0.9]:
     </p><dl>
<dt></dt><dd>Subgrid-scale Prandtl number which is assumed to be constant. 
</dd></dl>

<p class="noindent"><code>TurbulenceModel</code>:
     </p><dl>
<dt></dt><dd>Speficies the eddy viscosity model to be used in the computation. 
</dd></dl>

<p class="noindent"><code>LESModel</code>:
     </p><dl>
<dt></dt><dd>Specifies the LES model to be used in the computation. 
</dd></dl>

<p class="noindent"><code>Tripping</code>:
     </p><dl>
<dt></dt><dd>Specifies the box within the computational domain in which the turbulence model is to be used. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#TurbulenceModel">TurbulenceModel</a>
</li><li><a accesskey="2" href="#LESModel">LESModel</a>
</li><li><a accesskey="3" href="#Tripping">Tripping</a>
</li></ul>
<!--  -->
<!-- TurbulenceModel object -->
<!--  -->

<div class="node">
<a name="TurbulenceModel"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#LESModel">LESModel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#TurbulenceClosure">TurbulenceClosure</a>

</div>

<h5 class="subsubsection">4.9.4.1 SPECIFYING THE EDDY VISCOSITY MODEL</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>TurbulenceModel</b>
</td></tr></tbody></table>

</p><p>For turbulent flow simulations based on the averaged Navier-Stokes equations
augmented by an eddy viscosity model, the type of the turbulence model
is defined within the <code>TurbulenceModel</code> object. Its syntax is:

</p><pre class="example">     under TurbulenceModel {
       Type = <var>type-id</var>;
       under SpalartAllmaras { ... }
       under DES { ... }
       under WallDistanceMethod { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>SpalartAllmaras</code>]:
     </p><dl>
<dt><code>SpalartAllmaras</code></dt><dd>One-equation Spalart-Allmaras turbulence model. 
<br></dd><dt><code>DES</code></dt><dd>Detached eddy simulation method 
based on the Spalart-Allmaras model. See Appendix C for a description of
 the mesh requirements (see <a href="#DESMESH">DESMESH</a>). 
<br></dd><dt><code>KEpsilon</code></dt><dd>
Two-equation   <img src="Aerof3d_files/img41.png" class="math-display" align="top">   turbulence model.

</dd></dl>

<p class="noindent"><code>SpalartAllmaras</code>:
     </p><dl>
<dt></dt><dd>Specifies either the original form of the Spalart-Allmaras turbulence model, or its modified form known as the fv3 model. 
</dd></dl>

<p class="noindent"><code>WallDistanceMethod</code>:
     </p><dl>
<dt></dt><dd>This object is relevant only for simulations using the 
computational framework of the embedded boundary method for CFD — that 
is, when <code><a href="#Problem">Problem</a>.Framework</code> = <code>Embedded</code>,
and when the Spalart-Allmaras or DES turbulence model is chosen (see 
above). It specifies a method for computing in this case the distance of
 each grid point of the CFD mesh to the wall. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#SpalartAllmaras">SpalartAllmaras</a>
</li><li><a accesskey="2" href="#DES">DES</a>
</li><li><a accesskey="3" href="#WallDistanceMethod">WallDistanceMethod</a>
</li></ul>

<!--  -->
<!-- SA turbulence model -->
<!--  -->
<div class="node">
<a name="SpalartAllmaras"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#DES">DES</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#TurbulenceModel">TurbulenceModel</a>

</div>

<h5 class="unnumberedsubsubsec">4.9.4.1.1 SPECIFYING THE FORM OF THE SPALART-ALLMARAS TURBULENCE MODEL</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>SpalartAllmaras</b>
</td></tr></tbody></table>
This object allows the user to specify one of two forms of the Spalart-Allmaras
turbulence model. Its syntax is:

</p><pre class="example">     under SpalartAllmaras{
       Form  = <var>form-id</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>form-id</var> [<code>Original</code>]:
     </p><dl>
<dt><code>Fv3</code></dt><dd>Specifies the modified form of the Spalart-Allmaras turbulence model known as the fv3 form. 
This form was devised to prevent negative values of the source term that were experienced early on with the original form
of this turbulence model. It is not recommended for low Reynolds number problems, say below   <img src="Aerof3d_files/img128.png" class="math-display" align="top">  , because of its unusual transition behavior
in this flow regime.

     <br></dd><dt><code>Original</code></dt><dd>Specifies the original form of the Spalart-Allmaras turbulence model. 
</dd></dl>

<!--  -->
<!-- DES method -->
<!--  -->
<div class="node">
<a name="DES"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#WallDistanceMethod">WallDistanceMethod</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SpalartAllmaras">SpalartAllmaras</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#TurbulenceModel">TurbulenceModel</a>

</div>

<h5 class="unnumberedsubsubsec">4.9.4.1.2 SPECIFYING THE FORM OF THE DES METHOD</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>DES</b>
</td></tr></tbody></table>
This object allows the user to specify one of two forms of the DES method. Its syntax is:

</p><pre class="example">     under DES{
       Form  = <var>form-id</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>form-id</var> [<code>Original</code>]:
     </p><dl>
<dt><code>Fv3</code></dt><dd>Specifies the DES method based on the modified form of the Spalart-Allmaras turbulence model known as the fv3 form. 
This form was devised to prevent negative values of the source term that were experienced early on with the original form
of this turbulence model. It is not recommended for low Reynolds number problems, say below   <img src="Aerof3d_files/img128.png" class="math-display" align="top">  , because of its unusual transition behavior
in this flow regime.

     <br></dd><dt><code>Original</code></dt><dd>Specifies the DES method based on the original form of the Spalart-Allmaras turbulence model. 
</dd></dl>

<!--  -->
<!-- WallDistanceMethod object -->
<!--  -->
<div class="node">
<a name="WallDistanceMethod"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#DES">DES</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#TurbulenceModel">TurbulenceModel</a>

</div>

<h5 class="unnumberedsubsubsec">4.9.4.1.3 SPECIFYING THE METHOD FOR COMPUTING THE DISTANCE TO THE WALL</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>WallDistanceMethod</b>
</td></tr></tbody></table>

</p><p>When <code><a href="#Problem">Problem</a>.Framework</code> = <code>Embedded</code> or <code>EmbeddedALE</code>
 — that is, when the computational framework is set to that of the 
embedded boundary method for CFD,
and when the Spalart-Allmaras or DES turbulence model is chosen for 
modeling turbulence, this object allows the user to specify the method 
for computing the
distance between each grid point of the CFD mesh and the wall boundary. 
Its syntax is:

</p><pre class="example">     under WallDistanceMethod{
       Type = <var>type-id</var>;
       MaxIts = <var>maxits-int</var>;
       Eps = <var>eps-real</var>;
       NumberIterativeLayers = <var>numberiterativelayers-int</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>NonIterative</code>]:
     </p><dl>
<dt><code>Iterative</code></dt><dd>Specifies an iterative method for computing for each grid point of the CFD mesh its distance to the nearest wall boundary. 
This method is very accurate but computationally intensive. 
<br></dd><dt><code>NonIterative</code></dt><dd>Specifies a non iterative method for computing for each grid point of the CFD mesh its distance to the nearest wall boundary. 
This method is not as accurate as its iterative counterpart but is less computationally intensive. 
<br></dd><dt><code>Hybrid</code></dt><dd>Specifies a method for 
computing for each grid point of the CFD mesh its distance to the 
nearest wall boundary that is iterative near the
wall boundary (see <var>numberiterativelayers-int</var>) and non 
iterative away from it. This method delivers high accuracy in the
vicinity of the wall boundary — that is, in most critical regions of the
 CFD mesh — but trades accuracy for speed away from
these surfaces. Its computational cost is lesser than that of the 
iterative method but higher than that of the non iterative method. 
</dd></dl>

<p class="noindent"><var>maxits-int</var> [<code>10</code>]:
     </p><dl>
<dt></dt><dd>Specifies the maximum number of iterations to be used when 
using the iterative method for computing for each grid point of the CFD 
mesh its distance to the nearest wall
boundary. 
</dd></dl>

<p class="noindent"><var>eps-real</var> [<code>1e-4</code>]:
     </p><dl>
<dt></dt><dd>Specifies a tolerance for assessing the convergence of the 
iterative method for computing for each grid point of the CFD mesh its 
distance to the nearest wall boundary. 
</dd></dl>

<p class="noindent"><var>numberiterativelayers-int</var> [<code>0</code>]:
     </p><dl>
<dt></dt><dd>Specifies the number of grid point layers away from the 
wall boundary of the CFD mesh where the hybrid method for computing the 
distances to the wall is to be an iterative
method. 
</dd></dl>
<!--  -->
<!-- LESModel object -->
<!--  -->

<div class="node">
<a name="LESModel"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Tripping">Tripping</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#TurbulenceModel">TurbulenceModel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#TurbulenceClosure">TurbulenceClosure</a>

</div>

<h5 class="subsubsection">4.9.4.2 SPECIFYING THE LES MODEL</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>LESModel</b>
</td></tr></tbody></table>

</p><p>For turbulent flow simulations based on the Navier-Stokes equations augmented
by a large eddy simulation model, the type of the LES model is defined within
the <code>LESModel</code> object. Its syntax is:

</p><pre class="example">     under LESModel {
       Type = <var>type-id</var>;
       Delta = <var>delta-id</var>;
       under Smagorinsky { ... }
       under Dynamic { ... }
       under VMS { ... }
       under DynamicVMS { ... }
       under WALE { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>VMS</code>]:
     </p><dl>
<dt><code>Smagorinsky</code></dt><dd>The classical filtering and Smagorinsky Eddy Viscosity model are used to separate the coarse
and fine-scales and model the effect of the latter. 
<br></dd><dt><code>Dynamic</code></dt><dd>The classical filtering and variable-constant (obtained using the Germano Identity) Smagorinksy
Eddy Viscosity model is used to separate the coarse and fine scales, and model the effect
of the latter on the coarse scales. 
<br></dd><dt><code>VMS</code></dt><dd>The variational multiscale approach is used to separate the large and small resolved scales and
to model the effect of the unresolved scales in the small resolved scales equation using a Smagorinksy
Eddy Viscosity model. 
<br></dd><dt><code>DynamicVMS</code></dt><dd>The VMS method is equipped with a variational analogue of the Germano identity to compute a variable constant
in the Smagorinksy Eddy Viscosity model. 
<br></dd><dt><code>WALE</code></dt><dd>The Wall-Adapting Local Eddy Viscosity (WALE) model is used for the
eddy-viscosity. 
</dd></dl>

<p class="noindent"><var>delta-id</var> [<code>Volume</code>]:
     </p><dl>
<dt><code>Volume</code></dt><dd>
In this case, for a given tetrahedron   <img src="Aerof3d_files/img129.png" class="math-display" align="top">   the filter width   <img src="Aerof3d_files/img130.png" class="math-display" align="top">   used to compute the eddy viscosity is set to

     <p></p><center class="math-display"> <img src="Aerof3d_files/img131.png" class="math-display" align="top"> </center> 


</dd></dl>

     <dl>
<dt><code>Side</code></dt><dd>
In this case, for a given tetrahedron   <img src="Aerof3d_files/img132.png" class="math-display" align="top">  , the filter width   <img src="Aerof3d_files/img130.png" class="math-display" align="top"> 


     <p>used to compute the eddy viscosity is set to the size of the largest side of this
tetrahedron. 
</p></dd></dl>

<p class="noindent"><code>Smagorinsky</code>:
     </p><dl>
Specifies the classical filtering and Smagorinsky Eddy Viscosity model for separating the coarse
and fine-scales and modeling the effect of the latter. 
</dl>

<p class="noindent"><code>Dynamic</code>:
     </p><dl>
Specifies the classical filtering and variable-constant (obtained using 
the Germano Identity) Smagorinsky Eddy Viscosity model for separating 
the coarse
and fine-scales and modeling the effect of the latter on the coarse 
scales. 
</dl>
<code>VMS</code>:
     <dl>
Specifies the variational multiscale approach for separating the large and small resolved scales and
modeling the effect of the unresolved scales in the small resolved scales equation using a Smagorinksy
Eddy Viscosity model. 
</dl>
<code>DynamicVMS</code>:
     <dl>
Specifies the VMS method equipped with a variational analogue of the Germano identity to compute a variable constant
in the Smagorinksy Eddy Viscosity model. 
</dl>
<code>WALE</code>:
     <dl>
Specifies the Wall-Adapting Local Eddy Viscosity (WALE) model for representing the eddy-viscosity. 
</dl>

<ul class="menu">
<li><a accesskey="1" href="#Smagorinsky">Smagorinsky</a>
</li><li><a accesskey="2" href="#Dynamic">Dynamic</a>
</li><li><a accesskey="3" href="#VMS">VMS</a>
</li><li><a accesskey="4" href="#DynamicVMS">DynamicVMS</a>
</li><li><a accesskey="5" href="#WALE">WALE</a>
</li></ul>

<!--  -->
<!-- Smagorinsky object -->
<!--  -->
<div class="node">
<a name="Smagorinsky"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#WALE">WALE</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#LESModel">LESModel</a>

</div>

<h5 class="unnumberedsubsubsec">4.9.4.2.1 SPECIFYING THE PARAMETERS OF THE SMAGORINSKY EDDY VISCOSITY MODEL</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Smagorinsky</b>
</td></tr></tbody></table>

</p><p>The <code>Smagorinsky</code> object specifies the parameters of the Smagorinsky LES model. Its syntax is:

</p><pre class="example">     under Smagorinsky{
       Cs = <var>coefficient-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>coefficient-real</var> [0.1]:
     </p><dl>
<dt></dt><dd>
Usual Smagorinsky coefficient   <img src="Aerof3d_files/img43.png" class="math-display" align="top">   used in computing the eddy viscosity

     <p></p><center class="math-display"> <img src="Aerof3d_files/img133.png" class="math-display" align="top"> </center> 


</dd></dl>
<!--  -->
<!-- WALE object -->
<!--  -->

<div class="node">
<a name="WALE"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Dynamic">Dynamic</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Smagorinsky">Smagorinsky</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#LESModel">LESModel</a>

</div>

<h5 class="unnumberedsubsubsec">4.9.4.2.2 SPECIFYING THE PARAMETERS OF THE WALL-ADAPTED LOCAL EDDY VISCOSITY MODEL</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>WALE</b>
</td></tr></tbody></table>

</p><p>The <code>WALE</code> object specifies the parameters of the WALE LES model. Its syntax is:

</p><pre class="example">     under WALE{
       Cw = <var>coefficient-real</var>;
     }
</pre>
<p>with
<var>coefficient-real</var> [0.325]:
     </p><dl>
<dt></dt><dd>
WALE coefficient   <img src="Aerof3d_files/img134.png" class="math-display" align="top">   used in computing the eddy viscosity
 <center class="math-display"> <img src="Aerof3d_files/img135.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img136.png" class="math-display" align="top">   is the symmetric part of the square of the velocity gradient tensor and
  <img src="Aerof3d_files/img137.png" class="math-display" align="top">   is the deformation tensor of the resolved field.

</dd></dl>
<!--  -->
<!-- Dynamic object -->
<!--  -->

<div class="node">
<a name="Dynamic"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#VMS">VMS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#WALE">WALE</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#LESModel">LESModel</a>

</div>

<h5 class="unnumberedsubsubsec">4.9.4.2.3 SPECIFYING THE PARAMETERS OF THE DYNAMIC LES MODEL</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Dynamic</b>
</td></tr></tbody></table>

</p><p>The <code>Dynamic</code> object specifies the parameters of Germano's dynamic LES model. Its syntax is:

</p><pre class="example">     under Dynamic{
       under Clipping { ... }
     }
</pre>
<p>with

</p><p class="noindent">
     </p><dl>
<dt><code>Clipping</code></dt><dd>
The upper bound for the   <img src="Aerof3d_files/img43.png" class="math-display" align="top">   coefficient and upper and lower bounds for the turbulent Prandtl number   <img src="Aerof3d_files/img138.png" class="math-display" align="top">   can be specified in this object.

</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#ClippingDynamic">ClippingDynamic</a>
</li></ul>
<!--  -->
<!-- Clipping object -->
<!--  -->
<div class="node">
<a name="ClippingDynamic"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#Dynamic">Dynamic</a>

</div>

<h5 class="unnumberedsubsubsec">4.9.4.2.3.1 SPECIFYING BOUNDS FOR THE DYNAMIC LES MODEL</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Clipping</b>
</td></tr></tbody></table>

</p><p>The <code>Clipping</code> object specifies the upper bound for the   <img src="Aerof3d_files/img43.png" class="math-display" align="top">   coefficient and the upper and lower bounds for the turbulent
Prandtl number   <img src="Aerof3d_files/img138.png" class="math-display" align="top">   in Germano's dynamic LES model.

</p><p>Its syntax is:
</p><pre class="example">     under Clipping{
       CsMax = <var>coefficient-real1</var>;
       PtMin = <var>coefficient-real2</var>;
       PtMax = <var>coefficient-real3</var>;
     }
</pre>
<p>with
<var>coefficient-real1</var> [0.4]:
     </p><dl>
<dt></dt><dd>
This value mulitplied by the filter width <code>Delta</code> is used as a clipping upper bound for the dynamically evaluated
  <img src="Aerof3d_files/img139.png" class="math-display" align="top">   products.

</dd></dl>
<var>coefficient-real2</var> [0.5]:
     <dl>
<dt></dt><dd>
This serves as a clipping lower bound for the dynamically evaluated Prandtl numbers   <img src="Aerof3d_files/img138.png" class="math-display" align="top">  .

</dd></dl>
<var>coefficient-real3</var> [1.6]:
     <dl>
<dt></dt><dd>
This serves as a clipping upper bound for the dynamically evaluated Prandtl numbers   <img src="Aerof3d_files/img138.png" class="math-display" align="top">  .

</dd></dl>
<!--  -->
<!-- VMS object -->
<!--  -->

<div class="node">
<a name="VMS"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#DynamicVMS">DynamicVMS</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Dynamic">Dynamic</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#LESModel">LESModel</a>

</div>

<h5 class="unnumberedsubsubsec">4.9.4.2.4 SPECIFYING THE PARAMETERS OF THE VMS TURBULENCE MODEL</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>VMS</b>
</td></tr></tbody></table>

</p><p>The <code>VMS</code> object specifies the parameters of the variational multiscale LES model. Its syntax is:

</p><pre class="example">     under VMS{
       Csprime = <var>coefficient-real</var>;
       AgglomerationLayer= <var>layer-integer</var>;
       AgglomerationDepth = <var>depth-integer</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>coefficient-real</var> [0.1]:
     </p><dl>
<dt></dt><dd>
Fine-scale Smagorinsky coefficient   <img src="Aerof3d_files/img44.png" class="math-display" align="top">   used in computing the eddy
viscosity

     <p></p><center class="math-display"> <img src="Aerof3d_files/img140.png" class="math-display" align="top"> </center> 


</dd></dl>

<p class="noindent"><var>layer-integer</var> [1]:
     </p><dl>
<dt></dt><dd>Characterizes the size of a macro-cell in an agglomeration. A value of 1 results in each macro-cell
containing a cell and (a subset of) its neighbors. A value of 2 results in each macro-cell containing a cell,
(a subset of) its neighbors, and (a subset of) the neighbors of these neighbors, etc... 
</dd></dl>

<p class="noindent"><var>depth-integer</var> [1]:
     </p><dl>
<dt></dt><dd>This is the number of recursive clustering steps to be performed for generating the agglomeration
used for constructing the projector of the VMS-LES method. 
</dd></dl>
<!--  -->
<!-- DynamicVMS object -->
<!--  -->

<div class="node">
<a name="DynamicVMS"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#VMS">VMS</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#LESModel">LESModel</a>

</div>

<h5 class="unnumberedsubsubsec">4.9.4.2.5 SPECIFYING THE PARAMETERS OF THE DYNAMIC VMS LES MODEL</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>DynamicVMS</b>
</td></tr></tbody></table>

</p><p>The <code>DynamicVMS</code> object specifies the parameters of the dynamic variational multiscale LES model. Its syntax is:

</p><pre class="example">     under DynamicVMS{
       Type = <var>type-id</var>;
       Csprime = <var>csprime-real</var>;
       AgglomerationLayer= <var>layer-integer</var>;
       AgglomerationDepth1= <var>depth-integer1</var>;
       AgglomerationDepth2= <var>depth-integer2</var>;
       under Clipping { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>D1VMSLES</code>]:
     </p><dl>
<dt><code>D1VMSLES</code></dt><dd>A Dynamic VMS-LES method based on the “difference” variational analogue of Germano's identity
(and therefore closest to the original version of Germano's identity). Here,
the Smagorinsky subgrid-scale parameters are solved for dynamically by employing least-squares on the equations
obtained by differencing the conservation equations associated with two different grid sizes. 
<br></dd><dt><code>D2VMSLES</code></dt><dd>A robust Dyamic VMS-LES method which resorts to the least-squares solution of the “stacked” conservation equations
associated with two different grid sizes to compute the Smagorinsky subgrid-scale parameters dynamically. 
</dd></dl>

<p class="noindent"><var>csprime-real</var> [0.1]:
     </p><dl>
<dt></dt><dd>Fall-back fine-scale Smagorinsky coefficient adopted when the computed dynamic constant falls outside the interval [0, 0.3]. 
</dd></dl>

<p class="noindent"><var>layer-integer</var> [1]:
     </p><dl>
<dt></dt><dd>Characterizes the size of a macro-cell in an agglomeration. A value of 1 results in each macro-cell
containing a cell and (a subset of) its neighbors. A value of 2 results in each macro-cell containing a cell,
(a subset of) its neighbors, and (a subset of) the neighbors of these neighbors, etc... 
</dd></dl>

<p><var>depth-integer1</var> [1]:
     </p><dl>
<dt></dt><dd>This is the number of recursive clustering steps to be performed for constructing the first-level agglomeration — that is,
the agglomeration used for constructing the basic projector of the dynamic VMS-LES method. 
</dd></dl>

<p><var>depth-integer2</var> [<var>depth-integer1</var> + 1]:
     </p><dl>
<dt></dt><dd>This is the number of recursive clustering steps to be 
performed for constructing the second-level agglomeration — that is,
the agglomeration used for constructing the projector used in the 
variational analogue of the Germano identity in the dynamic VMS-LES 
method. 
</dd></dl>

<p class="noindent">
     </p><dl>
<dt><code>Clipping</code></dt><dd>
The upper bound for the   <img src="Aerof3d_files/img44.png" class="math-display" align="top">   coefficient and upper and lower bounds for the turbulent Prandtl number   <img src="Aerof3d_files/img141.png" class="math-display" align="top">   can be specified in this object.

</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#ClippingDynamicVMS">ClippingDynamicVMS</a>
</li></ul>
<!--  -->
<!-- Clipping object -->
<!--  -->
<div class="node">
<a name="ClippingDynamicVMS"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#DynamicVMS">DynamicVMS</a>

</div>

<h5 class="unnumberedsubsubsec">4.9.4.2.5.1 SPECIFYING BOUNDS FOR THE DYNAMIC VMS TURBULENCE MODEL</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Clipping</b>
</td></tr></tbody></table>

</p><p>The <code>Clipping</code> object specifies the upper bound for the   <img src="Aerof3d_files/img44.png" class="math-display" align="top">   coefficient and the upper and lower bounds for the turbulent
Prandtl number   <img src="Aerof3d_files/img141.png" class="math-display" align="top">   in the dynamic VMS turbulence model.

</p><p>Its syntax is:
</p><pre class="example">     under Clipping{
       CsMax = <var>coefficient-real1</var>;
       PtMin = <var>coefficient-real2</var>;
       PtMax = <var>coefficient-real3</var>;
     }
</pre>
<p>with
<var>coefficient-real1</var> [0.4]:
     </p><dl>
<dt></dt><dd>
This value mulitplied by the filter width <code>Delta</code> is used as a clipping upper bound for the dynamically evaluated   <img src="Aerof3d_files/img142.png" class="math-display" align="top">   products.

</dd></dl>
<var>coefficient-real2</var> [0.5]:
     <dl>
<dt></dt><dd>
This serves as a clipping lower bound for the dynamically evaluated Prandtl numbers   <img src="Aerof3d_files/img141.png" class="math-display" align="top">  .

</dd></dl>
<var>coefficient-real3</var> [1.6]:
     <dl>
<dt></dt><dd>
This serves as a clipping upper bound for the dynamically evaluated Prandtl numbers   <img src="Aerof3d_files/img141.png" class="math-display" align="top">  .

</dd></dl>

<!--  -->
<!-- Tripping object -->
<!--  -->
<div class="node">
<a name="Tripping"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#LESModel">LESModel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#TurbulenceClosure">TurbulenceClosure</a>

</div>

<h5 class="subsubsection">4.9.4.3 TRIPPING TURBULENCE</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Tripping</b>
</td></tr></tbody></table>

</p><p>Turbulence can be tripped by specifying a domain outside which the turbulent eddy viscosity is set to zero
to model a laminar flow. The syntax of this command is:

</p><pre class="example">     under Tripping {
       under Box1 { ... }
     }
</pre>
<p class="noindent"><code>Box1</code>:
     </p><dl>
<dt></dt><dd>Defines a box within the computational domain (see <a href="#BoxFix">BoxFix</a>). 
</dd></dl>
<!--  -->
<!-- MultiPhase Object -->
<!--  -->

<div class="node">
<a name="MultiPhase"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BoundaryConditions">BoundaryConditions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Equations">Equations</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.10 DEFINING THE MULTI-PHASE COMPONENT OF A FLOW PROBLEM AND SPECIFYING ITS SOLUTION METHOD</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>MultiPhase</b>
</td></tr></tbody></table>

</p><p>The <code>MultiPhase</code> object is used to define a multi-phase flow problem or problem component and choose a fluid-fluid flow solver. 
The material interface is assumed to be well approximated by a free surface where one fluid can only apply a pressure
on the other fluid, and to be initially a closed contact surface. The available multi-phase flow solvers are based
either on the ghost fluid method, or on the finite volume method with exact, local, two-phase Riemann solvers. 
The level set technique is used for capturing the material interface.

</p><p>The syntax of this object is:

</p><pre class="example">     under MultiPhase{
       LevelSetReinitializationFrequency = <var>lsreinitfreq-int</var>;
       LevelSetMethod = <var>lsmethod-str</var>;
       BandLevel = <var>bandlevel-int</var>;
       Method = <var>method-str</var>;
       Prec = <var>prec-id</var>;
       InterfaceAlgorithm = <var>interfacealgorithm-str</var>;
       PhaseChange = <var>phasechange-str</var>;
       ExtrapolationOrder = <var>extrapolationorder-str</var>;
       InterfaceLimiter = <var>interfacelimiter-flag</var>;
       RiemannComputation = <var>riemanncomputation-str</var>;
       RiemannNormal = <var>rnormal-id</var>;
       under SparseGrid{ ... }
       under InitialConditions { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>lsreinitfreq-int</var> [0]:
     </p><dl>
<dt></dt><dd>Specifies the reinitialization frequency for the 
computation of the level set function(s). (By default, the computation 
of the level set function(s) is not reinitialized. Furthermore,
for one-dimensional computations, it is not reinitialized either). 
</dd></dl>

<p class="noindent"><var>lsmethod-str</var> [<code>Conservative</code>]:
     </p><dl>
<dt><code>Conservative</code></dt><dd>In this case: (a) the level set equation is given by
 <center class="math-display"> <img src="Aerof3d_files/img143.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img84.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img144.png" class="math-display" align="top">   denote the density and velocity vector of the fluid at a given point, respectively, and   <img src="Aerof3d_files/img145.png" class="math-display" align="top">   denotes the level set function at that point;
(b) it is solved by the same finite volume method specified for the solution of the flow problem. 
<br></dd><dt><code>Primitive</code></dt><dd>This option is available only for 3D computations. In this case, (a) the level set equation is given by
 <center class="math-display"> <img src="Aerof3d_files/img146.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img144.png" class="math-display" align="top">   is the velocity vector of the fluid at a given point and   <img src="Aerof3d_files/img145.png" class="math-display" align="top">   denotes the level set function at that point, and (b) it is solved by the same finite volume method specified
for the solution of the flow problem. 
<br></dd><dt><code>HJWENO</code></dt><dd>This option is available only 
for the one-dimensional computation of a spherically or cylindrically 
symmetric unsteady two-phase flow problem. In this case: (a) the level 
set equation is given by the Hamilton-Jacobi equation
 <center class="math-display"> <img src="Aerof3d_files/img147.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img144.png" class="math-display" align="top">   denotes the velocity of the fluid at a given point and   <img src="Aerof3d_files/img145.png" class="math-display" align="top">
   denotes the level set function at that point; (b) it is discretized 
in space by a fifth-order WENO scheme, and discretized in time by the 
same
scheme specified for the time-discretization of the flow problem. 
<br></dd><dt><code>Scalar</code></dt><dd>This option is available only 
for the one-dimensional computation of a spherically or cylindrically 
symmetric unsteady two-phase flow problem. In this case: the level set 
equation is given by
 <center class="math-display"> <img src="Aerof3d_files/img148.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img149.png" class="math-display" align="top">   denotes the position of the material interface and   <img src="Aerof3d_files/img150.png" class="math-display" align="top">   denotes the fluid velocity at that position, at a given time   <img src="Aerof3d_files/img46.png" class="math-display" align="top">
  ; (b) this ordinary differential equation is solved by the
fourth-order time-accurate, four-stage, Runge-Kutta scheme. This is the 
most accurate level set method among all three methods available for 
one-dimensional computations. 
</dd></dl>

<p><var>bandlevel-int</var> [<code>5</code>]:
     </p><dl>
<dt></dt><dd>This member is relevant only if <var>lsreinitfreq-int</var> is set to a strictly positive value. It specifies the width of the band
(in graph distance) on each side of the material interface where to reinitialize the level set. In general, the default value of
<code>5</code> is usually sufficient. However, for problems with complex material interfaces, higher values could be preferred. 
</dd></dl>

<p class="noindent"><var>method-str</var> [<code>GhostFluidForThePoor</code>]:
     </p><dl>
<dt><code>GhostFluidForThePoor</code></dt><dd>In this case, the level set method is used to capture the interface, and the fluid-fluid flow equations are solved by the <i>explicit</i>
 “Ghost Fluid
method for the Poor”. This option can be used to solve the following 
fluid-fluid problems which are described in terms of interfacing 
equations of state: perfect gas - perfect gas,
perfect gas - stiffened gas, stiffened gas - stiffened gas, stiffened 
gas - JWL, JWL - JWL, and barotropic liquid (Tait) - barotropic liquid 
(Tait).

     <br></dd><dt><code>FiniteVolumeWithExactTwoPhaseRiemann</code></dt><dd>In
 this case, the level set method is used to capture the interface, and 
the fluid-fluid flow equations are solved by the finite volume method 
with exact, local, two-phase Riemann solvers. 
This option can be used to solve fluid-fluid problems where either fluid
 can be modeled as a perfect gas, stiffened gas, barotropic liquid 
(Tait's equation of state),
or by the JWL equation of state.  It is particularly useful when 
simulating fluid-fluid problems characterized by large contact 
discontinuities across the interfaces. 
It is supported by both explicit and implicit time-integrators. 
Currently, only this method, equipped with an explicit time-integrator, 
can be used for solving one-dimensional, spherically or cylindrically
symmetric two-phase flow problems. 
</dd></dl>

<p class="noindent"><var>prec-id</var> [<code>NonPreconditioned</code>]:

</p><p>This parameter is relevant only if <var>method-str</var> is set to <code>Fiver</code>, and <code><a href="#Problem">Problem</a>.Prec</code> = <code>LowMach</code>.
     </p><dl>
<dt><code>NonPreconditioned</code></dt><dd>In this case, the dissipation terms of the FIVER convective fluxes at the material interfaces are not preconditioned. 
This value is the default value. 
<br></dd><dt><code>LowMach</code></dt><dd>In this case, the dissipation 
terms of the FIVER convective fluxes at the material interfaces are 
equipped with the low-Mach Turkel
preconditioner whose parameters are set in <a href="#Preconditioner">Preconditioner</a>. 
<code>LowMach</code>. 
</dd></dl>

<p class="noindent"><var>interfacealgorithm-str</var> [<code>MidEdge</code>]:
     </p><dl>
This parameter is relevant only when <var>method-str</var> = <code>FiniteVolumeWithExactTwoPhaseRiemann</code>. It specifies the location
where to construct and solve the fluid-fluid Riemann problem along an edge of the CFD mesh that intersects the zero level set in
order to enforce the appropriate fluid-fluid contact conditions, which determines the global rate of convergence of the FIVER
method. 
<dt><code>MidEdge</code></dt><dd>Requests the construction and solution of the fluid-fluid Riemann problem at the midpoint of an edge of the CFD mesh that
intersects the zero level set. In this case, a geometric error of the order of   <img src="Aerof3d_files/img151.png" class="math-display" align="top">  , where   <img src="Aerof3d_files/img152.png" class="math-display" align="top">   denotes the
typical mesh size, is introduced in the semi-discretization process. Consequently, even for second-order spatial approximations
away from the material interface (<code><a href="#NavierStokes">NavierStokes</a>.Reconstruction</code> = <code>Linear</code>), the FIVER method delivers a
first-order global rate of convergence. 
<br></dd><dt><code>Intersection</code></dt><dd>Requests the construction and solution of the fluid-fluid Riemann problem at the true intersection point between the CFD mesh
and the zero level set. In this case, for second-order spatial approximations away from the material interface
(<code><a href="#NavierStokes">NavierStokes</a>.Reconstruction</code> = <code>Linear</code>), the FIVER method delivers a second-order global rate of convergence. 
Because it is a higher-fidelity option, this setting is available only for the case where
<code><a href="#NavierStokes">NavierStokes</a>.Reconstruction</code> = <code>Linear</code>). Otherwise, it is automatically reverted to the <code>MidEdge</code> setting. 
</dd></dl>

<p class="noindent"><var>phasechange-str</var>[<code>Extrapolation</code>]:
     </p><dl>
This parameter is relevant only when <var>method-str</var> is set to <code>FiniteVolumeWithExactTwoPhaseRiemann</code>. 
It specifies a method for treating fluid-fluid phase changes. 
<!-- @item @code{None} -->
<!-- No special numerical treatment is applied to the state of a node that changes phase from one time-step to -->
<!-- the following one. -->
<dt><code>RiemannSolution</code></dt><dd>An average of interface states 
obtained from the solution of appropriate Riemann problems is used to 
replace the state of a node that changes phase from one time-step to the
 following one. 
<br></dd><dt><code>Extrapolation</code></dt><dd>An extrapolation procedure is used to populate the state of a node that changes phase from one time-step to the following one. 
</dd></dl>

<p class="noindent"><var>extrapolationorder-str</var> [<code>---</code>]:
     </p><dl>
This parameter is relevant only when <var>phasechange-str</var> is set to <code>Extrapolation</code>. It specifies the order of the extrapolation method. 
<dt><code>FirstOrder</code></dt><dd>In this case, a fluid-fluid phase change is treated using a first-order extrapolation scheme. 
<br></dd><dt><code>SecondOrder</code></dt><dd>In this case, a fluid-fluid phase change is treated using a second-order extrapolation scheme.

     <p>The default value of the parameter is <code>FirstOrder</code> if <var>interfacealgorithm-str</var> = <code>MidEdge</code>, and <code>SecondOrder</code>
if <var>interfacealgorithm-str</var> = <code>Intersection</code>. 
</p></dd></dl>

<p class="noindent"><var>interfacelimiter-flag</var> [<code>Off</code>]:
     </p><dl>
This parameter is relevant only if <var>interfacealgorithm-str</var> is set to <code>Intersection</code> (see above), <var>phasechange-id</var>
is set to <code>Extrapolation</code> (see above), and <var>extrapolationorder-id</var> is set to <code>SecondOrder</code>. It can take one of the
two following values:
<dt><code>On</code></dt><dd>In this case, the linear extrapolation scheme chosen for treating a fluid-fluid material change in the enhanced FIVER method is
equipped with a limiter in order to suppress nonlinear oscillations. 
<br></dd><dt><code>Off</code></dt><dd>In this case, the linear 
extrapolation scheme chosen for treating a fluid-fluid material change 
in the enhanced FIVER method is not
equipped with a limiter and therefore is vulnerable to spurious 
oscillations. 
</dd></dl>

<p class="noindent"><var>riemanncomputation-str</var>[<code>SecondOrder</code>]:
     </p><dl>
This parameter is relevant only when the multi-phase flow problem involves an interface between two media where at least
one of them is modeled by the JWL equation of state and applies to this interface only. 
<dt><code>FirstOrder</code></dt><dd>The Riemann invariants of the relevant Riemann problem are numerically computed using a first-order ODE integrator. 
<br></dd><dt><code>SecondOrder</code></dt><dd>The Riemann invariants of the relevant Riemann problem are numerically computed using a second-order ODE integrator. 
<br></dd><dt><code>TabulationRiemannInvariant</code></dt><dd>When <code>Problem.Type</code> is set to anything but <code>SparseGridGeneration</code> (see <a href="#Problem">Problem</a>),
this
 option, which is highly recommended in this case because of its 
computational efficiency, requests the exploitation of a sparse grid 
tabulation to interpolate the values
of the Riemann invariants of the relevant Riemann problem. 
This tabulation is specified in <a href="#SparseGrid">SparseGrid</a>. On the other hand when <code>Problem.Type</code> is set to <code>SparseGridGeneration</code> (see <a href="#Problem">Problem</a>),
this option specifies that the Riemann invariants are to be tabulated in a sparse grid
according to the parameters specified in the <a href="#SparseGrid">SparseGrid</a>. 
<br></dd><dt><code>TabulationRiemannProblem</code></dt><dd>When <code><a href="#Problem">Problem</a>.Type</code> is set to anything but <code>SparseGridGeneration</code> (see <a href="#Problem">Problem</a>),
this option requests the exploitation of a sparse grid tabulation to interpolate directly the solutions
of the relevant Riemann problems. This tabulation is inputted in <code><a href="#SparseGrid">SparseGrid</a>.FileName</code>. 
On the other hand when <code><a href="#Problem">Problem</a>.Type</code> is set to <code>SparseGridGeneration</code> (see <a href="#Problem">Problem</a>),
this option specifies that the solutions of the Riemann problems are to be tabulated in a sparse grid
according to the parameters specified in the <a href="#SparseGrid">SparseGrid</a>. 
</dd></dl>

<p class="noindent"><var>rnormal-id</var> [<code>LevelSet</code>]:
     </p><dl>
Specifies the normal to be used in the solution of the one-dimensional 
two-phase fluid-fluid Riemann problem along an edge of the fluid mesh 
which intersects the fluid-fluid interface predicted
by a level set technique. 
<dt><code>LevelSet</code></dt><dd>In this case, the aforementioned 
normal is set to the normal to the level set 0 at the point of 
intersection of this level set and the relevant edge of the fluid mesh. 
This is the default setup as it offers better accuracy. 
<br></dd><dt><code>Fluid</code></dt><dd>In this case, the aforementioned
 normal is set to that of the control volume face of the fluid mesh 
associated with the intersecting edge. This option trades optimal 
accuracy
for better numerical stability by introducing dissipation indirectly in 
the semi-discretization process. 
</dd></dl>

<p class="noindent"><code>InitialConditions</code>:
     </p><dl>
<dt></dt><dd>Defines the regions occupied by two fluids by initializing 
the level set function(s), and sets the initial conditions of each fluid
 in its region
of the computational domain. 
</dd></dl>

<p class="noindent">Note:
     </p><ol start="1" type="1">
<li>currently, <b>AERO-F</b> can handle only three different fluid-fluid
 interfaces which furthermore must be between a same fluid — referred to
 in this User's Reference Manual as
the “primary” fluid — and any one of three other fluids: in this case, 
the primary fluid must be identified in <a href="#FluidModel">FluidModel</a> by <var>fluid-id-int</var> = 0, and must be
the only fluid which occupies a part of the computational domain with far-field boundary conditions.
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#SparseGrid">SparseGrid</a>
</li><li><a accesskey="2" href="#InitialConditionsMultiPhase">InitialConditionsMultiPhase</a>
</li></ul>

<!--  -->
<!-- InitialConditionData object -->
<!--  -->
<div class="node">
<a name="InitialConditionsMultiPhase"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SparseGrid">SparseGrid</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#MultiPhase">MultiPhase</a>

</div>

<h4 class="subsection">4.10.1 SPECIFYING THE INITIAL CONDITIONS OF A MULTI-PHASE FLOW COMPUTATION</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>InitialConditions</b>
</td></tr></tbody></table>

</p><p>The level set function and the state of each fluid of a 
multi-phase flow computation are initialized using this object. 
The initialization of each level set function is performed by specifying
 the geometry of a surface that separates
initially two fluids. 
Within the region it occupies, the state of each fluid is initialized to
 a uniform flow whose parameters are specified in this object.

</p><p>The syntax of the <code>InitialConditions</code> object is:

</p><pre class="example">     under InitialConditions {
       under Sphere[<var>sphere-id-int</var>] { ... }
       ...
       under Plane[<var>plane-id-int</var>] { ... }
       ...
       under Box[<var>box-id-int</var>] { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>sphere-id-int</var>[—]
     </p><dl>
<dt></dt><dd>ID number of a sphere. 
</dd></dl>

<p class="noindent"><var>plane-id-int</var>[—]
     </p><dl>
<dt></dt><dd>ID number of a plane. 
</dd></dl>

<p class="noindent"><var>box-id-int</var>[—]
     </p><dl>
<dt></dt><dd>ID number of a box. 
</dd></dl>

<p class="noindent"><code>Sphere</code>:
     </p><dl>
<dt></dt><dd>Defines a geometric sphere and the initial conditions for the flow within (see <a href="#Box">Box</a>). 
</dd></dl>

<p class="noindent"><code>Plane</code>:
     </p><dl>
<dt></dt><dd>Defines a geometric plane and the initial conditions for the flow within the region of the computational domain it implies (see <a href="#Plane">Plane</a>). 
</dd></dl>

<p class="noindent"><code>Box</code>:
     </p><dl>
<dt></dt><dd>Defines a geometric box and the initial conditions for the flow within the region of the computational domain it implies (see <a href="#Box">Box</a>). 
</dd></dl>

<p class="noindent">Notes:
     </p><ol start="1" type="1">
<li>the <a href="#VolumeData">VolumeData</a> object offers the possibility to initialize the states
of two fluids separated by rigid or flexible walls. The user is allowed to specify initial conditions
using both the <code>VolumeData</code> object and the present object. 
</li><li><b>AERO-F</b> initializes the solution of a multi-phase flow problem in several overwriting steps as follows:
first, the states of all grid points are initialized to the values of the free-stream conditions;
next, the states of all grid points belonging to a specific set of volume IDs are initialized
as specified in the associated <a href="#VolumeData">VolumeData</a> object; next, the states of all grid points in each region
of the computational domain implied by each plane specified in <a href="#Plane">Plane</a>[<var>plane-id-int</var>] are
initialized as requested in the corresponding <code>InitialConditions</code> object; finally, the states of all grid points
located inside each sphere specified in <a href="#Box">Box</a>[<var>sphere-id-int</var>] are
initialized as requested in the corresponding <code>InitialConditions</code> object.
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#Sphere">Sphere</a>
</li><li><a accesskey="2" href="#Plane">Plane</a>
</li><li><a accesskey="3" href="#Box">Box</a>
</li></ul>
<!--  -->
<!-- Sphere object -->
<!--  -->

<div class="node">
<a name="Sphere"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Box">Box</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#InitialConditionsMultiPhase">InitialConditionsMultiPhase</a>

</div>

<h5 class="subsubsection">4.10.1.1 DEFINING A GENERIC SPHERE FOR A MULTI-PHASE FLOW COMPUTATION</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Sphere</b>
</td></tr></tbody></table>

</p><p>The <code>Sphere</code> object specifies the location and size of a spherical region, as well as the initial condition parameters
for the flow inside this region. Its syntax is:

</p><pre class="example">     under Sphere[<var>sphere-id-int</var>] {
       FluidID = <var>fluid-id-int</var>;
       Center_x = <var>center_x-real</var>;
       Center_y = <var>center_y-real</var>;
       Center_z = <var>center_z-real</var>;
       Radius = <var>radius-real</var>;
       under InitialState{ ... }
       under ProgrammedBurn{ ... }
     }
</pre>
<p>with
<var>sphere-id-int</var>[—]
     </p><dl>
<dt></dt><dd>Integer identification number of the sphere defined in this object. 
</dd></dl>

<p class="noindent"><var>fluid-id-int</var> [—]:
     </p><dl>
<dt></dt><dd>ID of the fluid medium for which the initial conditions specified in this sphere apply to. It is attributed to all <i>nodes</i> of the CFD mesh that lie
inside the sphere defined in this object. 
</dd></dl>

<p class="noindent"><var>center_x-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>Coordinate of the center of the sphere along the x axis. 
</dd></dl>

<p class="noindent"><var>center_y-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>Coordinate of the center of the sphere along the y axis. 
</dd></dl>

<p class="noindent"><var>center_z-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>Coordinate of the center of the sphere along the z axis. 
</dd></dl>

<p class="noindent"><var>radius-real</var> [—]:
     </p><dl>
<dt></dt><dd>Radius of the sphere. 
</dd></dl>

<p class="noindent"><code>InitialState</code>:
     </p><dl>
<dt></dt><dd>Specifies the initial state of the fluid occupying the sphere defined above. 
</dd></dl>

<p class="noindent"><code>ProgrammedBurn</code>:
     </p><dl>
<dt></dt><dd>Specifies the parameters of a programmed burn of a highly explosive, burnable material located within the sphere defined above. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#InitialState">InitialState</a>
</li><li><a accesskey="2" href="#ProgrammedBurn">ProgrammedBurn</a>
</li></ul>

<!--  -->
<!-- ProgrammedBurn object -->
<!--  -->
<div class="node">
<a name="ProgrammedBurn"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#Sphere">Sphere</a>

</div>

<h5 class="unnumberedsubsubsec">4.10.1.1.1 SPECIFYING THE PARAMETERS OF A PROGRAMMED BURN</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>ProgrammedBurn</b>
</td></tr></tbody></table>

</p><p>The <code>ProgrammedBurn</code> object can be used to specify the parameters of the programmed burn of a highly explosive
material located within a region specified by a <i>closed</i> geometrical object of <b>AERO-F</b> such as a <a href="#Box">Box</a> or a
<a href="#Sphere">Sphere</a> defined under <code><a href="#MultiPhase">MultiPhase</a>.InitialConditions</code>, or designated by a <a href="#Point">Point</a> defined under
<code><a href="#EmbeddedFramework">EmbeddedFramework</a>.InitialConditions</code>. Before burning, this explosive material, which must be modeled in
<a href="#FluidModel">FluidModel</a> as a <code>Liquid</code> and declared in <a href="#LiquidModel">LiquidModel</a> as burnable (<code><a href="#LiquidModel">LiquidModel</a>.Burnable</code> = <code>True</code>),
is attributed the fluid ID number <code>FluidID</code> specified in the aforementioned geometrical object or designation (for example,
see <code><a href="#Sphere">Sphere</a>.FluidID</code>). As this explosive material burns, the resulting product, which must be modeled in
<a href="#FluidModel">FluidModel</a> as a perfect gas or using the JWL Equation of State (EOS), is attributed the fluid ID number <code>BurnedEOS</code>
which should have been defined outside this object — for example, in <a href="#FluidModel">FluidModel</a>.

</p><pre class="example">     under ProgrammedBurn {
     Ignite = <var>ignite-flag</var>;
     IgnitionTime = <var>ignition-time-real</var>;
     IgnitionX0 = <var>ignition-x0-real</var>;
     IgnitionY0 = <var>ignition-y0-real</var>;
     IgnitionZ0 = <var>ignition-z0-real</var>;
     E0 = <var>detonation-energy-real</var>;
     ChapmanJouguetDensity = <var>cj-density-real</var>;
     ChapmanJouguetPressure = <var>cj-pressure-real</var>;
     ChapmanJouguetDetonationVelocity = <var>cj-detonation-speed-real</var>;
     LimitPeak = <var>limitpeak-flag</var>;
     BurnedEOS = <var>burned-fluidID-int</var>;
     <!-- UnburnedEOS = @var{unburned-fluidID-int}; -->
     }
</pre>
<p>with

</p><p><var>ignite-flag</var> [<code>True</code>]:

</p><p>In general, <b>AERO-F</b> determines whether at a discrete time   <img src="Aerof3d_files/img153.png" class="math-display" align="top">   an explosive material is to be ignited or not,
or whether it has already been ignited, by checking whether its ignition time specified in <var>ignitiontime-real</var> (see below) has
been reached or not, or exceeded, at time   <img src="Aerof3d_files/img153.png" class="math-display" align="top">  . However, this flag is used to explicitly manage the ignition of an explosive
material, particularly during a restart simulation.
     </p><dl>
<dt><code>On</code></dt><dd>In this case:
          <ul>
<li>The explosive material identified by <code>FluidID</code> can be ignited during a programmed burn simulation. 
</li><li>During the restarting of a three-dimensional multi-phase simulation with a programmed burn, the explosive material
identified by <code>FluidID</code> is ignited even if the first time-stamp   <img src="Aerof3d_files/img154.png" class="math-display" align="top">   of the restart simulation is greater than
<var>ignitiontime-real</var>. In the latter case, the explosive material ends up being re-ignited at the beginning of the restart
simulation. 
</li></ul>
     <br></dd><dt><code>Off</code></dt><dd>In this case:
          <ul>
<li>The explosive material identified by <code>FluidID</code> can <i>never</i> be ignited during a programmed burn simulation. 
</li><li>During the restarting of a three-dimensional multi-phase simulation with a programmed burn, the explosive material
identified by <code>FluidID</code> can also never be ignited. However, if it was ignited during the simulation from which the
new simulation is to restart, <b>AERO-F</b> automatically figures this out and restarts and proceeds correctly. 
</li></ul>

     <p>Hence, during the restarting of a three-dimensional multi-phase simulation with a programmed burn, this flag should be set
to <code>Off</code> if the explosive material identified by <code>FluidID</code> has already been ignited, and to <code>On</code> otherwise. 
</p></dd></dl>

<p class="noindent"><var>ignitiontime-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Specifies the time at which the explosive material is to be ignited. 
</dd></dl>

<p class="noindent"><var>ignition-x0-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>x-coordinate of the ignition point. 
</dd></dl>

<p><var>ignition-y0-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>y-coordinate of the ignition point. 
</dd></dl>

<p><var>ignition-z0-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>z-coordinate of the ignition point. 
</dd></dl>

<p><var>detonation-energy-real</var> [—]:
     </p><dl>
<dt></dt><dd>Initial internal energy of the explosive material (prior to detonation). 
</dd></dl>

<p><var>cj-density-real</var> [-1.0]:
     </p><dl>
<dt></dt><dd>Chapman-Jouguet density of the explosive material behind the detonation wave (just after detonation). 
If not provided (by default), <b>AERO-F</b> automatically computes the value of <var>cj-density-real</var>. 
</dd></dl>

<p><var>cj-pressure-real</var> [-1.0]:
     </p><dl>
<dt></dt><dd>Chapman-Jouguet pressure of the explosive material behind the detonation wave (just after detonation). 
If not provided (by default), <b>AERO-F</b> automatically computes the value of <var>cj-pressure-real</var>. 
</dd></dl>

<p><var>cj-detonation-speed-real</var> [-1.0]:
     </p><dl>
<dt></dt><dd>Chapman-Jouguet speed of the detonation wave. If not provided (by default), <b>AERO-F</b> automatically computes the
value of <var>cj-denotation-speed-real</var>. 
</dd></dl>

<p><var>limitpeak-flag</var> [<code>False</code>]
     </p><dl>
<dt></dt><dd>If this flag is set to <code>True</code>, <b>AERO-F</b> limits the maximum values of the density and pressure fields
behind the detonation wave to the Chapman-Jouguet density and Chapman Jouguet pressure values <var>cjdensity-real</var>
and <var>cjpressure-real</var>, respectively. 
</dd></dl>

<p><var>burned-fluidID-int</var> [—]:
     </p><dl>
<dt></dt><dd>Integer ID of the fluid medium representing the burned explosive products. This medium must be attributed in <a href="#FluidModel">FluidModel</a> the
JWL Equation of State (EOS) or the EOS of a perfect gas. 
</dd></dl>

<p class="noindent">Notes:
     </p><ol start="1" type="1">
<li>because of the time-scales it involves, a programmed burn simulation must be performed using an <i>explicit</i>
 time-integration
algorithm; however, for the sake of computational efficiency, a 
comprehensive simulation involving at some stage a programmed burn
can be organized in three steps carried out by three different 
simulations using the restart capability: (1) the pre-burn step,
if it exists, where an implicit computation can be performed, (2) the 
programmed burn computation which must
be performed using an explicit scheme, and (3) the post-burn computation
 which can be performed using an implicit scheme;
</li><li>if a simulation involves multiple detonations associated with multiple explosive materials, each explosive material
should be attributed a different <code>FluidID</code>, but all explosive products can share the same fluid integer ID <code>BurnedEOS</code>
if needed or desired.
     </li></ol>
<!--  -->
<!-- Box object -->
<!--  -->
<div class="node">
<a name="Box"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Plane">Plane</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Sphere">Sphere</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#InitialConditionsMultiPhase">InitialConditionsMultiPhase</a>

</div>

<h5 class="subsubsection">4.10.1.2 DEFINING A GENERIC BOX FOR A MULTI-PHASE FLOW COMPUTATION</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Box</b>
</td></tr></tbody></table>

</p><p>The <code>Box</code> object specifies the location and size of a boxy region, as well as the initial condition parameters
for the flow inside this region. Its syntax is:

</p><pre class="example">     under Box[<var>box-id-int</var>] {
       FluidID = <var>fluid-id-int</var>;
       X0 = <var>x0-real</var>;
       Y0 = <var>y0-real</var>;
       Z0 = <var>z0-real</var>;
       X1 = <var>x1-real</var>;
       Y1 = <var>y1-real</var>;
       Z1 = <var>z1-real</var>;
       under InitialState{ ... }
       under ProgrammedBurn{ ... }
     }
</pre>
<p>with
<var>box-id-int</var>[—]
     </p><dl>
<dt></dt><dd>Integer identification number of the box defined in this object. 
</dd></dl>

<p class="noindent"><var>fluid-id-int</var> [—]:
     </p><dl>
<dt></dt><dd>ID of the fluid medium for which the initial conditions specified in this box apply to. It is attributed to all <i>nodes</i> of the CFD mesh that lie
inside the box defined in this object. 
</dd></dl>

<p class="noindent"><var>x0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>x-coordinate of the lower left corner of the box. 
</dd></dl>

<p class="noindent"><var>y0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>y-coordinate of the lower left corner of the box. 
</dd></dl>

<p class="noindent"><var>z0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>z-coordinate of the lower left corner of the box. 
</dd></dl>

<p class="noindent"><var>x1-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>x-coordinate of the upper right corner of the box with <var>x1-real</var> &gt; <var>x0-real</var>. 
</dd></dl>

<p class="noindent"><var>y1-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>y-coordinate of the upper right corner of the box with <var>y1-real</var> &gt; <var>y0-real</var>. 
</dd></dl>

<p class="noindent"><var>z1-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>z-coordinate of the upper right corner of the box with <var>z1-real</var> &gt; <var>z0-real</var>. 
</dd></dl>

<p class="noindent"><code>InitialState</code>:
     </p><dl>
<dt></dt><dd>Specifies the initial state of the fluid occupying the box defined above. 
</dd></dl>

<p class="noindent"><code>ProgrammedBurn</code>:
     </p><dl>
<dt></dt><dd>Specifies the parameters of a programmed burn of a highly explosive material located within the box defined above. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#InitialState">InitialState</a>
</li><li><a accesskey="2" href="#ProgrammedBurn">ProgrammedBurn</a>
</li></ul>
<!--  -->
<!-- Plane object -->
<!--  -->

<div class="node">
<a name="Plane"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Box">Box</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#InitialConditionsMultiPhase">InitialConditionsMultiPhase</a>

</div>

<h5 class="subsubsection">4.10.1.3 DEFINING A GENERIC PLANE FOR A MULTI-PHASE FLOW COMPUTATION</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Plane</b>
</td></tr></tbody></table>

</p><p>The <code>Plane</code> object defines a plane by a point and a normal vector, and specifies the initial conditions in the region of
the computational domain toward which the normal vector points to. Its syntax is:

</p><pre class="example">     under Plane[<var>plane-id-int</var>] {
       FluidID = <var>fluid-id-int</var>;
       Point_x = <var>point_x-real</var>;
       Point_y = <var>point_y-real</var>;
       Point_z = <var>point_z-real</var>;
       Normal_x = <var>normal_x-real</var>;
       Normal_y = <var>normal_y-real</var>;
       Normal_z = <var>normal_z-real</var>;
       under InitialState{ ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>plane-id-int</var>[—]
     </p><dl>
<dt></dt><dd>Integer identification number of the plane defined in this object. 
</dd></dl>

<p class="noindent"><var>fluid-id-int</var> [—]:
     </p><dl>
<dt></dt><dd>ID of the fluid medium for which the initial conditions specified here apply to. It is attributed to all <i>nodes</i> of the CFD mesh
that lie in the region of the computational fluid domain identified above. 
</dd></dl>

<p class="noindent"><var>point_x-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>Coordinate of the point in the plane along the x axis. 
</dd></dl>

<p class="noindent"><var>point_y-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>Coordinate of the point in the plane along the y axis. 
</dd></dl>

<p class="noindent"><var>point_z-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>Coordinate of the point in the plane along the z axis. 
</dd></dl>

<p class="noindent"><var>normal_x-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>Component of the normal to the plane along the x axis. 
</dd></dl>

<p class="noindent"><var>normal_y-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>Component of the normal to the plane along the y axis. 
</dd></dl>

<p class="noindent"><var>normal_z-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>Component of the normal to the plane along the z axis. 
</dd></dl>

<p class="noindent"><code>InitialState</code>:
     </p><dl>
<dt></dt><dd>Specifies the initial state of the fluid occupying the region of the computational fluid domain identified above. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#InitialState">InitialState</a>
</li></ul>
<!--  -->
<!-- Tabulating Data in Sparse Grid Format -->
<!--  -->
<div class="node">
<a name="SparseGrid"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#InitialConditionsMultiPhase">InitialConditionsMultiPhase</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#MultiPhase">MultiPhase</a>

</div>

<h4 class="subsection">4.10.2 TABULATING DATA IN SPARSE GRID FORMAT FOR SPEEDING UP MULTI-PHASE COMPUTATIONS</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>SparseGrid</b>
</td></tr></tbody></table>
To accelerate the solution of flow problems involving a medium modeled 
by a complex and computationally intensive equation of state (EOS),
the object <code>SparseGrid</code> offers the possibility of tabulating some data in sparse grid format (see <a href="#TAB">TAB</a>),
 or exploiting it when readily available. 
This data can be either the Riemann invariants along a characteristic 
curve, or the solutions of two-phase Riemann problems. 
When using this object to tabulate the solutions of two-phase Riemann 
problems, one fluid is assumed to be modeled by the JWL EOS and must be
specified in <a href="#FluidModel">FluidModel</a>[0], and the other is assumed to be a perfect or stiffened gas and must be specified in <a href="#FluidModel">FluidModel</a>[1].

</p><p>The syntax of this object is:

</p><pre class="example">     under SparseGrid {
       FileName = <var>filename-str</var>;
       NumberOfFiles = <var>numfiles-int</var>;
       Verbose = <var>verbose-int</var>;
       NumberOfInputs = <var>numinputs-int</var>;
       NumberOfOutputs = <var>numoutputs-int</var>;
       Input1Minimum = <var>in1min-real</var>;
       Input1Maximum = <var>in1max-real</var>;
       NumberOfDomains1 = <var>numdomains1-int</var>;
       ...
       Input6Minimum = <var>in6min-real</var>;
       Input6Maximum = <var>in6max-real</var>;
       NumberOfDomains6 = <var>numdomains6-int</var>;
       MinimumNumberOfPoints = <var>minnumpts-int</var>;
       MaximumNumberOfPoints = <var>maxnumpts-int</var>;
       DegreeDimAdapt = <var>degdimadapt-real</var>;
       RelativeAccuracy = <var>relacc-real</var>;
       AbsoluteAccuracy = <var>absacc-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>filename-str</var> [""]:
     </p><dl>
<dt></dt><dd>Specifies the path and name of the file containing the tabulated data. If this data was stored across multiple files, <var>filename-str</var> is
the common prefix to all names of these files. 
</dd></dl>

<p class="noindent"><var>numfiles-int</var> [0]:
     </p><dl>
<dt></dt><dd>Specifies the number of files to be loaded to access the entire tabulated data. 
</dd></dl>

<p class="noindent"><var>verbose-int</var> [0]:
     </p><dl>
<dt></dt><dd>This integer ranges from 0 (no output) to 9 (maximum 
output) and specifies the level of data reporting (on the screen) when 
tabulating data in sparse grid format or exploiting it. 
</dd></dl>

<p class="noindent"><var>numinputs-int</var> [2]:
     </p><dl>
<dt></dt><dd>Number of input variables of the vector function to be tabulated. For example, <var>numinputs-int</var> = 2 when the Riemann invariants are tabulated, and <var>numinputs-int</var> = 6 when the Riemann solutions are tabulated
(see <a href="#TAB">TAB</a>). 
</dd></dl>

<p class="noindent"><var>numoutputs-int</var> [2]:
     </p><dl>
<dt></dt><dd>Number of outputs (components of the vector function) to be tabulated (see<a href="#TAB">TAB</a>). 
</dd></dl>
<var>numdomains1-int</var> [1]:
     <dl>
<dt></dt><dd>Specifies the uniform splitting of the domain of the first input variable into <var>numdomains1-int</var> subdomains. 
If this number is greater than 1, it automatically multiplies the number of expected sparse grids by <var>numdomains1-int</var>. 
</dd></dl>
<var>in1min-real</var> [0.0]:
     <dl>
<dt></dt><dd>Specifies the lower bound of the first input variable. 
</dd></dl>
<var>in1max-real</var> [1.0]:
     <dl>
<dt></dt><dd>Specifies the upper bound of the first input variable. 
</dd></dl>
<var>minmumpts-int</var> [100]:
     <dl>
<dt></dt><dd>Minimum number of data points to be generated in each (see Note below) sparse grid. 
</dd></dl>

<p class="noindent"><var>maxnumpts-int</var> [100]:
     </p><dl>
<dt></dt><dd>Maximum number of data points to be generated in each (see 
first Note below) sparse grid (however, this maximum can be slightly 
exceeded by <b>AERO-F</b>). 
</dd></dl>

<p class="noindent"><var>degdimadapt-real</var> [0.75]:
     </p><dl>
<dt></dt><dd>This parameter, which should be given a value between 0.0 
and 1.0, specifies the desired degree of dimensional adaptivity of all 
generated sparse grids (<a href="#TAB">TAB</a>). 
</dd></dl>

<p class="noindent"><var>relacc-real</var> [1.0e-3]:
     </p><dl>
<dt></dt><dd>Specifies the desired level of relative accuracy to be delivered by the sparse grid tabulation. 
</dd></dl>

<p class="noindent"><var>absacc-real</var> [1.0e-1]:
     </p><dl>
<dt></dt><dd>Specifies the desired level of absolute accuracy to be delivered by the sparse grid tabulation. 
</dd></dl>

<p class="noindent">Notes:
     </p><ol start="1" type="1">

     <li>splitting the domain of each   <img src="Aerof3d_files/img28.png" class="math-display" align="top">  -th input variable into an arbitrary number of subdomains parameterized above by   <img src="Aerof3d_files/img155.png" class="math-display" align="top">   = <var>numdomains</var>  <img src="Aerof3d_files/img28.png" class="math-display" align="top">  <var>-int</var>
 for the purpose of parallel processing
can but is not guaranteed to accelerate the sparse grid tabulation 
process; the reason is that the scope of the maximum number of points 
specified in <var>maxnumpts-int</var> applies to each subdomain;
</li><li>if the domain of an   <img src="Aerof3d_files/img28.png" class="math-display" align="top">  -th input variable is split into an arbitrary number of subdomains parameterized above by   <img src="Aerof3d_files/img155.png" class="math-display" align="top">   = <var>numdomains</var>  <img src="Aerof3d_files/img28.png" class="math-display" align="top">  <var>-int</var> case, the tabulation of the function of interest
is performed on a number of sparse grids equal to   <img src="Aerof3d_files/img156.png" class="math-display" align="top">  , where   <img src="Aerof3d_files/img157.png" class="math-display" align="top">  <var>numinputs-int</var>; in this case, this tabulation process is parallelized at the sparse grid level and therefore can use a maximum
number of processors equal to   <img src="Aerof3d_files/img156.png" class="math-display" align="top">   processors;
</li><li>All sparse grid tabulations generated using this object can be 
used for one- and three-dimensional multi-phase flow computations.

     </li></ol>
<!--  -->
<!-- BoundaryConditions object -->
<!--  -->

<div class="node">
<a name="BoundaryConditions"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Preconditioner">Preconditioner</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#MultiPhase">MultiPhase</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.11 DEFINING THE BOUNDARY CONDITIONS</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>BoundaryConditions</b>
</td></tr></tbody></table>

</p><p>This object can be used to specify default boundary conditions to be applied to all inlet, outlet, and wall boundary surfaces,
and/or define specific sets of boundary conditions that can be attributed in <a href="#SurfaceData">SurfaceData</a> to subsets of these bounday surfaces. 
In some cases, the default boundary conditions defined herein can be locally modified in the <a href="#SurfaceData">SurfaceData</a> object which also
offers a broader set of boundary conditions.

</p><p>This object can also be used to complete the description of the far-field pressure for hydro computations. Its syntax is:

</p><pre class="example">     under BoundaryConditions {
       under Inlet { ... }
       under Outlet { ... }
       under Wall { ... }
       under Hydro { ... }
       under BoundaryData[<var>boundaryconditions-id-int</var>] { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>boundaryconditions-id-int</var> [<code>None</code>]:
     </p><dl>
<dt></dt><dd>Integer ID number identifying a set of boundary conditions defined in <a href="#BoundaryData">BoundaryData</a>, and assigned in <a href="#SurfaceData">SurfaceData</a> to a
boundary surface tag so they can be applied to those boundary surfaces identified by that surface tag,
or override the default boundary conditions if they apply on these surfaces. 
</dd></dl>

<p class="noindent"><code>Inlet</code>:
     </p><dl>
<dt></dt><dd>Defines the default inflow boundary conditions on all inlet
 boundary surfaces. 
Because these default boundary conditions are used to initialize by 
default many flow computations, they must be always specified,
including when all needed boundary conditions are also specified in the <a href="#SurfaceData">SurfaceData</a> object.  When the fluid is modeled as
a perfect gas, these boundary conditions can be locally modified, if desired, in the object <a href="#SurfaceData">SurfaceData</a>. 
</dd></dl>

<p class="noindent"><code>Outlet</code>:
     </p><dl>
<dt></dt><dd>Defines the default outflow boundary conditions on all outlet boundary surfaces. 
When the fluid is modeled as a perfect gas, these boundary conditions can be locally modified, if desired, in the <a href="#SurfaceData">SurfaceData</a>
object. The <code>Outlet</code> object can be omitted if the inflow and outflow states are identical. 
</dd></dl>

<p class="noindent"><code>Wall</code>:
     </p><dl>
<dt></dt><dd>Defines the default wall boundary conditions. 
</dd></dl>

<p class="noindent"><code>Hydro</code>:
     </p><dl>
<dt></dt><dd>Specifies a list of additional parameters for a hydro-computation. These are used to define the (default) far-field boundary
conditions and to compute the hydrostatic and hydrodynamic pressure and force fields. Its syntax is defined by the
<var>Hydro</var> object (see <a href="#Hydro">Hydro</a>). This object can be omitted if irrelevant. 
</dd></dl>

<p class="noindent"><code>BoundaryData</code>:
     </p><dl>
<dt></dt><dd>Defines a set of boundary conditions to be used for overriding default boundary conditions. 
</dd></dl>

<p>Notes:
     </p><ol start="1" type="1">
<li>if <code>Problem.Mode</code> is set to <code>Dimensional</code>, the inflow pressure
and density must be specified for an aerodynamic computation and the inflow
pressure and temperature for a hydro-computation;
</li><li>if an outflow condition is not specified but needed for the flow computation,
it is set to the inflow condition;
</li><li>the default boundary conditions are specified for the “run-type” variables. 
Hence, if <code>Problem.Mode</code> is set to <code>Dimensional</code>, the specified
default boundary conditions are applied “as-is” to the dimensional variables. 
On the other hand, if <code>Problem.Mode</code> is set to <code>NonDimensional</code>,
the specified default boundary conditions are applied “as-is” to the non-dimensional
variables.
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#Inlet">Inlet</a>
</li><li><a accesskey="2" href="#Outlet">Outlet</a>
</li><li><a accesskey="3" href="#Wall">Wall</a>
</li><li><a accesskey="4" href="#Hydro">Hydro</a>
</li><li><a accesskey="5" href="#BoundaryData">BoundaryData</a>
</li></ul>
<!--  -->
<!-- Inlet object -->
<!--  -->

<div class="node">
<a name="Inlet"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Outlet">Outlet</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BoundaryConditions">BoundaryConditions</a>

</div>

<h4 class="subsection">4.11.1 DEFINING THE FAR-FIELD INLET CONDITIONS</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Inlet</b>
</td></tr></tbody></table>

</p><p>The <code>Inlet</code> object defines the default boundary conditions for all boundary surfaces of the <code>InletFixed</code>
and <code>InletMoving</code> types.  These conditions are typically far-field inlet boundary conditions. When the fluid is modeled as
a perfect gas, they can be locally modified, if desired, in the object <a href="#SurfaceData">SurfaceData</a>.

</p><p>The syntax of this object is:

</p><pre class="example">     under <var>Inlet</var> {
       Type = <var>type-id</var>;
       Mach = <var>mach-real</var>;
       Velocity = <var>velocity-real</var>;
       Alpha = <var>alpha-real</var>;
       Beta = <var>beta-real</var>;
       Density = <var>density-real</var>;
       Pressure = <var>pressure-real</var>;
       Temperature = <var>temperature-real</var>;
       NuTilde = <var>nutilde-real</var>;
       K = <var>k-real</var>;
       Eps = <var>eps-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>External</code>]:

     </p><dl>
<dt><code>External</code></dt><dd>External flow computation with free-stream conditions in all far-fields. 
<br></dd><dt><code>Internal</code></dt><dd>Designates a special class of
 problems in which the pressure is specified at the outlet boundary,
the density and velocity vector in the case of a perfect gas and the 
temperature and velocity vector in the case of a barotropic liquid
are specified at the inlet boundary, and both boundaries are subsonic. 
This class of problems arises in some internal flow applications, which 
explains the choice of the word “Internal”. 
AERO-F being essentially an external flow solver, it does not offer in 
this case an explicit and straightforward mechanism
for specifying the velocity field at the subsonic inlet boundary. 
However, for a perfect gas, this can be accomplished in
the dimensional case by setting the Mach number and the inlet pressure, 
and in the non-dimensional case
by setting the Mach number only, as described below. For a barotropic 
liquid, it can be accomplished in both dimensional and
non-dimensional cases by setting the Mach number only.

     <p></p><center class="math-display"> <img src="Aerof3d_files/img158.png" class="math-display" align="top"> </center> 


     <p>First, it is noted that because the outlet boundary is subsonic,
 the true
pressure at the inlet is not specified but propagated numerically from 
the outlet boundary to the inlet boundary during the solution procedure.
 Hence,
the inlet pressure that can be specified in the input file should be 
considered only as a “knob”. In this case, it turns out that the 
free-stream
Mach number is also a knob. Now, given the velocity vector to be 
specified at the inlet boundary, one can compute its modulus.

     </p><p>This modulus,   <img src="Aerof3d_files/img159.png" class="math-display" align="top">  , is related to the pressure and Mach number via

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img160.png" class="math-display" align="top"> </center> 


     <p>where   <img src="Aerof3d_files/img51.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img87.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img61.png" class="math-display" align="top">  , and   <img src="Aerof3d_files/img84.png" class="math-display" align="top">   designate the Mach number, ratio of specific heats, pressure, and density, respectively.

     </p><p>Hence, (after specifying the legitimate density at the inlet
 boundary) one begins by choosing the Mach number and the pressure at 
the subsonic inlet boundary so that   <img src="Aerof3d_files/img159.png" class="math-display" align="top">   is equal to the modulus of the desired velocity vector.

     </p><p>Then, the angles of attack <var>alpha-real</var> and <var>beta-real</var> are set to obtain the desired components of this velocity
vector.

     </p><p>Clearly, there are many   <img src="Aerof3d_files/img161.png" class="math-display" align="top">   combinations that lead to the same   <img src="Aerof3d_files/img159.png" class="math-display" align="top">  . 
Since in this case both   <img src="Aerof3d_files/img51.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img61.png" class="math-display" align="top">   are only knobs, all combinations are in principle valid. 
However, those combinations with a Mach number knob that is far away from a reasonable value associated with   <img src="Aerof3d_files/img159.png" class="math-display" align="top"> 

can lead to numerical difficulties.

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img162.png" class="math-display" align="top"> </center> 


     <p>In this case, AERO-F considers the inlet density to be the reference density (which is to be
considered as the inlet density to be specified), the modulus of the inlet velocity vector

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img163.png" class="math-display" align="top"> </center> 


     <p>to be the modulus of the reference velocity vector (which is to be considered as the modulus of the inlet velocity vector to
be prescribed), the outlet pressure to be the reference pressure
(which is to be considered the outlet pressure to be prescribed),
and the artificial inlet pressure knob to be the reference
pressure too (warning: in this context, the reference pressure is not to be confused with the non-dimensionalization pressure). 
It follows that AERO-F automatically sets

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img164.png" class="math-display" align="top"> </center> 

 <center class="math-display"> <img src="Aerof3d_files/img165.png" class="math-display" align="top"> </center> 


     <p>From a discussion similar to that of the dimensional case described above, it follows that in the non-dimensional
case, the user needs to input only the reference Mach number and the angles of attack <var>alpha-real</var> and <var>beta-real</var>. 
Furthermore, from the above explanation, it also follows that the reference Mach number should be set to

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img166.png" class="math-display" align="top"> </center> 


     <p>Then, by default, the free-stream Mach number is set to the reference Mach number (see below).

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img167.png" class="math-display" align="top"> </center> 


     <p>For a barotropic fluid, the pressure and density are not independent variables. Hence, in this case, the primitive variables are
the density (or pressure), velocity field, and temperature. The modulus of the inlet velocity vector is given by

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img168.png" class="math-display" align="top"> </center> 


     <p>where

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img169.png" class="math-display" align="top"> </center> 


     <p>are the “reference” pressure, “reference” density, and the two 
constants used for defining the barotropic equation of state of the 
fluid. 
Because the outlet boundary is subsonic, the
pressure — and therefore the density — at the inlet is not specified but
 propagated numerically from the outlet boundary to the inlet boundary 
during the solution procedure. 
The free-stream Mach number is a knob. Given the velocity vector to be 
specified at the inlet boundary, one can compute its modulus.

     </p><p>From the above formula, it follows that, after specifying the pressure at the outlet boundary, one chooses the Mach number
so that   <img src="Aerof3d_files/img159.png" class="math-display" align="top">   is equal to the modulus of the desired velocity vector. Then, one sets the angles of attack <var>alpha-real</var> and <var>beta-real</var> to obtain the desired components of this velocity vector. One also specifies the temperature at the inlet boundary.

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img170.png" class="math-display" align="top"> </center> 


     <p>In this case, AERO-F considers the outlet density to be the 
reference density, and the modulus of the
inlet velocity vector to be the modulus of the reference velocity 
vector. At the inlet, it computes the reference temperature using the
formula given in <code>Problem</code>. Thus AERO-F automatically sets

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img171.png" class="math-display" align="top"> </center> 


     <p>while the non-dimensionalized temperature is set by the user. Also,  AERO-F automatically sets the artificial inlet density to

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img172.png" class="math-display" align="top"> </center> 


     <p>In addition, the user must specify the
reference Mach number so that

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img173.png" class="math-display" align="top"> </center> 


     <p>where   <img src="Aerof3d_files/img174.png" class="math-display" align="top"> 


     </p><p>In both dimensional and non-dimensional
cases, for this class of flow problems, AERO-F enforces the true inlet and outlet boundary conditions
in a weak sense unless it is compiled with the flag STRONG_INLET_BC set ON. 
</p></dd></dl>

<p class="noindent"><var>mach-real</var> [—]:
     </p><dl>
<dt></dt><dd>Free-stream Mach number. To be specified only if a 
free-stream velocity (see below) is not specified. 
If omitted and a free-stream velocity is not specified instead, this 
Mach number is automatically set to the reference Mach number. 
If both a free-stream Mach number and a free-stream velocity are 
specified, <b>AERO-F</b> chooses to run with
the specified free-stream Mach number. 
</dd></dl>

<p class="noindent"><var>velocity-real</var> [—]:
     </p><dl>
<dt></dt><dd>Free-stream velocity (magnitude). To be specified — whether a dimensional or non-dimensional
simulation is desired — only if a free-stream Mach number (see above) is not specified. 
If both a free-stream Mach number and a free-stream velocity are specified, <b>AERO-F</b> chooses to run with
the specified free-stream Mach number. 
</dd></dl>

<p class="noindent"><var>alpha-real</var> [—]:
     </p><dl>
<dt></dt><dd>Angle of attack (in degrees) defined in the x-z plane as follows: rotate the free-stream velocity vector
around the z-axis until it intersects the x-z plane. The angle of attack is then the angle between the x-axis and the
rotated vector and is measured positively when rotating from x to z. 
It is equal to zero if the flow is parallel to the x-axis. (Think
of a spherical coordinate system). 
</dd></dl>

<p class="noindent"><var>beta-real</var> [—]:
     </p><dl>
<dt></dt><dd>Sideslip angle (in degrees) defined in the x-y plane as follows: project the free-stream velocity vector
on the x-y plane. The sideslip angle is then the angle between the x-axis and the projected vector, and is measured
positively when rotating from x to y. 
It is equal to zero if the flow is parallel to the x-axis. (Think of a spherical coordinate system). 
</dd></dl>

<p class="noindent"><var>density-real</var> [—]:
     </p><dl>
<dt></dt><dd>Free-stream (far-field), or inlet density. This parameter is required if <code><a href="#Problem">Problem</a>.Mode</code> is set to <code>Dimensional</code>,
and <code><a href="#FluidModel">FluidModel</a>.Fluid</code> is set to <code>PerfectGas</code>, <code>StiffenedGas</code>, or <code>JWL</code>. 
If the fluid is modeled as a barotropic liquid or gas (<code><a href="#FluidModel">FluidModel</a>.Fluid</code> = <code>Liquid</code>) and
<code><a href="#Problem">Problem</a>.Mode</code> is set to <code>Dimensional</code>, this parameter does not need to be specified because it is automatically
determined using the equation of state and the far-field pressure <var>pressure-real</var> (see below). 
</dd></dl>

<p class="noindent"><var>pressure-real</var> [—]:
     </p><dl>
<dt></dt><dd>Free-stream (far-field), or inlet pressure. Required if <code><a href="#Problem">Problem</a>.Mode</code> is set to <code>Dimensional</code> and:
<code><a href="#FluidModel">FluidModel</a>.Fluid</code> is set to <code>PerfectGas</code>, <code>StiffenedGas</code>, or <code>JWL</code>, or the object <a href="#StructuralPreload">StructuralPreload</a>
is used to preload a structure with a uniform but time-dependent, linearly increasing, pressure field. 
Note that:
          <ul>
<li>If the fluid is modeled as a barotropic liquid or gas (<code><a href="#FluidModel">FluidModel</a>.Fluid</code> = <code>Liquid</code>),
      <code><a href="#Problem">Problem</a>.Mode</code> is set to <code>Dimensional</code>, and this parameter is not specified, it is automatically set
      by <b>AERO-F</b> to the "reference" pressure specified in <a href="#LiquidModel">LiquidModel</a>. In this case, the far-field density is
      also automatically set by <b>AERO-F</b> to the "reference" density (see <a href="#LiquidModel">LiquidModel</a>). 
</li><li>When gravity effects are accounted for, this parameter can be used to specify an additional constant pressure field such as
the atmospheric pressure (see <a href="#Hydro">Hydro</a>). 
</li></ul>
     </dd></dl>

<p class="noindent"><var>temperature-real</var> [—]:
     </p><dl>
<dt></dt><dd>Temperature. It must be specified when the fluid is modeled as a barotropic liquid (that is, when <code>FluidModel.Fluid</code> is set to <code>Liquid</code>), and
only in this case. If <code>Problem.Mode</code> is set to <code>Dimensional</code>, this temperature must be specified in Kelvin (in this case, the user
should verify that the ideal gas constant R (see <a href="#GasModel">GasModel</a>) is specified in the same system of units as all other input data). 
If <code>Problem.Mode</code> is set to <code>NonDimensional</code>, this specified temperature is interpreted as the value of the non-dimensionalized free-stream temperature. 
</dd></dl>

<p class="noindent"><var>nutilde-real</var> [see below]:
     </p><dl>
<dt></dt><dd>
Field variable of the one-equation Spalart-Allmaras turbulence model whose implementation in <b>AERO-F</b> does not include
the trip term which usually starts it up. The default value of this parameter in the non-dimensional case is <var>nutilde-real</var> =  0.1. 
Its default value in the dimensional case is <var>nutilde-real</var> =   <img src="Aerof3d_files/img175.png" class="math-display" align="top">  , where
  <img src="Aerof3d_files/img176.png" class="math-display" align="top">   is the laminar kinematic viscosity of the fluid,   <img src="Aerof3d_files/img84.png" class="math-display" align="top">   is its density, and   <img src="Aerof3d_files/img125.png" class="math-display" align="top">   is its dynamic
viscosity (see <a href="#ViscosityModel">ViscosityModel</a>).  These default values provide fully turbulent boundary and shear layers while avoiding numerical difficulties.

</dd></dl>

<p class="noindent"><var>k-real</var> [—]:
     </p><dl>
<dt></dt><dd>
Turbulent kinetic energy in the two-equation   <img src="Aerof3d_files/img41.png" class="math-display" align="top">   turbulence model (required if <code>Problem.Mode</code> is set to <code>Dimensional</code>).

</dd></dl>

<p class="noindent"><var>eps-real</var> [—]:
     </p><dl>
<dt></dt><dd>
Turbulent kinetic energy dissipation rate in the two-equation   <img src="Aerof3d_files/img41.png" class="math-display" align="top">   turbulence model (required if <code>Problem.Mode</code> is set to <code>Dimensional</code>).

</dd></dl>

<p class="noindent">Note:
     </p><ol start="1" type="1">
<li></li><li>for one-dimensional computations (<code><a href="#Problem">Problem</a>.Type</code> = <code>1D</code>), this object is ignored (and the presence
in the ASCII Input Command Data file of the object <a href="#Outlet">Outlet</a> is required);
</li><li>some internal flow problems are characterized by sudden 
time-variations of the boundary conditions. 
For such problems, the initial state of the flow in a certain region is 
uniform but not equal to the state defined
by the boundary condition (an assumption that is otherwise always made 
by AERO-F). 
The problem of opening the valve of a pressurized tank is such an 
example. 
It is possible to simulate such flow problems with AERO-F in dimensional
 mode, using the following two-step procedure. 
First, the desired initial state (for example, inside the tank) is 
computed by setting the boundary condition
artificially to the desired uniform initial state (desired inside the 
tank). Next, a second simulation
is performed by restarting from the outcome of the first simulation. In 
the second simulation, the reference
Mach number, reference density, and reference temperature must be set to
 the desired initial state because
the data saved by AERO-F for re-use in a restart is always saved in 
non-dimensional form. If these reference
values are not specified as described, AERO-F will dimensionalize the 
saved data by the value of the boundary condition specified
in the second simulation to model the sudden variation.
     </li></ol>
<!--  -->
<!-- Outlet object -->
<!--  -->

<div class="node">
<a name="Outlet"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Wall">Wall</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Inlet">Inlet</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BoundaryConditions">BoundaryConditions</a>

</div>

<h4 class="subsection">4.11.2 DEFINING THE FAR-FIELD OUTLET CONDITIONS</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Outlet</b>
</td></tr></tbody></table>

</p><p>The object <code>Outlet</code> object defines the default boundary conditions for all boundary surfaces of the <code>OutletFixed</code>
and <code>OutletMoving</code> types. These conditions are typically far-field outlet boundary conditions. When the fluid is modeled as
a perfect gas, they can be locally modified, if desired, in the object <a href="#SurfaceData">SurfaceData</a>.

</p><pre class="example">     under <var>Outlet</var> {
       Type = <var>type-id</var>;
       Mach = <var>mach-real</var>;
       Velocity = <var>velocity-real</var>;
       Alpha = <var>alpha-real</var>;
       Beta = <var>beta-real</var>;
       Density = <var>density-real</var>;
       Pressure = <var>pressure-real</var>;
       Temperature = <var>temperature-real</var>;
       NuTilde = <var>nutilde-real</var>;
       K = <var>k-real</var>;
       Eps = <var>eps-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>External</code>]:

     </p><dl>
<dt><code>External</code></dt><dd>External flow computation with free-stream conditions in all far-fields. 
<br></dd><dt><code>Internal</code></dt><dd>Designates a special class of
 problems in which the pressure is specified at the outlet boundary,
the density and velocity vector in the case of a perfect gas and the 
temperature and velocity vector in the case of a barotropic liquid
are specified at the inlet boundary, and both boundaries are subsonic. 
This class of problems arises in some internal flow applications, which 
explains the choice of the word “Internal”. 
AERO-F being essentially an external flow solver, it does not offer in 
this case an explicit and straightforward mechanism
for specifying the velocity field at the subsonic inlet boundary. 
However, for a perfect gas, this can be accomplished in
the dimensional case by setting the Mach number and the inlet pressure, 
and in the non-dimensional case
by setting the Mach number only, as described below. For a barotropic 
liquid, it can be accomplished in both dimensional and non-dimensional
cases by setting the Mach number only.

     <p></p><center class="math-display"> <img src="Aerof3d_files/img158.png" class="math-display" align="top"> </center> 


     <p>First, it is noted that because the outlet boundary is subsonic,
 the true
pressure at the inlet is not specified but propagated numerically from 
the outlet boundary to the inlet boundary during the solution procedure.
 Hence,
the inlet pressure that can be specified in the input file should be 
considered only as a “knob”. In this case, it turns out that the 
free-stream
Mach number is also a knob. Now, given the velocity vector to be 
specified at the inlet boundary, one can compute its modulus.

     </p><p>This modulus,   <img src="Aerof3d_files/img159.png" class="math-display" align="top">  , is related to the pressure and Mach number via

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img160.png" class="math-display" align="top"> </center> 


     <p>where   <img src="Aerof3d_files/img51.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img87.png" class="math-display" align="top">  ,   <img src="Aerof3d_files/img61.png" class="math-display" align="top">  , and   <img src="Aerof3d_files/img84.png" class="math-display" align="top">   designate the Mach number, ratio of specific heats, pressure, and density, respectively.

     </p><p>Hence, (after specifying the legitimate density at the inlet
 boundary) one begins by choosing the Mach number and the pressure at 
the subsonic inlet boundary so that   <img src="Aerof3d_files/img159.png" class="math-display" align="top">   is equal to the modulus of the desired velocity vector.

     </p><p>Then, the angles of attack <var>alpha-real</var> and <var>beta-real</var> are set to obtain the desired components of this velocity
vector.

     </p><p>Clearly, there are many   <img src="Aerof3d_files/img161.png" class="math-display" align="top">   combinations that lead to the same   <img src="Aerof3d_files/img159.png" class="math-display" align="top">  . 
Since in this case both   <img src="Aerof3d_files/img51.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img61.png" class="math-display" align="top">   are only knobs, all combinations are in principle valid. 
However, those combinations with a Mach number knob that is far away from a reasonable value associated with   <img src="Aerof3d_files/img159.png" class="math-display" align="top"> 

can lead to numerical difficulties.

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img162.png" class="math-display" align="top"> </center> 


     <p>In this case, AERO-F considers the inlet density to be the reference density (which is to be
considered as the inlet density to be specified), the modulus of the inlet velocity vector

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img163.png" class="math-display" align="top"> </center> 


     <p>to be the modulus of the reference velocity vector (which is to be considered as the modulus of the inlet velocity vector to
be prescribed), the outlet pressure to be the reference pressure
(which is to be considered the outlet pressure to be prescribed),
and the artificial inlet pressure knob to be the reference
pressure too (warning: in this context, the reference pressure is not to be confused with the non-dimensionalization pressure). 
It follows that AERO-F automatically sets

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img164.png" class="math-display" align="top"> </center> 

 <center class="math-display"> <img src="Aerof3d_files/img165.png" class="math-display" align="top"> </center> 


     <p>From a discussion similar to that of the dimensional case described above, it follows that in the non-dimensional
case, the user needs to input only the reference Mach number and the angles of attack <var>alpha-real</var> and <var>beta-real</var>. 
Furthermore, from the above explanation, it also follows that the reference Mach number should be set to

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img166.png" class="math-display" align="top"> </center> 


     <p>Then, by default, the free-stream Mach number is set to the reference Mach number (see below).

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img167.png" class="math-display" align="top"> </center> 


     <p>For a barotropic fluid, the pressure and density are not independent variables. Hence, in this case, the primitive variables are
the density (or pressure), velocity field, and temperature. The modulus of the inlet velocity vector is given by

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img168.png" class="math-display" align="top"> </center> 


     <p>where

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img169.png" class="math-display" align="top"> </center> 


     <p>are the “reference” pressure, “reference” density, and the two 
constants used for defining the barotropic equation of state of the 
fluid. 
Because the outlet boundary is subsonic, the
pressure — and therefore the density — at the inlet is not specified but
 propagated numerically from the outlet boundary to the inlet boundary 
during the solution procedure. 
The free-stream Mach number is a knob. Given the velocity vector to be 
specified at the inlet boundary, one can compute its modulus.

     </p><p>From the above formula, it follows that, after specifying the pressure at the outlet boundary, one chooses the Mach number
so that   <img src="Aerof3d_files/img159.png" class="math-display" align="top">   is equal to the modulus of the desired velocity vector. Then, one sets the angles of attack <var>alpha-real</var> and <var>beta-real</var> to obtain the desired components of this velocity vector. One also specifies the temperature at the inlet boundary.

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img170.png" class="math-display" align="top"> </center> 


     <p>In this case, AERO-F considers the outlet density to be the 
reference density, and the modulus of the
inlet velocity vector to be the modulus of the reference velocity 
vector. At the inlet, it computes the reference temperature using the
formula given in <code>Problem</code>. Thus AERO-F automatically sets

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img171.png" class="math-display" align="top"> </center> 


     <p>while the non-dimensionalized temperature is set by the user. Also,  AERO-F automatically sets the artificial inlet density to

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img172.png" class="math-display" align="top"> </center> 


     <p>In addition, the user must specify the
reference Mach number so that

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img173.png" class="math-display" align="top"> </center> 


     <p>where   <img src="Aerof3d_files/img174.png" class="math-display" align="top"> 


     </p><p>In both dimensional and non-dimensional
cases, for this class of flow problems, AERO-F enforces the true inlet and outlet boundary conditions
in a weak sense unless it is compiled with the flag STRONG_INLET_BC set ON. 
</p></dd></dl>

<p class="noindent"><var>mach-real</var> [—]:
     </p><dl>
<dt></dt><dd>Free-stream Mach number. To be specified only if a free-stream velocity (see below) is not specified. 
If omitted and a free-stream velocity is not specified instead, this Mach number is set to the reference Mach number. 
If both a free-stream Mach number and a free-stream velocity are specified, <b>AERO-F</b> chooses to run with
the specified free-stream Mach number. 
</dd></dl>

<p class="noindent"><var>velocity-real</var> [—]:
     </p><dl>
<dt></dt><dd>Free-stream velocity (magnitude). To be specified — whether a dimensional or non-dimensional
simulation is desired — only if a free-stream Mach number (see above) is not specified. 
If both a free-stream Mach number and a free-stream velocity are specified, <b>AERO-F</b> chooses to run with
the specified free-stream Mach number. 
</dd></dl>

<p class="noindent"><var>alpha-real</var> [—]:
     </p><dl>
<dt></dt><dd>Angle of attack (in degrees) defined in the x-z plane as follows: rotate the free-stream velocity vector
around the z-axis until it intersects the x-z plane. The angle of attack is then the angle between the x-axis and the
rotated vector and is measured positively when rotating from x to z. 
It is equal to zero if the flow is parallel to the x-axis. (Think
of a spherical coordinate system). 
</dd></dl>

<p class="noindent"><var>beta-real</var> [—]:
     </p><dl>
<dt></dt><dd>Sideslip angle (in degrees) defined in the x-y plane as follows: project the free-stream velocity vector
on the x-y plane. The sideslip angle is then the angle between the x-axis and the projected vector, and is measured
positively when rotating from x to y. 
It is equal to zero if the flow is parallel to the x-axis. (Think of a spherical coordinate system). 
</dd></dl>

<p class="noindent"><var>density-real</var> [—]:
     </p><dl>
<dt></dt><dd>Density. It is required if <code>Problem.Mode</code> is set to <code>Dimensional</code> and <code>FluidModel.Fluid</code> is set to <code>Gas</code>. 
When running a <code>Dimensional</code> hydro-simulation (fluid modeled as a barotropic liquid or stiffened ga or stiffened gass),
the far-field density is not specified as it is set automatically using the equation of state
and the far-field pressure (see <a href="#LiquidModel">LiquidModel</a>). 
</dd></dl>

<p class="noindent"><var>pressure-real</var> [—]:
     </p><dl>
<dt></dt><dd>Pressure. It is required if <code>Problem.Mode</code> is set to <code>Dimensional</code> and <code>FluidModel.Fluid</code> is set to <code>Gas</code>. 
When running a <code>Dimensional</code> hydro-simulation (fluid modeled as a barotropic liquid or stiffened gas), if the far-field pressure is not specified,
it is set to the “reference” pressure specified in <code>LiquidModel</code>
(and then the far-field density is automatically set to the “reference” density) (see <a href="#LiquidModel">LiquidModel</a>).

</dd></dl>

<p class="noindent"><var>temperature-real</var> [—]:
     </p><dl>
<dt></dt><dd>Temperature. It must be specified when the fluid is modeled as a barotropic liquid (that is, when <code>FluidModel.Fluid</code> is set to <code>Liquid</code>), and
only in this case. If <code>Problem.Mode</code> is set to <code>Dimensional</code>, this temperature must be specified in Kelvin (in this case, the user
should verify that the ideal gas constant R (see <a href="#GasModel">GasModel</a>) is specified in the same system of units as all other input data). 
If <code>Problem.Mode</code> is set to <code>NonDimensional</code>, this specified temperature is interpreted as the value of the non-dimensionalized free-stream temperature. 
</dd></dl>

<p class="noindent"><var>nutilde-real</var> [—]:
     </p><dl>
<dt></dt><dd>Field variable of the one-equation Spalart-Allmaras turbulence model whose implementation in <b>AERO-F</b> does not include
the trip term which usually starts it up. The default value of this parameter in the non-dimensional case is <var>nutilde-real</var> =  0.1. 
Its default value in the dimensional case is <var>nutilde-real</var> = $0.1\times \nu = 0.1\times \mu/\rho $, where
$\nu$ is the laminar kinematic viscosity of the fluid, $\rho$ is its density, and $\mu$ is its dynamic
viscosity (see <a href="#ViscosityModel">ViscosityModel</a>).  These default values provide fully turbulent boundary and shear layers while avoiding numerical difficulties. 
</dd></dl>

<p class="noindent"><var>k-real</var> [—]:
     </p><dl>
<dt></dt><dd>
Turbulent kinetic energy in the two-equation   <img src="Aerof3d_files/img41.png" class="math-display" align="top">   turbulence model (required if <code>Problem.Mode</code> is set to <code>Dimensional</code>).

</dd></dl>

<p class="noindent"><var>eps-real</var> [—]:
     </p><dl>
<dt></dt><dd>
Turbulent kinetic energy dissipation rate in the two-equation   <img src="Aerof3d_files/img41.png" class="math-display" align="top">   turbulence model (required if <code>Problem.Mode</code> is set to <code>Dimensional</code>).

</dd></dl>

<p class="noindent">Notes:
     </p><ol start="1" type="1">
<li>for one-dimensional computations (<code><a href="#Problem">Problem</a>.Type</code> = <code>1D</code>), this object is required (and the eventual
presence in the ASCII Input Command Data file of the object <a href="#Inlet">Inlet</a> is ignored);
</li><li>some internal flow problems are characterized by sudden 
time-variations of the boundary conditions. 
For such problems, the initial state of the flow in a certain region is 
uniform but not equal to the state defined
by the boundary condition (an assumption that is otherwise always made 
by AERO-F). 
The problem of opening the valve of a pressurized tank is such an 
example. 
It is possible to simulate such flow problems with AERO-F in dimensional
 mode, using the following two-step procedure. 
First, the desired initial state (for example, inside the tank) is 
computed by setting the boundary condition
artificially to the desired uniform initial state (desired inside the 
tank). Next, a second simulation
is performed by restarting from the outcome of the first simulation. In 
the second simulation, the reference
Mach number, reference density, and reference temperature must be set to
 the desired initial state because
the data saved by AERO-F for re-use in a restart is always saved in 
non-dimensional form. If these reference
values are not specified as described, AERO-F will dimensionalize the 
saved data by the value of the boundary condition specified
in the second simulation to model the sudden variation.
     </li></ol>
<!--  -->
<!-- Wall object -->
<!--  -->

<div class="node">
<a name="Wall"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Hydro">Hydro</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Outlet">Outlet</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BoundaryConditions">BoundaryConditions</a>

</div>

<h4 class="subsection">4.11.3 DEFINING THE WALL CONDITIONS</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Wall</b>
</td></tr></tbody></table>

</p><p>For viscous simulations, the object <code>Wall</code> can be used to specify a default computational model for wall surfaces and set its parameters.

</p><pre class="example">     under Wall {
       Type = <var>type-id</var>;
       Integration = <var>integration-id</var>;
       Delta = <var>delta-real</var>;
       Temperature = <var>temp-real</var>;
       Method = <var>method-id</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>Adiabatic</code>]:
     </p><dl>
<dt><code>Adiabatic</code></dt><dd>Adiabatic wall.

     <br></dd><dt><code>Isothermal</code></dt><dd>Isothermal wall with temperature set to <code>Wall.Temperature</code>. 
</dd></dl>

<p class="noindent"><var>integration-id</var> [ ]:
     </p><dl>
<dt><code>WallFunction</code></dt><dd>Modeling by the discretized governing equations up to a distance <code>Wall.Delta</code> from
the wall. The region of the boundary layer that is not resolved by the
mesh is modeled by Reichardt's nonlinear wall function (available for
all Navier-Stokes simulations with or without turbulence models).

     <br></dd><dt><code>Full</code></dt><dd>
Modeling by the discretized governing equations up to the wall (not available for
Navier-Stokes simulations with the   <img src="Aerof3d_files/img41.png" class="math-display" align="top">   turbulence model). In this case, it is strongly
recommended to have the first layer of elements above the wall located at   <img src="Aerof3d_files/img177.png" class="math-display" align="top">  .

     <!-- @end table -->
     <br></dd><dt></dt><dd>If <var>integration-id</var> is not specified, AERO-F sets <var>integration-id</var> to <code>Full</code> for Navier-Stokes
simulations without turbulence modeling and to <code>WallFunction</code> for Navier-Stokes simulations with turbulence modeling
(including LES). 
</dd></dl>

<p class="noindent"><var>delta-real</var> [—]:
     </p><dl>
<dt></dt><dd>Distance of the fictitious computational domain to solid 
walls (required for a modelisation with the wall function). For 
turbulent computations on a non body-fitted
grid (<code><a href="#Problem">Problem</a>.Framework</code> = <code>Embedded</code>), this distance is automatically computed by <b>AERO-F</b>. For turbulent computations on a body-fitted
grid (<code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>), this global parameter is kept constant during the computation and can be set and verified using the following guidelines:

     <br></dd><dt></dt><dd>
* In principle, the suitability of a specific value of <var>delta-real</var> can be assessed
only a posteriori, by checking the values of the   <img src="Aerof3d_files/img178.png" class="math-display" align="top">   of the corresponding solution
as explained below. Hence, one begins with a trial value of <var>delta-real</var> then
adjusts it after one or more additional runs.

     <br></dd><dt></dt><dd>
* A good first trial value of <var>delta-real</var> can be obtained as follows. 
Typically, the non-dimensional value of the friction velocity is of the
order of 1/20, and the non-dimensional value of the dynamic viscosity coefficient is of the order of 1. 
Using these typical values, the formula relating the   <img src="Aerof3d_files/img178.png" class="math-display" align="top">   to y, the non-dimensional friction velocity and the
non-dimensional dynamic viscosity becomes
 <center class="math-display"> <img src="Aerof3d_files/img179.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img180.png" class="math-display" align="top">   denotes the Reynolds number and   <img src="Aerof3d_files/img181.png" class="math-display" align="top">   denotes   <img src="Aerof3d_files/img67.png" class="math-display" align="top">   after non-dimensionalization by the reference length (used for the definition of the Reynolds number). 
Hence, a first trial value of <var>delta-real</var> can be chosen
so that
  <img src="Aerof3d_files/img182.png" class="math-display" align="top">   <var>delta-real</var>/<code><a href="#ReferenceState">ReferenceState</a>.Length</code>
produces a value of   <img src="Aerof3d_files/img178.png" class="math-display" align="top">   that is within the acceptable limits of the wall function. 
AERO-F uses Reichardt's law which is valid within all three zones of the boundary layer:
the viscous sublayer (  <img src="Aerof3d_files/img183.png" class="math-display" align="top">  ) where the non-dimensional velocity   <img src="Aerof3d_files/img184.png" class="math-display" align="top">   is a linear function of   <img src="Aerof3d_files/img178.png" class="math-display" align="top"> 

, the buffer layer where the relationship is log-linear, and the logarithmic layer
where the relationship is logarithmic. However, because of the reasons explained below,
the user is advised to verify that <var>delta-real</var> is chosen so that
 <center class="math-display"> <img src="Aerof3d_files/img185.png" class="math-display" align="top"> </center> 


     <p>(see below).

     <br></p></dd><dt></dt><dd>
* Check the lower limit of   <img src="Aerof3d_files/img178.png" class="math-display" align="top">  . In the commonly used applications of wall functions,
the meshing should be arranged so that the values of   <img src="Aerof3d_files/img178.png" class="math-display" align="top">   at all the wall-adjacent
mesh points is only slightly above the recommended lower limit between 20 and 30. 
The real reason is not that the form usually assumed for the wall functions is not valid much below these values
(given that Reichardt's law is valid), but the fact that if <var>delta-real</var> is positioned too low,
the CFD computation will start too close to the wall and its accuracy will depend on the specifics
of the chosen turbulence model. 
If this model does not reproduce correctly the asymptotic behavior of the
solution near the wall (for example, the standard LES model or the standard   <img src="Aerof3d_files/img41.png" class="math-display" align="top">   model), a flawed computation can be expected even though the connection with the wall function
is performed at a valid point. 
On the other hand, the computation may be safe if the dynamic LES
model is used instead. In any case, the lower limit given above offers the best chances to
correctly resolve the turbulent portion of the boundary layer. It should be noted however
that this limit may be impossible to satisfy close to separation or reattachment zones unless   <img src="Aerof3d_files/img178.png" class="math-display" align="top">   is based upon y*.

     <br></dd><dt></dt><dd>
* Check the upper limit on   <img src="Aerof3d_files/img178.png" class="math-display" align="top">  . In the case of moderate Reynolds numbers, where the boundary layer
only extends to   <img src="Aerof3d_files/img178.png" class="math-display" align="top">   of 300 to 500, there is no chance of accurately resolving the boundary layer
if the first mesh point is placed at a location with the value of   <img src="Aerof3d_files/img178.png" class="math-display" align="top">   of 100 or higher.

     <br></dd><dt></dt><dd>* Check the resolution of the boundary layer. If boundary layer effects are important, it is
recommended that the resolution of the boundary layer is checked after the computation. 
This can be achieved by a plot of the ratio between the turbulent to the molecular viscosity,
which is high inside the boundary layer. Adequate boundary layer resolution requires at
least 8-10 points in the layer. An attempt to address this requirement can be performed a priori by estimating
the thickness of the boundary layer assuming the obstacle is locally a flat plate, and
using the experiment-based formulae

     <p></p><center class="math-display"> <img src="Aerof3d_files/img186.png" class="math-display" align="top"> </center> 


     <p>and

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img187.png" class="math-display" align="top"> </center> 


     <p>where   <img src="Aerof3d_files/img188.png" class="math-display" align="top">   denotes the thickness of the boundary layer at the distance   <img src="Aerof3d_files/img66.png" class="math-display" align="top">   from the leading edge of the plate, and
  <img src="Aerof3d_files/img189.png" class="math-display" align="top">   denotes the Reynolds number based on a length equal to   <img src="Aerof3d_files/img66.png" class="math-display" align="top">   for this specific purpose.

     <br></p></dd><dt></dt><dd>* For robustness, the mesh spacing and <var>delta-real</var> should be such that the distance to the wall is
equal to the average value of the wall normal mesh spacing. 
For some complex flow configurations, the robustness of the solver can be further increased
by choosing a larger value of <code>Wall.Delta</code> during the first few time
iterations, performing a run with this larger value, then restarting from the result
of this run and using the suitable value of <code>Wall.Delta</code>.

     <br></dd><dt></dt><dd>
* In any case, the chosen value of the distance to the wall should be validated a posteriori
by inspecting the resulting values of the   <img src="Aerof3d_files/img178.png" class="math-display" align="top">   field as discussed above. This can be done by requesting
one restart iteration after setting <code>Postpro.DeltaPlus</code> to output the values of   <img src="Aerof3d_files/img178.png" class="math-display" align="top">  .

</dd></dl>

<p class="noindent"><var>temp-real</var> [—]:
     </p><dl>
<dt></dt><dd>Wall temperature (required for an isothermal wall). 
</dd></dl>

<p class="noindent"><var>method-id</var> [<code>Standard</code>]:

</p><p>This parameter specifies the approach to be used for enforcing 
the inviscid component of the chosen wall boundary condition at the wall
 boundaries of the CFD mesh (independently of the
computational framework set in <a href="#Problem">Problem</a>).
     </p><dl>
<dt><code>Standard</code></dt><dd>Standard approach for enforcing a wall boundary condition using a finite volume method. 
<br></dd><dt><code>ExactRiemannProblem</code></dt><dd>Embedded boundary 
method type of approach for enforcing a wall boundary condition using a 
finite volume method. This approach incurs the solution of a local, 
one-dimensional, fluid-structure Riemann problem
at the wall boundary. 
</dd></dl>
<!--  -->
<!-- Hydro object -->
<!--  -->

<div class="node">
<a name="Hydro"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BoundaryData">BoundaryData</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Wall">Wall</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BoundaryConditions">BoundaryConditions</a>

</div>

<h4 class="subsection">4.11.4 DEFINING A LIST OF ADDITIONAL PARAMETERS FOR HYDRO-SIMULATION</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Hydro</b>
</td></tr></tbody></table>

</p><p>When performing a hydro-computation, a list of additional 
parameters is needed for computing the far-field pressure and the 
hydrostatic and hydrodynamic pressure and force fields. 
This list is currently defined within the <code>Hydro</code> object. Its syntax is:

</p><pre class="example">     under Hydro{
       Depth = <var>depth-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>depth-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Depth of the origin of the mesh coordinate system. 
</dd></dl>

<!-- ARL_FLAG -->
<!--  -->
<!-- BoundaryData object -->
<!--  -->
<div class="node">
<a name="BoundaryData"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Hydro">Hydro</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BoundaryConditions">BoundaryConditions</a>

</div>

<h4 class="subsection">4.11.5 DEFINING A BOUNDARY CONDITION DATA SET</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>BoundaryData</b>
</td></tr></tbody></table>

</p><p>The purpose of this object is to define a set of boundary conditions which can be applied in <a href="#SurfaceData">SurfaceData</a> to specific
boundary surfaces (and override any default boundary condition that applies there), and identify them with the integer
ID number <var>boundaryconditions-id-int</var>. Its syntax is:

</p><pre class="example">     under BoundaryData[<var>boundaryconditions-id-int</var>] {
       Type = <var>type-id</var>;
       InletVariableSet = <var>inletvariableset-list</var>;
       OutletVariableSet = <var>outletvariableset-list</var>;
       TotalPressure = <var>totalpressure-real</var>;
       TotalTemperature = <var>totaltemperature-real</var>;
       NuTilde = <var>nutilde-real</var>;
       K = <var>k-real</var>;
       Eps = <var>eps-real</var>;
       Pressure = <var>pressure-real</var>;
       Porosity = <var>porosity-real</var>;
       MassFlow = <var>massflow-real</var>;
       Temperature = <var>temperature-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [  ]:
     </p><dl>
This parameter characterizes the type of the set of boundary conditions to be defined in this object. 
It can take any of the following values explained below: <code>DirectState</code>, or <code>PorousWall</code>. 
<dt><code>DirectState</code></dt><dd>This surface-specific boundary condition type should be attributed only to inlet or outlet surfaces, when the fluid is modeled
as a perfect gas. It designates a special class of boundary conditions for flow quantities that can
be imposed on inlet and/or outlet surfaces according to the flow regime there. 
<br></dd><dt><code>PorousWall</code></dt><dd>This surface-specific boundary condition type should be attributed only to <i>slip</i> wall boundary surfaces, when the fluid is
modeled as a perfect gas. The associated surfaces are treated as porous walls.

     <p>In a body-fitted simulation (<code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>),
 a porous wall boundary condition
could be of two types itself: injection or suction. A porous wall 
boundary condition of the injection type requires specifying
the value of the porosity of a porous wall, that of the mass flow rate 
per unit surface area across this wall, and that of its
temperature. A porous wall boundary condition of the suction type 
requires specifying the value of the porosity of a porous wall
and that of the mass flow rate per unit surface area across this wall, 
only. The type of a porous wall boundary condition is
automatically recognized as injection if the specified value for the 
mass flow rate (see below) across a porous wall is negative. 
It is recognized as suction if the specified value for the mass flow 
rate (see below) is positive. In either case, a porous
wall boundary condition is implemented in <b>AERO-F</b> as described in
<cite>L.Y.M. Gicquel and T. Poinsot, "Wall Models for Multiperforated Walls, " (2008)</cite>.

     </p><p>In an embedded simulation (<code><a href="#Problem">Problem</a>.Framework</code> = <code>Embedded</code>),
 there is no distinction between injection and suction. 
In this case, the flux across a porous wall is computed based on the 
value of the porosity specified for this wall (see below) only,
using an approach based on the finite volume method with exact, local, 
two-phase Riemann solvers. Therefore in this case, the value
of the mass flow rate per unit surface area across this wall and that of
 its temperture do not need to be specified. 
</p></dd></dl>

<p class="noindent"><var>inletvariableset-list</var> [<code>---</code>]:
     </p><dl>
List containing up to two flow and two turbulence model variables that can be prescribed on any inlet boundary surface if:
(a) <i>the fluid is modeled as a perfect gas</i>, and (b) <i>the flow is locally normal to this surface</i>. In this case, all
boundary conditions are implemented in <b>AERO-F</b> as described in Section 2.7 of
<cite>Jan-Renee Carlson, "Inflow/Outflow Boundary Conditions with Application to FUN3D," NASA/TM-2011-217181 (2011)</cite>. 
<dt><code>{P_T,T_T}</code></dt><dd>Selects the total pressure and total temperature variables. 
<br></dd><dt><code>{P_T, T_T, NuTilde }</code></dt><dd>Selects the total pressure and total temperature variables, and the Spalart-Allmaras field variable. 
<br></dd><dt><code>{P_T, T_T, K, Eps }</code></dt><dd>Selects the total pressure and total temperature variables, and the turbulent kinetic energy and turbulent kinetic energy
dissipation rate variables. 
</dd></dl>

<p class="noindent"><var>outletvariableset-list</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>List containing up to one flow variable that can be prescribed on any outlet boundary surface,
<i>when the fluid is modeled as a perfect gas</i>. (Note that currently, turbulence model variables cannot be specified
on an outlet boundary surface — instead, they are extrapolated on such a surface). In this case, all
boundary conditions are implemented in <b>AERO-F</b> as described in Section 2.4 of
<cite>Jan-Renee Carlson, "Inflow/Outflow Boundary Conditions with Application to FUN3D," NASA/TM-2011-217181 (2011)</cite>. 
<br></dd><dt><code>{P}</code></dt><dd>Selects the pressure variable. 
</dd></dl>

<p class="noindent"><var>totalpressure-real</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>Specifies the value of the total pressure for an inlet boundary condition. 
</dd></dl>

<p class="noindent"><var>totaltemperature-real</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>Specifies the value of the total temperature for an inlet boundary condition. 
</dd></dl>

<p class="noindent"><var>nutilde-real</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>Specifies the value of the Spalart-Allmaras field variable for an inlet boundary condition. 
</dd></dl>

<p class="noindent"><var>k-real</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>Specifies the value of the turbulent kinetic energy for an inlet boundary condition. 
</dd></dl>

<p class="noindent"><var>eps-real</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>Specifies the value of the turbulent kinetic energy dissipation rate for an inlet boundary condition. 
</dd></dl>

<p class="noindent"><var>pressure-real</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>Specifies the pressure value for an outlet boundary condition. 
</dd></dl>

<p class="noindent"><var>porosity-real</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>Specifies the porosity value of a porous wall — that is, the ratio of the total area of the holes in the wall and
the total area of the wall (hence the porosity value of a solid wall is by definition zero). 
</dd></dl>

<p class="noindent"><var>massflow-real</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>Specifies the value of the mass flow rate for a porous wall
 boundary condition. A positive value designates a porous wall boundary
condition of the suction type. A negative value designates a porous wall
 boundary condition of the injection type. 
This value is needed however only for flow computations on body-fitted 
meshes. 
</dd></dl>

<p class="noindent"><var>temperature-real</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>Specifies the value of the temperature for a porous wall boundary condition of the injection type. This value is needed
however only for flow computations on body-fitted meshes. 
</dd></dl>
<!--  -->
<!-- Preconditioner object -->
<!--  -->

<div class="node">
<a name="Preconditioner"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Space">Space</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BoundaryConditions">BoundaryConditions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.12 SETTING THE PARAMETERS OF THE CHOSEN LOW-MACH PRECONDITIONER</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Preconditioner</b>
</td></tr></tbody></table>

</p><p>The <code>Preconditioner</code> object specifies the parameters 
of the low-Mach Turkel preconditioner for the artificial
viscosity as well as inertia (or time-derivative, or temporal) terms of 
the equations to be solved. The preconditioner is local, i.e. its value
changes at each node and during the simulation. Its key variable is

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img190.png" class="math-display" align="top"> </center> 


<p>where   <img src="Aerof3d_files/img191.png" class="math-display" align="top">   is the value of the local mach number.

</p><p>The syntax of the <code>Preconditioner</code> object is:

</p><pre class="example">     under Preconditioner{
       Mach = <var>Mach-real</var>;
       k = <var>k-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>Mach-real</var> [1.0]:
     </p><dl>
<dt></dt><dd>Minimal value of the preconditioner for the low-Mach Turkel preconditioner. 
The recommended value is of the order of the characteristic Mach number
of the simulation being run. In general, a good choice is a value slightly
smaller than the inlet Mach number. However, it can be necessary to set it to a higher
value for flows with pockets of very small velocities. 
</dd></dl>

<p class="noindent"><var>k-real</var> [1.0]:
     </p><dl>
<dt></dt><dd>This parameter characterizes the low-Mach preconditioner for both gas and liquid flows. The
recommended value is of the order of unity. However, it can be necessary to set it to a higher
value for flows with pockets of very small velocities. 
</dd></dl>

<p>Notes:
     </p><ol start="1" type="1">
<li>
the user can check that at values of the Mach number in the compressible flow regime,   <img src="Aerof3d_files/img63.png" class="math-display" align="top">   becomes equal to 1 if the above parameters are reasonably well
chosen in which case the preconditioner becomes inactive and therefore does
not bother compressible flow computations even when turned on;

     </li><li>explicit time-integration is not recommended for low-Mach flows for computational efficiency reasons.
     </li></ol>
<!--  -->
<!-- Space object -->
<!--  -->

<div class="node">
<a name="Space"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ImplosionSetup">ImplosionSetup</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Preconditioner">Preconditioner</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.13 DEFINING THE SPACE DISCRETIZATION</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Space</b>
</td></tr></tbody></table>

</p><p>The finite I volume discretization of the governing equations is defined
within the <code>Space</code> object. Its syntax is:

</p><pre class="example">     under Space {
       under NavierStokes { ... }
       under TurbulenceModel { ... }
       under LevelSet { ... }
       under Boundaries { ... }
       under Fixes { ... }
     }
</pre>
<p>with

</p><p class="noindent"><code>NavierStokes</code>:
     </p><dl>
<dt></dt><dd>Defines the spatial discretization of the inviscid part of the Euler or
averaged Navier-Stokes equations. Its syntax is defined in the
<var>space-obj</var> object. 
</dd></dl>

<p class="noindent"><code>TurbulenceModel</code>:
     </p><dl>
<dt></dt><dd>Defines the spatial discretization of the inviscid part of the turbulence
model equation(s). Its syntax is defined by the <var>space-obj</var>
object. 
</dd></dl>

<p class="noindent"><code>LevelSet</code>:
     </p><dl>
<dt></dt><dd>Defines the spatial discretization of the generalized level set equation(s). 
Its syntax is defined by the <var>space-obj</var> object. 
</dd></dl>

<p class="noindent"><code>Boundaries</code>:
     </p><dl>
<dt></dt><dd>Defines the options available for the numerical treatment of the far-field boundary conditions. 
</dd></dl>

<p class="noindent"><code>Fixes</code>:
     </p><dl>
<dt></dt><dd>Defines the few modifications that can be applied to the 
spatial discretization of the governing equations in order to improve 
its robustness. 
</dd></dl>

<p class="noindent">Note:
     </p><ol start="1" type="1">
<li>the discretization of the viscous and source terms of the governing
equations is always performed by a Galerkin finite element technique.
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#NavierStokes">NavierStokes</a>
</li><li><a accesskey="2" href="#SpaceTurbulenceModel">SpaceTurbulenceModel</a>
</li><li><a accesskey="3" href="#LevelSet">LevelSet</a>
</li><li><a accesskey="4" href="#Boundaries">Boundaries</a>
</li><li><a accesskey="5" href="#Fixes">Fixes</a>
</li></ul>
<!--  -->
<!-- NavierStokes object -->
<!--  -->

<div class="node">
<a name="NavierStokes"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SpaceTurbulenceModel">SpaceTurbulenceModel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Space">Space</a>

</div>

<h4 class="subsection">4.13.1 NAVIERSTOKES</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>NavierStokes</b>
</td></tr></tbody></table>

</p><p>The <code>NavierStokes</code> object defines the finite volume discretization
of the governing Euler or Navier-Stokes equations. Its syntax is:

</p><pre class="example">     under <code>NavierStokes</code> {
       Flux = <var>flux-id</var>;
       Reconstruction = <var>reconstruction-id</var>;
       AdvectiveOperator = <var>advectiveoperator-id</var>;
       Limiter = <var>limiter-id</var>;
       Gradient = <var>gradient-id</var>;
       Dissipation = <var>dissipation-id</var>;
       Beta = <var>beta-real</var>;
       Gamma = <var>gamma-real</var>;
       Eps = <var>eps-real</var>;
       under FluxMap { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>flux-id</var> [<code>Roe</code>]:

</p><p>Specifies a default flux scheme for the flow computation that can be overridden in <code>FluxMap</code> for each fluid model involved
in the flow computation.
     </p><dl>
<dt><code>Roe</code></dt><dd>Specifies Roe's numerical flux. 
<br></dd><dt><code>HLLE</code></dt><dd>Specifies the HLLE (Harten-Lax-van Leer-Einfeldt) numerical flux, which enables the intermediate state to satisfy the so-called
entropy and positivity conditions but is more diffusive than Roe's flux. This choice for the numerical flux is available however
only when the specified equation of state (EOS) is that of a perfect or stiffened gas (see <a href="#FluidModel">FluidModel</a>). 
<br></dd><dt><code>HLLC</code></dt><dd>Specifies the HLLC (devised by 
Toro, HLL for Harten-Lax-van Leer and C for “contact”) numerical flux, 
which can remain positively
conservative and is computationally more efficient than Roe's flux. This
 choice for the numerical flux is available however only
when the specified equation of state (EOS) is that of a perfect or 
stiffened gas (see <a href="#FluidModel">FluidModel</a>). 
</dd></dl>

<p class="noindent"><var>reconstruction-id</var> [<code>Linear</code>]:
     </p><dl>
<dt><code>Constant</code></dt><dd>A constant variation of the solution is assumed within each control volume. This leads to a first-order space-accurate scheme. 
<br></dd><dt><code>Linear</code></dt><dd>A linear variation of the 
solution is assumed within each control volume. This leads to at least a
 second-order space-accurate scheme. 
</dd></dl>

<p class="noindent"><var>advectiveoperator-id</var> [<code>FiniteVolume</code>]:
     </p><dl>
<dt><code>FiniteVolume</code></dt><dd>This option is relevant only if <var>reconstruction-id</var> is set to <code>Linear</code>.
 
In this case, all components of the numerical flux function are computed
 using the reconstructed values of the primitive variables. 
<br></dd><dt><code>Galerkin</code></dt><dd>This option is relevant only if <var>reconstruction-id</var> is set to <code>Linear</code>.
 In this case, the reconstructed values of the primitive variables may 
occasionally be non-physical
due to the fact that they are computed by extrapolation. They may lead 
to the appearance of a NaN when used for computing the numerical flux 
function. 
To avoid this pitfall and the expensive "if"-type of testing that can 
prevent it, this option requests that the reconstructed values of the 
primitive variables be used only in the (Wi - Wj)
term of the numerical flux function, and the constant values be used 
instead in its centered component and upwinding matrix. This is 
justified by the two following observations about the
upwinded flux: a) its centered term is by construction second-order 
space-accurate and therefore does not need to be evaluated at the 
reconstructed values of the primitive variables in order to be 
second-order space-accurate,
and b) the evaluation of the term (Wi - Wj) does not incur the 
computation of any quantity that can generate a NaN (such as for 
example, the speed of sound which involves a square root). 
</dd></dl>

<p class="noindent"><var>limiter-id</var> [<code>None</code>]:
     </p><dl>
<dt><code>None</code></dt><dd>No limiter is used. 
<br></dd><dt><code>VanAlbada</code></dt><dd>The one-dimensional limiter developed by van Albada is used. 
<br></dd><dt><code>Barth</code></dt><dd>The multi-dimensional limiter developed by Barth is used. 
<br></dd><dt><code>Venkatakrishnan</code></dt><dd>The multi-dimensional limiter developed by Venkatakrishnan (smooth version
of Barth's limiter) is used. 
<br></dd><dt><code>PressureSensor</code></dt><dd>A sensor is used to switch to a constant reconstruction in regions where the
flow exhibits large pressure gradients. 
</dd></dl>

<p class="noindent"><var>gradient-id</var> [<code>LeastSquares</code>]:
     </p><dl>
<dt><code>LeastSquares</code></dt><dd>A least squares technique is used to compute the nodal gradients for second-order reconstruction. This option is the most
robust one, particularly for turbulent flows. 
<br></dd><dt><code>Galerkin</code></dt><dd>A weighted Galerkin technique is used to compute the nodal gradients for second-order reconstruction. 
<br></dd><dt><code>NonNodal</code></dt><dd>A "geometrical upwind", 
non-nodal technique is used to compute the gradients for second-order 
reconstruction. This option is the least
dissipative one. 
</dd></dl>

<p class="noindent"><var>dissipation-id</var> [<code>SecondOrder</code>]:
     </p><dl>
<dt><code>SecondOrder</code></dt><dd>This is a misnomer as in this case, the resulting scheme is the standard <var>beta-real</var> <var>gamma-real</var> scheme
which in the general inviscid case has a second-order dispersion error, a third-order dissipation error
and therefore is spatially second-order accurate.

     <br></dd><dt><code>SixthOrder</code></dt><dd>In this case and for inviscid problems, when <var>beta-real</var> is set to 0.333333333333 (1/3), the resulting scheme has a fifth-order spatial dissipation
error (with a sixth-order spatial derivative), a sixth-order spatial dispersion error, and therefore is spatially fifth-order
accurate. If furthermore <var>gamma-real</var> is set to 0, the spatial dissipation error is cancelled and therefore the scheme
becomes sixth-order space-accurate. Hence, when this option is used, <var>beta-real</var> should be set to 0.333333333333 (1/3). 
</dd></dl>

<p class="noindent"><var>beta-real</var> [<code>1/3</code>]:
     </p><dl>
<dt></dt><dd>Upwinding parameter used in the reconstruction. A value of zero corresponds to a centered reconstruction, while a value of
one corresponds to a full upwind one. For a fixed value of <var>gamma-real</var> (see below), this parameter controls the
second-order spatial dispersion of the scheme and can change its sign. When <var>beta-real</var> is set to 0.333333333333 (1/3),
the second-order spatial dispersion error is eliminated and the leading spatial dispersion error becomes fourth-order;
in this case, the leading spatial discretization error becomes third-order and of the dissipative type and therefore the
scheme becomes third-order space-accurate for inviscid problems, if <var>gamma-real</var> is set to a non-zero value and <var>dissipation-id</var> is set
to <code>SecondOrder</code>. If <var>beta-real</var> is set to 0.333333333333 (1/3), <var>gamma-real</var> is set to zero and <var>dissipation-id</var>
is set to <code>SecondOrder</code>, then the scheme becomes fourth-order space-accurate for inviscid problems. 
</dd></dl>

<p class="noindent"><var>gamma-real</var> [<code>1.0</code>]:
     </p><dl>
<dt></dt><dd>Parameter that controls the spatial numerical viscosity introduced by the chosen numerical
flux. A value of one recovers the original flux, while a value less than
one decreases the added numerical viscosity. For a fixed value of <var>beta-real</var> (see above),
this parameter controls the third-order spatial dissipation of the scheme. 
When <var>gamma-real</var> is set to 0, the third-order spatial dissipation error is eliminated
and the leading spatial dissipation error becomes fifth-order. In this case, if <var>dissipation-id</var> is set to <code>SecondOrder</code>,
the scheme becomes fourth-order space-accurate at best for inviscid problems when <var>beta-real</var> is set to 1/3. 
</dd></dl>

<p class="noindent"><var>eps-real</var> [<code>0.1</code>]:
     </p><dl>
<dt></dt><dd>Parameter used in Venkatakrishnan's limiter and in the pressure sensor. The limiter
becomes more active if this value is reduced. 
</dd></dl>

<p class="noindent"><code>FluxMap</code>:
     </p><dl>
<dt></dt><dd>Allows to specify (map) a flux scheme to a fluid model involved in the flow computation. 
</dd></dl>

<p class="noindent">Note:
     </p><ol start="1" type="1">
<li>for the level set equation(s), only the <code>SecondOrder</code> option of <var>dissipation-id</var> is currently supported.
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#FluxMap">FluxMap</a>
</li></ul>

<!--  -->
<!-- FluxMap -->
<!--  -->
<div class="node">
<a name="FluxMap"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#NavierStokes">NavierStokes</a>

</div>

<h5 class="subsubsection">4.13.1.1 MAPPING A FLUX SCHEME TO AN EQUATION OF STATE</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>FluxMap</b>
</td></tr></tbody></table>

</p><p>The <code>FluxMap</code> object allows to override the default flux scheme set in <code><a href="#NavierStokes">NavierStokes</a>.Flux</code> according to the fluid model prevailing at the location where this flux is used.

</p><p>The syntax of this object is:

</p><pre class="example">     under FluxMap[<var>flui-id-int</var>] {
       Flux = <var>flux-id</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>fluid-id-int</var> [ ]:
     </p><dl>
<dt></dt><dd>Integer number assigned to a fluid medium to identify it as described in <a href="#FluidModel">FluidModel</a>. 
</dd></dl>

<p class="noindent"><var>flux-id</var> [ ]:
     </p><dl>
<dt><code>Roe</code></dt><dd>Specifies Roe's numerical flux. 
<br></dd><dt><code>HLLE</code></dt><dd>Specifies the HLLE 
(Harten-Lax-van Leer-Einfeldt) numerical flux, which enables the 
intermediate state to satisfy the so-called entropy and positivity 
conditions but is more diffusive than Roe's flux. 
This choice for the numerical flux is available however only when the 
specified equation of state (EOS) is that of a perfect gas (see <a href="#FluidModel">FluidModel</a>). If any other EOS is specified in <a href="#FluidModel">FluidModel</a>, <var>flux-id</var> is automatically reset to <code>Roe</code> by <b>AERO-F</b>. 
<br></dd><dt><code>HLLC</code></dt><dd>Specifies the HLLC (devised by 
Toro, HLL for Harten-Lax-van Leer and C for “contact”) numerical flux, 
which can remain positively conservative and is computationally more 
efficient than Roe's flux. 
This choice for the numerical flux is available however only when the 
specified equation of state (EOS) is that of a perfect gas (see <a href="#FluidModel">FluidModel</a>). If any other EOS is specified in <a href="#FluidModel">FluidModel</a>, <var>flux-id</var> is automatically reset to <code>Roe</code> by <b>AERO-F</b>. 
</dd></dl>
<!--  -->
<!-- Spatial discretization of turbulence model object -->
<!--  -->

<div class="node">
<a name="SpaceTurbulenceModel"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#LevelSet">LevelSet</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#NavierStokes">NavierStokes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Space">Space</a>

</div>

<h4 class="subsection">4.13.2 TURBULENCEMODEL</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>TurbulenceModel</b>
</td></tr></tbody></table>

</p><p>The <code>TurbulenceModel</code> object defines the finite volume discretization of the turbulence model equations. Its syntax is:

</p><pre class="example">     under <code>TurbulenceModel</code> {
       Reconstruction = <var>reconstruction-id</var>;
       AdvectiveOperator = <var>advectiveoperator-id</var>;
       Limiter = <var>limiter-id</var>;
       Gradient = <var>gradient-id</var>;
       Dissipation = <var>dissipation-id</var>;
       Beta = <var>beta-real</var>;
       Gamma = <var>gamma-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>reconstruction-id</var> [<code>Constant</code>]:
     </p><dl>
<dt><code>Constant</code></dt><dd>A constant variation of the solution is assumed within each control volume. This leads to a first-order space-accurate scheme. 
<br></dd><dt><code>Linear</code></dt><dd>A linear variation of the 
solution is assumed within each control volume. This leads to at least a
 second-order space-accurate scheme. 
</dd></dl>

<p class="noindent"><var>advectiveoperator-id</var> [<code>FiniteVolume</code>]:
     </p><dl>
<dt><code>FiniteVolume</code></dt><dd>This option is relevant only if <var>reconstruction-id</var> is set to <code>Linear</code>. 
In this case, the flux function is computed using the reconstructed values of the primitive variables. 
<br></dd><dt><code>Galerkin</code></dt><dd>This option is relevant only if <var>reconstruction-id</var> is set to <code>Linear</code>.
 
Because they are obtained by extrapolation, the reconstructed values of 
the primitive variables may occasionally be non-physical. In such a 
case, they may lead
to the appearance of a NaN when used for computing the flux function. To
 avoid this pitfall and the expensive "if"-type of testing that can 
prevent it, this option
requests that the reconstructed values of the primitive variables be 
used only in the (Wi - Wj) term of the numerical flux function and that 
the constant values be used
in the centered flux component of this flux function as well as in its 
associated matrix. This is justified by the two following observations 
about the upwinded flux: a) its centered flux
term is by construction second-order space-accurate and therefore does 
not need to be evaluated at the reconstructed values of the primitive 
variables in order to be second-order space-accurate,
and b) the evaluation of the (Wi - Wj) term does not incur the 
computation of any quantity that can generate a NaN (such as for 
example, the speed of
sound which involves a square root). 
</dd></dl>

<p class="noindent"><var>limiter-id</var> [<code>None</code>]:
     </p><dl>
<dt><code>None</code></dt><dd>No limiter is used. 
<br></dd><dt><code>VanAlbada</code></dt><dd>The one-dimensional limiter developed by van Albada is used. 
</dd></dl>

<p class="noindent"><var>gradient-id</var> [<code>LeastSquares</code>]:
     </p><dl>
<dt><code>LeastSquares</code></dt><dd>A least squares technique is used to compute the nodal gradients for second-order reconstruction. This option is the most
robust one. 
<br></dd><dt><code>Galerkin</code></dt><dd>A weighted Galerkin technique is used to compute the nodal gradients for second-order reconstruction. 
<br></dd><dt><code>NonNodal</code></dt><dd>A "geometrical upwind", 
non-nodal technique is used to compute the gradients for second-order 
reconstruction. This option is the least
dissipative and therefore the preferred one. However, it can slow down 
convergence. 
</dd></dl>

<p class="noindent"><var>dissipation-id</var> [<code>SecondOrder</code>]:
     </p><dl>
<dt><code>SecondOrder</code></dt><dd>This is a misnomer as in this case, the resulting scheme is the standard <var>beta-real</var> <var>gamma-real</var> scheme
which in the general case has a second-order dispersion error, a third-order dissipation error
and therefore is spatially second-order accurate.

     <br></dd><dt><code>SixthOrder</code></dt><dd>In this case, when <var>beta-real</var> is set to 0.333333333333 (1/3), the resulting scheme has a fifth-order spatial dissipation
error (with a sixth-order spatial derivative), a sixth-order spatial dispersion error, and therefore is spatially fifth-order
accurate. If furthermore <var>gamma-real</var> is set to 0, the spatial dissipation error is cancelled and therefore the scheme
becomes sixth-order space-accurate. Hence, when this option is used, <var>beta-real</var> should be set to 0.333333333333 (1/3). 
</dd></dl>

<p class="noindent"><var>beta-real</var> [<code>1/3</code>]:
     </p><dl>
<dt></dt><dd>Upwinding parameter used in the reconstruction. A value of zero corresponds
to a centered reconstruction, while a value of one corresponds to a full upwind one. 
For a fixed value of <var>gamma-real</var> (see below), this parameter controls the second-order spatial dispersion of the scheme and can
change its sign. When <var>beta-real</var> is set to 0.333333333333 
(1/3), the second-order spatial dispersion
error is eliminated, the leading spatial dispersion error becomes 
fourth-order, and therefore the scheme becomes third-order 
space-accurate
if <var>gamma-real</var> is set to a non-zero value and <var>dissipation-id</var> is set to <code>SecondOrder</code>. 
If <var>beta-real</var> is set to 0.333333333333 (1/3), <var>gamma-real</var> is set to zero
and <var>dissipation-id</var> is set to <code>SecondOrder</code>, then the scheme becomes fourth-order space-accurate. 
</dd></dl>

<p class="noindent"><var>gamma-real</var> [<code>1.0</code>]:
     </p><dl>
<dt></dt><dd>Parameter that controls the spatial numerical viscosity introduced by the chosen numerical
flux. A value of one recovers the original flux, while a value less than
one decreases the added numerical viscosity. For a fixed value of <var>beta-real</var> (see above),
this parameter controls the third-order spatial dissipation of the scheme. 
When <var>gamma-real</var> is set to 0, the third-order spatial dissipation error is eliminated
and the leading spatial dissipation error becomes fifth-order. In this case, if <var>dissipation-id</var> is set to <code>SecondOrder</code>,
the scheme becomes fourth-order space-accurate at best when <var>beta-real</var> is set to 1/3. 
</dd></dl>

<p class="noindent">Note:
     </p><ol start="1" type="1">
<li>for the level set equation(s), only the <code>SecondOrder</code> option of <var>dissipation-id</var> is currently supported.
     </li></ol>
<!--  -->
<!-- Level set discretization object -->
<!--  -->

<div class="node">
<a name="LevelSet"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Boundaries">Boundaries</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SpaceTurbulenceModel">SpaceTurbulenceModel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Space">Space</a>

</div>

<h4 class="subsection">4.13.3 LEVELSET</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>LevelSet</b>
</td></tr></tbody></table>

</p><p>The <code>LevelSet</code> object defines the finite volume discretization
of the level set equation(s). Its syntax is:

</p><pre class="example">     under <code>LevelSet</code> {
       Reconstruction = <var>reconstruction-id</var>;
       AdvectiveOperator = <var>advectiveoperator-id</var>;
       Limiter = <var>limiter-id</var>;
       Gradient = <var>gradient-id</var>;
       Dissipation = <var>dissipation-id</var>;
       Beta = <var>beta-real</var>;
       Gamma = <var>gamma-real</var>;
       Eps = <var>eps-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>reconstruction-id</var> [<code>Linear</code>]:
     </p><dl>
<dt><code>Linear</code></dt><dd>A linear variation of the solution is 
assumed within each control volume. This leads to at least a 
second-order space-accurate scheme. 
</dd></dl>

<p class="noindent"><var>advectiveoperator-id</var> [<code>FiniteVolume</code>]:
     </p><dl>
<dt><code>FiniteVolume</code></dt><dd>This option is relevant only if <var>reconstruction-id</var> is set to <code>Linear</code>. 
In this case, the flux function is computed using the reconstructed values of the primitive variables. 
<br></dd><dt><code>Galerkin</code></dt><dd>This option is relevant only if <var>reconstruction-id</var> is set to <code>Linear</code>.
 
Because they are obtained by extrapolation, the reconstructed values of 
the primitive variables may occasionally be non-physical. In such a 
case, they may lead
to the appearance of a NaN when used for computing the flux function. To
 avoid this pitfall and the expensive "if"-type of testing that can 
prevent it, this option
requests that the reconstructed values of the primitive variables be 
used only in the (Wi - Wj) term of the numerical flux function and that 
the constant values be used
in the centered flux component of this flux function as well as in its 
associated matrix. This is justified by the two following observations 
about the upwinded flux: a) its centered flux
term is by construction second-order space-accurate and therefore does 
not need to be evaluated at the reconstructed values of the primitive 
variables in order to be second-order space-accurate,
and b) the evaluation of the (Wi - Wj) term does not incur the 
computation of any quantity that can generate a NaN (such as for 
example, the speed of
sound which involves a square root). 
</dd></dl>

<p class="noindent"><var>limiter-id</var> [<code>None</code>]:
     </p><dl>
<dt><code>None</code></dt><dd>No limiter is used. 
<br></dd><dt><code>VanAlbada</code></dt><dd>The one-dimensional limiter developed by van Albada is used. 
<br></dd><dt><code>Barth</code></dt><dd>The multi-dimensional limiter developed by Barth is used. 
<br></dd><dt><code>Venkatakrishnan</code></dt><dd>The multi-dimensional limiter developed by Venkatakrishnan (smooth version
of Barth's limiter) is used. 
<br></dd><dt><code>PressureSensor</code></dt><dd>A sensor is used to switch to a constant reconstruction in regions where the
flow exhibits large pressure gradients. 
</dd></dl>

<p class="noindent"><var>gradient-id</var> [<code>LeastSquares</code>]:
     </p><dl>
<dt><code>LeastSquares</code></dt><dd>A least squares technique is used 
to compute the nodal gradients for second-order reconstruction. This 
option is the most robust one. 
<br></dd><dt><code>Galerkin</code></dt><dd>A weighted Galerkin technique is used to compute the nodal gradients for second-order reconstruction. 
<br></dd><dt><code>NonNodal</code></dt><dd>A "geometrical upwind", 
non-nodal technique is used to compute the gradients for second-order 
reconstruction. This option is the least
dissipative one. 
</dd></dl>

<p class="noindent"><var>dissipation-id</var> [<code>SecondOrder</code>]:
     </p><dl>
<dt><code>SecondOrder</code></dt><dd>This is a misnomer as in this case, the resulting scheme is the standard <var>beta-real</var> <var>gamma-real</var> scheme
which in the general case has a second-order dispersion error, a third-order dissipation error
and therefore is spatially second-order accurate.

     <br></dd><dt><code>SixthOrder</code></dt><dd>In this case, when <var>beta-real</var> is set to 0.333333333333 (1/3), the resulting scheme has a fifth-order spatial dissipation
error (with a sixth-order spatial derivative), a sixth-order spatial dispersion error, and therefore is spatially fifth-order
accurate. If furthermore <var>gamma-real</var> is set to 0, the spatial dissipation error is cancelled and therefore the scheme
becomes sixth-order space-accurate. Hence, when this option is used, <var>beta-real</var> should be set to 0.333333333333 (1/3). 
</dd></dl>

<p class="noindent"><var>beta-real</var> [<code>1/3</code>]:
     </p><dl>
<dt></dt><dd>Upwinding parameter used in the reconstruction. A value of zero corresponds
to a centered reconstruction, while a value of one corresponds to a full upwind one. 
For a fixed value of <var>gamma-real</var> (see below), this parameter controls the second-order spatial dispersion of the scheme and can
change its sign. When <var>beta-real</var> is set to 0.333333333333 
(1/3), the second-order spatial dispersion
error is eliminated, the leading spatial dispersion error becomes 
fourth-order, and therefore the scheme becomes third-order 
space-accurate
if <var>gamma-real</var> is set to a non-zero value and <var>dissipation-id</var> is set to <code>SecondOrder</code>. 
If <var>beta-real</var> is set to 0.333333333333 (1/3), <var>gamma-real</var> is set to zero
and <var>dissipation-id</var> is set to <code>SecondOrder</code>, then the scheme becomes fourth-order space-accurate. 
</dd></dl>

<p class="noindent"><var>gamma-real</var> [<code>1.0</code>]:
     </p><dl>
<dt></dt><dd>Parameter that controls the spatial numerical viscosity introduced by the chosen
numerical flux. A value of one recovers the original flux, while a value less than
one decreases the added numerical viscosity. For a fixed value of <var>beta-real</var> (see above),
this parameter controls the third-order spatial dissipation of the scheme. 
When <var>gamma-real</var> is set to 0, the third-order spatial dissipation error is eliminated
and the leading spatial dissipation error becomes fifth-order. In this case, if <var>dissipation-id</var> is set to <code>SecondOrder</code>,
the scheme becomes fourth-order space-accurate at best when <var>beta-real</var> is set to 1/3. 
</dd></dl>

<p class="noindent"><var>eps-real</var> [<code>0.1</code>]:
     </p><dl>
<dt></dt><dd>Parameter used in Venkatakrishnan's limiter and in the pressure sensor. The limiter
becomes more active if this value is reduced. 
</dd></dl>

<p class="noindent">Note:
     </p><ol start="1" type="1">
<li>for the level set equation(s), only the <code>SecondOrder</code> option of <var>dissipation-id</var> is currently supported.
     </li></ol>
<!--  -->
<!-- boundaries object -->
<!--  -->

<div class="node">
<a name="Boundaries"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Fixes">Fixes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#LevelSet">LevelSet</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Space">Space</a>

</div>

<h4 class="subsection">4.13.4 SPECIFYING THE NUMERICAL TREATMENT OF THE FAR-FIELD BOUNDARY CONDITIONS</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Boundaries</b>
</td></tr></tbody></table>

</p><p>The <code>Boundaries</code> object defines the options available for the numerical treatment of
the far-field boundary conditions. Its syntax is:

</p><pre class="example">     under <code>Boundaries</code> {
       Type = <var>type-id</var>
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>StegerWarming</code>];
     </p><dl>
<dt><code>StegerWarming</code></dt><dd>The fluxes at the far-field boundaries are computed using the StegerWarming scheme. This option
is only available when the fluid in the far-field is a perfect gas.

     <br></dd><dt><code>Ghidaglia</code></dt><dd>The fluxes at the far-field boundaries are computed using Ghidaglia's approach which does not assume that
the flux is a homogeneous function of degree one and therefore is applicable to all equations of state
supported by <b>AERO-F</b>.

     <br></dd><dt><code>ModifiedGhidaglia</code></dt><dd>The fluxes at the far-field boundaries are computed using a modified version of Ghidaglia's approach which, for a certain class
of problems (see below), delivers a better accuracy when the flow fluctuation at the far-field boundaries are not negligible. 
Therefore, this method allows positioning the far-field boundaries closer to the obstacle. The specific class
of problems for which this option is applicable are inviscid (Euler) flow problems characterized by a zero velocity field
in the far-field. Currently, this option is available only when the fluid is modeled as a perfect gas, a stiffened gas,
or a baotropic liquid (Tait's equation of state).

     <!-- @item ConstantExtrapolation -->
     <!-- A constant extrapolation procedure is applied for outgoing variables. This option is recommended -->
     <!-- when the low-Mach preconditioner (see @ref{Problem}) is employed (and the Mach number is below 0.01). -->
</dd></dl>
<!--  -->
<!-- fixes object -->
<!--  -->

<div class="node">
<a name="Fixes"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Boundaries">Boundaries</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Space">Space</a>

</div>

<h4 class="subsection">4.13.5 FINE TUNING THE SPATIAL DISCRETIZATION</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Fixes</b>
</td></tr></tbody></table>

</p><p>The <code>Fixes</code> object defines the few modifications that can be applied to the
spatial discretization of the governing equations in order to improve its robustness. 
Its syntax is:

</p><pre class="example">     under <code>Fixes</code> {
       under Sphere1 { ... }
       under Box1 { ... }
       under Cone1 { ... }
       Symmetry = <var>symmetry-id</var>;
     }
</pre>
<p>with

</p><p class="noindent"><code>Sphere1</code>:
     </p><dl>
<dt></dt><dd>Defines a sphere in which the value of <code><a href="#NavierStokes">NavierStokes</a>.Reconstruction</code> is automatically set or reverted to <code>Constant</code> —  that is, in which
first-order spatial discretization is automatically enforced. 
</dd></dl>

<p class="noindent"><code>Box1</code>:
     </p><dl>
<dt></dt><dd>Defines a box in which the value of <code><a href="#NavierStokes">NavierStokes</a>.Reconstruction</code> is automatically set or reverted to <code>Constant</code> — that is, in which
first-order spatial discretization is automatically enforced. 
</dd></dl>

<p class="noindent"><code>Cone1</code>:
     </p><dl>
<dt></dt><dd>Defines a conical frustrum in which the value of <code><a href="#NavierStokes">NavierStokes</a>.Reconstruction</code> is automatically set or reverted to <code>Constant</code> — that is, in which
first-order spatial discretization is automatically enforced. 
</dd></dl>

<p class="noindent"><var>symmetry-id</var> [<code>None</code>]:
     </p><dl>
<dt><code>None</code></dt><dd>No symmetry of the spheres, boxes and cones is performed. 
<br></dd><dt><code>X</code></dt><dd>An additional sphere, box or cone is
 generated by symmetry with respect to the plane orthogonal to the 
x-axis and containing the origin. 
<br></dd><dt><code>Y</code></dt><dd>An additional sphere, box or cone is
 generated by symmetry with respect to the plane orthogonal to the 
y-axis and containing the origin. 
<br></dd><dt><code>Z</code></dt><dd>An additional sphere, box or cone is
 generated by symmetry with respect to the plane orthogonal to the 
z-axis and containing the origin. 
</dd></dl>

<p class="noindent">Note:
     </p><ol start="1" type="1">
<li>currently the user can specify 10 spheres (<code>Sphere1</code> to <code>Sphere10</code>),
10 boxes (<code>Box1</code> to <code>Box10</code>), and 10 cones (<code>Cone1</code> to <code>Cone10</code>).
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#SphereFix">SphereFix</a>
</li><li><a accesskey="2" href="#BoxFix">BoxFix</a>
</li><li><a accesskey="3" href="#ConeFix">ConeFix</a>
</li></ul>
<!--  -->
<!-- SphereFix object -->
<!--  -->

<div class="node">
<a name="SphereFix"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BoxFix">BoxFix</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Fixes">Fixes</a>

</div>

<h5 class="subsubsection">4.13.5.1 DEFINING A GENERIC SPHERE</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Sphere</b>
</td></tr></tbody></table>

</p><p>The syntax of the <code>Sphere</code> (with an integer appended to the last letter
of this word) object is:

</p><pre class="example">     under <code>Sphere</code> {
       X0 = <var>x0-real</var>;
       Y0 = <var>y0-real</var>;
       Z0 = <var>z0-real</var>;
       Radius = <var>radius-real</var>;
       FailSafe = <var>failsafe-str</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>x0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>x-coordinate of the center of the sphere. 
</dd></dl>

<p class="noindent"><var>y0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>y-coordinate of the center of the sphere. 
</dd></dl>

<p class="noindent"><var>z0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>z-coordinate of the center of the sphere. 
</dd></dl>

<p class="noindent"><var>radius-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Radius of the sphere. 
</dd></dl>

<p class="noindent"><var>failsafe-str</var> [<code>AlwaysOn</code>]:
     </p><dl>
<dt><code>On </code><var>N</var></dt><dd>In this case,  the treatment implied by the <a href="#Fixes">Fixes</a> command expires after <var>N</var> time-steps, where <var>N</var> is a specified integer. 
<br></dd><dt><code>AlwaysOn</code></dt><dd>In this case,  the treatment implied by the <a href="#Fixes">Fixes</a> command is permanent. 
<br></dd><dt><code>Off</code></dt><dd>In this case, the treatment implied by the <a href="#Fixes">Fixes</a> is turned off.

</dd></dl>

<!--  -->
<!-- BoxFix object -->
<!--  -->
<div class="node">
<a name="BoxFix"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ConeFix">ConeFix</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SphereFix">SphereFix</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Fixes">Fixes</a>

</div>

<h5 class="subsubsection">4.13.5.2 DEFINING A GENERIC BOX</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Box</b>
</td></tr></tbody></table>

</p><p>The syntax of the <code>Box</code> (with an integer appended to the last letter of this word) object is:

</p><pre class="example">     under <code>Box</code> {
       X0 = <var>x0-real</var>;
       Y0 = <var>y0-real</var>;
       Z0 = <var>z0-real</var>;
       X1 = <var>x1-real</var>;
       Y1 = <var>y1-real</var>;
       Z1 = <var>z1-real</var>;
       FailSafe = <var>failsafe-str</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>x0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>x-coordinate of the lower left corner of the box. 
</dd></dl>

<p class="noindent"><var>y0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>y-coordinate of the lower left corner of the box. 
</dd></dl>

<p class="noindent"><var>z0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>z-coordinate of the lower left corner of the box. 
</dd></dl>

<p class="noindent"><var>x1-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>x-coordinate of the upper right corner of the box with <var>x1-real</var> &gt; <var>x0-real</var>. 
</dd></dl>

<p class="noindent"><var>y1-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>y-coordinate of the upper right corner of the box with <var>y1-real</var> &gt; <var>y0-real</var>. 
</dd></dl>

<p class="noindent"><var>z1-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>z-coordinate of the upper right corner of the box with <var>z1-real</var> &gt; <var>z0-real</var>. 
</dd></dl>

<p class="noindent"><var>failsafe-str</var> [<code>AlwaysOn</code>]:
     </p><dl>
<dt><code>On </code><var>N</var></dt><dd>In this case,  the treatment implied by the <a href="#Fixes">Fixes</a> command expires after <var>N</var> time-steps, where <var>N</var> is a specified integer. 
<br></dd><dt><code>AlwaysOn</code></dt><dd>In this case,  the treatment implied by the <a href="#Fixes">Fixes</a> command is permanent. 
<br></dd><dt><code>Off</code></dt><dd>In this case, the treatment implied by the <a href="#Fixes">Fixes</a> is turned off. 
</dd></dl>

<!--  -->
<!-- ConeFix object -->
<!--  -->
<div class="node">
<a name="ConeFix"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BoxFix">BoxFix</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Fixes">Fixes</a>

</div>

<h5 class="subsubsection">4.13.5.3 DEFINING A GENERIC CONICAL FRUSTRUM</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Cone</b>
</td></tr></tbody></table>

</p><p>The syntax of the <code>Cone</code> (with an integer appended to the last letter of this word) object is:

</p><pre class="example">     under <var>cone-obj</var> {
       X0 = <var>x0-real</var>;
       Y0 = <var>y0-real</var>;
       Z0 = <var>z0-real</var>;
       Radius0 = <var>radius0-real</var>;
       X1 = <var>x1-real</var>;
       Y1 = <var>y1-real</var>;
       Z1 = <var>z1-real</var>;
       Radius1 = <var>radius1-real</var>;
       FailSafe = <var>failsafe-str</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>x0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>x-coordinate of the center of the first circle delimiting the first end of the conical frustrum. 
</dd></dl>

<p class="noindent"><var>y0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>y-coordinate of the center of the first circle delimiting the first end of the conical frustrum. 
</dd></dl>

<p class="noindent"><var>z0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>z-coordinate of the center of the first circle delimiting the first end of the conical frustrum. 
</dd></dl>

<p class="noindent"><var>radius0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Radius of the first circle delimiting the first end of the conical frustrum. 
</dd></dl>

<p class="noindent"><var>x1-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>x-coordinate of the center of the second circle delimiting the second end of the conical frustrum. 
</dd></dl>

<p class="noindent"><var>y1-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>y-coordinate of the center of the second circle delimiting the second end of the conical frustrum. 
</dd></dl>

<p class="noindent"><var>z1-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>z-coordinate of the center of the second circle delimiting the second end of the conical frustrum. 
</dd></dl>

<p class="noindent"><var>radius1-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Radius of the second circle delimiting the second end of the conical frustrum. 
</dd></dl>

<p class="noindent"><var>failsafe-str</var> [<code>AlwaysOn</code>]:
     </p><dl>
<dt><code>On </code><var>N</var></dt><dd>In this case,  the treatment implied by the <a href="#Fixes">Fixes</a> command expires after <var>N</var> time-steps, where <var>N</var> is a specified integer. 
<br></dd><dt><code>AlwaysOn</code></dt><dd>In this case,  the treatment implied by the <a href="#Fixes">Fixes</a> command is permanent. 
<br></dd><dt><code>Off</code></dt><dd>In this case, the treatment implied by the <a href="#Fixes">Fixes</a> is turned off.

</dd></dl>

<!--  -->
<!-- ImplosionSetup object -->
<!--  -->
<div class="node">
<a name="ImplosionSetup"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Time">Time</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Space">Space</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.14 PRELOADING A STRUCTURE WITH AN INCREASING UNIFORM PRESSURE</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>ImplosionSetup</b>
</td></tr></tbody></table>

</p><p>This object is relevant only for an unsteady fluid-structure simulation using the tandem <b>AERO-F</b>/<b>AERO-S</b> (<code><a href="#Problem">Problem</a>.Type</code> = <code>UnsteadyAeroelastic</code>). 
It is particularly useful for implosion simulations. 
It requests preloading the structural subsystem of the problem with a uniform <i>external</i>
 pressure which is ramped up linearly from an initial value to a final 
value, before
the two-way coupling between the fluid and structural subsystems is 
triggered. The initial value of this pressure and ramp up rate are 
specified in this object. The final value of this
uniform pressure field is that specified in <code><a href="#Inlet">Inlet</a>.Pressure</code>.

</p><p>During the preloading described above, the fluid and structural 
subsystems are only one-way coupled: the fluid subsystem is maintained 
at a uniform but time-dependent pressure,
but the structural subsystem is loaded using this pressure field and its
 dynamic state is time-advanced. When the final value of the pressure 
field is reached,
the fluid and structural subsystems are two-way coupled and 
time-advanced.

</p><pre class="example">     under ImplosionSetup{
       InitialPressure = <var>initialpressure-real</var>;
       RampupRate = <var>rampuprate-real</var>;
     }
</pre>
<p class="noindent"><var>initialpressure-real</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>Initial value of the uniform, <i>external</i> pressure field. 
</dd></dl>

<p class="noindent"><var>rampupreal-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>Rate at which the uniform, <i>external</i> pressure field is ramped from its initial value specified in <var>initialpressure-real</var> to its final value specified in <code><a href="#Inlet">Inlet</a>.Pressure</code>. 
</dd></dl>
<!--  -->
<!-- Time object -->
<!--  -->

<div class="node">
<a name="Time"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Newton">Newton</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ImplosionSetup">ImplosionSetup</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.15 DEFINING THE TIME-INTEGRATION</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Time</b>
</td></tr></tbody></table>

</p><p>The <code>Time</code> object specifies how to time-integrate the governing semi-discrete equations. Its syntax is:

</p><pre class="example">     under Time {
       Form = <var>form-id</var>;
       Type = <var>type-id</var>;
       Prec = <var>prec-id</var>;
       MaxIts = <var>maxits-int</var>;
       Eps = <var>eps-real</var>;
       TimeStep = <var>timestep-real</var>;
       CheckSolution = <var>checksolution-flag</var>;
       CheckLinearSolver = <var>checklinearsolver-flag</var>;
       CheckVelocity = <var>checkvelocity-flag</var>;
       CheckPressure = <var>checkpressure-flag</var>;
       CheckDensity = <var>checkdensity-flag</var>;
       ThresholdDeltaPressure = <var>thresholddeltapressure-real</var>;
       CardinalDeltaPressure = <var>cardinaldeltapressure-int</var>;
       ThresholdDeltaDensity = <var>thresholddeltadensity-real</var>;
       CardinalDeltaDensity = <var>cardinaldeltadensity-int</var>;
       MaxTime = <var>maxtime-real</var>;
       TimeStepAdaptation = <var>timestepadaptation-id</var>;
       Cfl0 = <var>cfl0-real</var>;
       CflMin = <var>cflmin-real</var>;
       ErrorTolerance = <var>errortolerance-real</var>;
       DualTimeStepping = <var>dualtimestepping-str</var>;
       DualTimeCfl = <var>dualtimecfl-real</var>;
       ProgrammedBurnShockSensor = <var>programmedburnshocksensor-real</var>;
       under Implicit { ... }
       under Explicit { ... }
       under CflLaw   { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>form-id</var> [ ];

</p><p>Specifies the form of the governing semi-discrete fluid equations
 to be solved. The chosen form affects the definition of a residual and 
therefore the meaning of a convergence up to a tolerance
specified by <code>Eps</code>.
     </p><dl>
<dt><code>Descriptor</code></dt><dd>In this case, this form is the classical one which can be written as follows
 <center class="math-display"> <img src="Aerof3d_files/img192.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img2.png" class="math-display" align="top">   denotes the matrix of cell volumes,   <img src="Aerof3d_files/img193.png" class="math-display" align="top">   denotes the fluid state vector,   <img src="Aerof3d_files/img66.png" class="math-display" align="top">   denotes the postion of the fluid grid, and   <img src="Aerof3d_files/img194.png" class="math-display" align="top">   denotes here the algebraic sum of the viscous and convective fluxes. 
This is the default option for two cases: (1) <b>linearized snapshot</b> computations in the frequency or time domain — that is, when <code><a href="#Problem">Problem</a>.Type</code> = <code>PODConstruction</code>,
and (2) unsteady linearized flow computations — that is, when <code><a href="#Problem">Problem</a>.Type</code> = <code>UnsteadyLinearized</code> or <code><a href="#Problem">Problem</a>.Type</code> = <code>UnsteadyLinearizedAeroelastic</code>. It is also the <b>only</b> option
currently available for both of these cases. 
<br></dd><dt><code>NonDescriptor</code></dt><dd>In this case, this form is the following scaled form
 <center class="math-display"> <img src="Aerof3d_files/img195.png" class="math-display" align="top"> </center>
 

where all variables have the same meaning as in the previous case. This 
weighted form of the governing semi-discrete equations amplifies the 
contributions of the small cells to the residual. 
It may lead to some ill-conditioning, particularly for viscous meshes 
where the cells in the boundary layer are typically much smaller than 
those in the other regions. For viscous flows, it also
makes convergence up to a certain tolerance <code>Eps</code> harder, but more meaningful, than in the <code>Descriptor</code> case. This option is the default option for all flow computations except
for <b>linearized snapshot</b> computations in the frequency or time domain, and unsteady linearized flow computations — that is, when <code><a href="#Problem">Problem</a>.Type</code> = <code>PODConstruction</code>,
<code><a href="#Problem">Problem</a>.Type</code> = <code>UnsteadyLinearized</code>, or <code><a href="#Problem">Problem</a>.Type</code> = <code>UnsteadyLinearizedAeroelastic</code> — for which the default option is <code>Descriptor</code>. 
<br></dd><dt><code>Hybrid</code></dt><dd>In this case, this form is the following scaled form
 <center class="math-display"> <img src="Aerof3d_files/img196.png" class="math-display" align="top"> </center>
 

where all variables have the same meaning as in the previous case. This 
option is not supported however for linearized flow computations. 
</dd></dl>

<p class="noindent"><var>type-id</var> [<code>Implicit</code>];
     </p><dl>
<dt><code>Implicit</code></dt><dd>Specifies an implicit computational strategy. 
<br></dd><dt><code>Explicit</code></dt><dd>Specifies an explicit computational strategy. 
</dd></dl>

<p class="noindent"><var>prec-id</var> [<code>NonPreconditioned</code>]:
     </p><dl>
<dt><code>NonPreconditioned</code></dt><dd>For steady-state flow 
calculations, and for implicit unsteady flow computations performed 
using dual-time-stepping, the pseudo-inertia
(or pseudo-time-derivative) terms of the solution scheme are not 
preconditioned in this case by the low-Mach Turkel preconditioner. 
<br></dd><dt><code>LowMach</code></dt><dd>In this case, for steady-state flow computations performed using an explicit (see <a href="#Explicit">Explicit</a>) or the backward Euler implicit
pseudo-time-stepping scheme (see <a href="#Implicit">Implicit</a>), and 
for implicit unsteady flow computations, the pseudo-inertia (or
pseudo-time-derivative) terms of the solution scheme are equipped with 
the low-Mach Turkel preconditioner whose parameters are set
in <a href="#Preconditioner">Preconditioner</a>. In the latter sub-case, dual-time-stepping is automatically activated, whether <var>dualtimestepping-str</var>
is set to <code>On</code> or <code>Off</code>. Note that this option is not available however when <code><a href="#FluidModel">FluidModel</a>.Fluid</code> = <code>JWL</code>. 
Note also that it can be combined with the low-Mach preconditioning of the dissipation terms of the convective fluxes of the
solution scheme than can be specified in <a href="#Problem">Problem</a>. 
</dd></dl>

<p class="noindent"><var>maxits-int</var> [<code>100</code>]:
     </p><dl>
<dt></dt><dd>Maximum number of time-steps (or half the number of snapshots per modal impulse — see Running AERO-FL). This parameter
is ignored however for steady-state aeroelastic and aerothermal computations (<code><a href="#Problem">Problem</a>.Type</code> = <code>SteadyAeroelastic</code> or <code>SteadyAeroThermal</code>) as in these
cases, <b>AERO-F</b> always performs one step of fluid computations per coupled aeroelastic or aerothermal cycle,
and <b>AERO-S</b> controls the total number of coupled cycles to be performed. 
</dd></dl>

<p class="noindent"><var>eps-real</var> [<code>1.e-6</code>]:
     </p><dl>
<dt></dt><dd>Relative decrease of the spatial nonlinear residual for steady-state flow simulations. 
</dd></dl>

<p class="noindent"><var>timestep-real</var> [—]:
     </p><dl>
<dt></dt><dd>Time-step (only for unsteady flow simulations). Setting this variable to a positive value inhibits any subsequent adaptation of
this value, except due to the outcome of <code>CheckSolution</code>, <code>CheckLinearSolver</code>, <code>CheckVelocity</code>, <code>CheckPressure</code>,
<code>CheckDensity</code>, <code>ThresholdDeltaPressure</code>, <code>CardinalDeltaPressure</code>, <code>ThresholdDeltaDensity</code>, or
<code>CardinalDeltaDensity</code>. 
</dd></dl>

<p class="noindent"><var>checksolution-flag</var> [<code>On</code>]:

</p><p>This flag enables the control of the fixed time-step <var>timestep-real</var>, or the CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a>
according to the exhibited nonlinear stability behavior of the computed flow solution.
     </p><dl>
<dt><code>On</code></dt><dd>In this case, when a negative pressure 
and/or density is encountered during a Newton iteration or an implicit 
or explicit time-step,
the fixed time-step specified in <var>timestep-real</var>, or the CFL number generated by the CFL law specified
under <a href="#CflLaw">CflLaw</a> is reduced by a factor two and the 
entire computational step is repeated. Consecutive time-step or CFL 
number reductions can occur. However, <b>AERO-F</b> stops all
computations if <var>timestep-real</var> reaches a value equal to 1/1000 of its user-specified value, or the CFL number generated by <a href="#CflLaw">CflLaw</a> reaches a value equal to 1/1000 of the user-specified
value of <code><a href="#CflLaw">CflLaw</a>.Cfl0</code>. The recovery of the fixed time-step or CFL number is automatically performed as follows:
          <ul>
<li>If the simulation is performed using a CFL strategy (rather than a fixed time-step) and <code><a href="#CflLaw">CflLaw</a>.Strategy</code> is set to any option but <code>Fixed</code>, the recovery
of the CFL number is automatically performed according to the design of the specified CFL strategy. 
</li><li>If the simulation is performed using a fixed time-step or <code><a href="#CflLaw">CflLaw</a>.Strategy</code> = <code>Fixed</code>, then, after four consecutive and successful computational steps using
a reduced value of the time-step or CFL number, <b>AERO-F</b> attempts to increase <var>timestep-real</var> by a factor two until it restores its original user-specified value,
or the current CFL number by a factor of two until it restores the user-specified value of <code><a href="#CflLaw">CflLaw</a>.Cfl0</code>. 
</li></ul>
     For fluid-structure computations using the tandem <b>AERO-F</b>/<b>AERO-S</b>, the reduction of the time-step <var>timestep-real</var> or the current CFL number implies the subcycling of the flow computations. 
<br></dd><dt><code>Off</code></dt><dd>In this case, the explicit control of <var>timestep-real</var> or CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a> according to the exhibited nonlinear
stability behavior of the computed flow solution is disabled. 
</dd></dl>

<p class="noindent"><var>checklinearsolver-flag</var> [<code>On</code>]:

</p><p>For steady-state implicit flow computations using a <a href="#CflLaw">CflLaw</a> strategy, and unsteady implicit flow computations using either a
fixed time-step specified in <var>timestep-real</var> or a <a href="#CflLaw">CflLaw</a> strategy, this flag enables the control of the CFL number — and
therefore the pseudo-time-step — or current time-step, as applies, according to the performance of the linear equation solver
chosen in <a href="#LinearSolver">LinearSolver</a>. Its default setting is <code>On</code> for steady-state implicit computations, and <code>Off</code> for unsteady
simulations.
     </p><dl>
<dt><code>On</code></dt><dd>In this case, if the maximum number of iterations specified in <code><a href="#LinearSolver">LinearSolver</a>.MaxIts</code> is reached during a (pseudo-) time-step, the current CFL number set
by the chosen CFL strategy is reduced by a factor two. Consecutive CFL number reductions can occur. However, <b>AERO-F</b> stops all computations if the current CFL number
is reduced to less than 1/1000 of the value specified in <var>cfl0-real</var>. 
The recovery of the fixed time-step or CFL number is automatically performed as follows:
          <ul>
<li>If the simulation is performed using a CFL strategy (rather than a fixed time-step) and <code><a href="#CflLaw">CflLaw</a>.Strategy</code> is set to any option but <code>Fixed</code>, the recovery
of the CFL number is automatically performed according to the design of the specified CFL strategy. 
</li><li>If the simulation is performed using a fixed time-step or <code><a href="#CflLaw">CflLaw</a>.Strategy</code> = <code>Fixed</code>, then, after four consecutive and successful computational steps using
a reduced value of the time-step or CFL number, <b>AERO-F</b> attempts to increase <var>timestep-real</var> by a factor two until it restores its original user-specified value,
or the current CFL number by a factor of two until it restores the user-specified value of <code><a href="#CflLaw">CflLaw</a>.Cfl0</code>. 
</li></ul>
     For fluid-structure computations using the tandem <b>AERO-F</b>/<b>AERO-S</b>,
the reduction of the time-step <var>timestep-real</var> or the current CFL number implies the subcycling of the flow computations. 
<br></dd><dt><code>Off</code></dt><dd>In this case, the explicit control of the CFL number according to the performance of the linear solver chosen in <a href="#LinearSolver">LinearSolver</a> is disabled. 
</dd></dl>

<p class="noindent"><var>checkvelocity-flag</var> [<code>On</code>]:

</p><p>This flag enables the control of the fixed time-step <var>timestep-real</var>, or the CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a>
according to the exhibited nonlinear stability behavior of the computed flow velocity.
     </p><dl>
<dt><code>On</code></dt><dd>
In this case, when any component of the non-dimensionalized velocity at any grid point is larger than   <img src="Aerof3d_files/img197.png" class="math-display" align="top">  , the fixed time-step specified in <var>timestep-real</var>,
or the CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a> is reduced by a factor two and the last performed
computational step is repeated. Consecutive fixed time-step or CFL number reductions can
occur. However, <b>AERO-F</b> stops all computations if the current time-step reaches a value equal to 1/1000 of its
user-specified value, or the CFL number generated by <a href="#CflLaw">CflLaw</a> reaches a value equal to 1/1000 of the user-specified value
of <code><a href="#CflLaw">CflLaw</a>.Cfl0</code>. The recovery of the fixed time-step or CFL number is automatically performed as follows:
          <ul>
<li>If the simulation is performed using a CFL strategy (rather than a fixed time-step) and <code><a href="#CflLaw">CflLaw</a>.Strategy</code> is set to any option but <code>Fixed</code>, the recovery
of the CFL number is automatically performed according to the design of the specified CFL strategy. 
</li><li>If the simulation is performed using a fixed time-step or <code><a href="#CflLaw">CflLaw</a>.Strategy</code> = <code>Fixed</code>, then, after four consecutive and successful computational steps using
a reduced value of the time-step or CFL number, <b>AERO-F</b> attempts to increase <var>timestep-real</var> by a factor two until it restores its original user-specified value,
or the current CFL number by a factor of two until it restores the user-specified value of <code><a href="#CflLaw">CflLaw</a>.Cfl0</code>. 
</li></ul>
     For fluid-structure computations using the tandem <b>AERO-F</b>/<b>AERO-S</b>,
the reduction of the time-step <var>timestep-real</var> or the current CFL number implies the subcycling of the flow computations. 
<br></dd><dt><code>Off</code></dt><dd>In this case, the explicit control of <var>timestep-real</var> or CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a> according to the exhibited nonlinear
stability behavior of the computed flow velocity is disabled.

</dd></dl>

<p class="noindent"><var>checkpressure-flag</var> [<code>On</code>]:

</p><p>When a pressure cutoff is specified in <code><a href="#FluidModel">FluidModel</a>.PressureCutOff</code>, this flag enables the control of the fixed time-step <var>timestep-real</var> or
the CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a>, according to the exhibited nonlinear stability behavior of the computed flow pressure.

     </p><dl>
<dt><code>On</code></dt><dd>In this case, whenever a nodal pressure value becomes smaller than the value specified in <code><a href="#FluidModel">FluidModel</a>.PressureCutOff</code>, the fixed time-step specified
in <var>timestep-real</var>, or the CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a> is reduced by a factor two
and the last performed computational step is repeated. 
Consecutive fixed time-step or CFL number reductions can occur. However, <b>AERO-F</b> stops all computations if the current time-step reaches a value equal
to 1/1000 of its user-specified value, or the CFL number generated by <a href="#CflLaw">CflLaw</a> reaches a value equal to 1/1000 of the user-specified value of <code><a href="#CflLaw">CflLaw</a>.Cfl0</code>. 
The recovery of the fixed time-step or CFL number is automatically performed as follows:
          <ul>
<li>If the simulation is performed using a CFL strategy (rather than a fixed time-step) and <code><a href="#CflLaw">CflLaw</a>.Strategy</code> is set to any option but <code>Fixed</code>, the recovery
of the CFL number is automatically performed according to the design of the specified CFL strategy. 
</li><li>If the simulation is performed using a fixed time-step or <code><a href="#CflLaw">CflLaw</a>.Strategy</code> = <code>Fixed</code>, then, after four consecutive and successful computational steps using
a reduced value of the time-step or CFL number, <b>AERO-F</b> attempts to increase <var>timestep-real</var> by a factor two until it restores its original user-specified value,
or the current CFL number by a factor of two until it restores the user-specified value of <code><a href="#CflLaw">CflLaw</a>.Cfl0</code>. 
</li></ul>
     For fluid-structure computations using the tandem <b>AERO-F</b>/<b>AERO-S</b>,
the reduction of the time-step <var>timestep-real</var> or the current CFL number implies the subcycling of the flow computations. 
<br></dd><dt><code>Off</code></dt><dd>In this case, the explicit control of <var>timestep-real</var> or CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a> according to the exhibited nonlinear
stability behavior of the computed flow pressure is disabled. 
</dd></dl>

<p class="noindent"><var>checkdensity-flag</var> [<code>On</code>]:

</p><p>When a density cutoff is specified in <code><a href="#FluidModel">FluidModel</a>.DensityCutOff</code>, this flag enables the control of the fixed time-step <var>timestep-real</var> or
the CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a>, according to the exhibited nonlinear stability behavior of the computed flow density.

     </p><dl>
<dt><code>On</code></dt><dd>In this case, whenever a nodal density value becomes smaller than the value specified in <code><a href="#FluidModel">FluidModel</a>.DensityCutOff</code>, the fixed time-step specified
in <var>timestep-real</var>, or the CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a> is reduced by a factor two and
the last performed computational step is repeated. 
Consecutive fixed time-step or CFL number reductions can occur. However, <b>AERO-F</b> stops all computations if the current time-step reaches a value equal
to 1/1000 of its user-specified value, or the CFL number generated by <a href="#CflLaw">CflLaw</a> reaches a value equal to 1/1000 of the user-specified value of <code><a href="#CflLaw">CflLaw</a>.Cfl0</code>. 
The recovery of the fixed time-step or CFL number is automatically performed as follows:
          <ul>
<li>If the simulation is performed using a CFL strategy (rather than a fixed time-step) and <code><a href="#CflLaw">CflLaw</a>.Strategy</code> is set to any option but <code>Fixed</code>, the recovery
of the CFL number is automatically performed according to the design of the specified CFL strategy. 
</li><li>If the simulation is performed using a fixed time-step or <code><a href="#CflLaw">CflLaw</a>.Strategy</code> = <code>Fixed</code>, then, after four consecutive and successful computational steps using
a reduced value of the time-step or CFL number, <b>AERO-F</b> attempts to increase <var>timestep-real</var> by a factor two until it restores its original user-specified value,
or the current CFL number by a factor of two until it restores the user-specified value of <code><a href="#CflLaw">CflLaw</a>.Cfl0</code>. 
</li></ul>
     For fluid-structure computations using the tandem <b>AERO-F</b>/<b>AERO-S</b>,
the reduction of the time-step <var>timestep-real</var> or the current CFL number implies the subcycling of the flow computations. 
<br></dd><dt><code>Off</code></dt><dd>In this case, the explicit control of <var>timestep-real</var> or CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a> according to the exhibited nonlinear
stability behavior of the computed flow density is disabled. 
</dd></dl>

<p class="noindent"><var>thresholddeltapressure-real</var> [<code>0.2</code>]:
     </p><dl>
Maximum value of the <i>relative</i> variation of the pressure which, if reached or exceeded at any grid point during any time-step, causes <b>AERO-F</b> to
switch the spatial discretization to first-order at this grid point for the next time-step (only). 
</dl>

<p class="noindent"><var>cardinaldeltapressure-int</var> [<code>40</code>]:

</p><p>This flag enables the control of the fixed time-step <var>timestep-real</var> or the CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a>, according to
the number of grid points where <var>thresholddeltapressure-real</var> is reached or exceeded.

     </p><dl>
<dt><code>AnyPositiveIntegerNumber</code></dt><dd>This integer parameter is active only if its specified value is positive. In this case, if at a given computational step
the number of grid points where <var>thresholddeltapressure-real</var> is reached or exceeded is greater or equal to <var>cardinaldeltapressure-int</var>,
the fixed time-step specified in <var>timestep-real</var>, or the CFL number generated by
the CFL law specified under <a href="#CflLaw">CflLaw</a> is reduced by a factor two. Consecutive fixed time-step or CFL number reductions can occur. However, <b>AERO-F</b>
 stops all
computations if the current time-step reaches a value equal to 1/1000 of
 its user-specified value, or the CFL number generated by <a href="#CflLaw">CflLaw</a> reaches a
value equal to 1/1000 of the user-specified value of <code><a href="#CflLaw">CflLaw</a>.Cfl0</code>. 
The recovery of the fixed time-step or CFL number is automatically performed as follows:
          <ul>
<li>If the simulation is performed using a CFL strategy (rather than a fixed time-step) and <code><a href="#CflLaw">CflLaw</a>.Strategy</code> is set to any option but <code>Fixed</code>, the recovery
of the CFL number is automatically performed according to the design of the specified CFL strategy. 
</li><li>If the simulation is performed using a fixed time-step or <code><a href="#CflLaw">CflLaw</a>.Strategy</code> = <code>Fixed</code>, then, after four consecutive and successful computational steps using
a reduced value of the time-step or CFL number, <b>AERO-F</b> attempts to increase <var>timestep-real</var> by a factor two until it restores its original user-specified value,
or the current CFL number by a factor of two until it restores the user-specified value of <code><a href="#CflLaw">CflLaw</a>.Cfl0</code>. 
</li></ul>
     For fluid-structure computations using the tandem <b>AERO-F</b>/<b>AERO-S</b>,
the reduction of the time-step <var>timestep-real</var> or the current CFL number implies the subcycling of the flow computations. 
<br></dd><dt><code>0</code></dt><dd>In this case, the explicit control of <var>timestep-real</var> or CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a> according to the number of grid points
where <var>thresholddeltapressure-real</var> is reached or exceeded is disabled. 
</dd></dl>

<p class="noindent"><var>thresholddeltadensity-real</var> [<code>0.2</code>]:
     </p><dl>
Maximum value of the <i>relative</i> variation of the density which, if reached or exceeded at any grid point during any time-step, causes <b>AERO-F</b> to
switch the spatial discretization to first-order at this grid point for the next time-step (only). 
</dl>

<p class="noindent"><var>cardinaldeltadensity-int</var> [<code>40</code>]:

</p><p>This flag enables the control of the fixed time-step <var>timestep-real</var> or the CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a>, according to
the number of grid points where <var>thresholddeltadensity-real</var> is reached or exceeded.

     </p><dl>
<dt><code>AnyPositiveIntegerNumber</code></dt><dd>This integer parameter is active only if its specified value is positive. In this case, if at a given computational step
the number of grid points where <var>thresholddeltadensity-real</var> is reached or exceeded is greater or equal to <var>cardinaldeltadensity-int</var>,
the fixed time-step specified in <var>timestep-real</var>, or the CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a> is reduced by a factor two. 
Consecutive fixed time-step or CFL number reductions can occur. However, <b>AERO-F</b>
 stops all
computations if the current time-step reaches a value equal to 1/1000 of
 its user-specified value, or the CFL number generated by <a href="#CflLaw">CflLaw</a> reaches a
value equal to 1/1000 of the user-specified value of <code><a href="#CflLaw">CflLaw</a>.Cfl0</code>. 
The recovery of the fixed time-step or CFL number is automatically performed as follows:
          <ul>
<li>If the simulation is performed using a CFL strategy (rather than a fixed time-step) and <code><a href="#CflLaw">CflLaw</a>.Strategy</code> is set to any option but <code>Fixed</code>, the recovery
of the CFL number is automatically performed according to the design of the specified CFL strategy. 
</li><li>If the simulation is performed using a fixed time-step or <code><a href="#CflLaw">CflLaw</a>.Strategy</code> = <code>Fixed</code>, then, after four consecutive and successful computational steps using
a reduced value of the time-step or CFL number, <b>AERO-F</b> attempts to increase <var>timestep-real</var> by a factor two until it restores its original user-specified value,
or the current CFL number by a factor of two until it restores the user-specified value of <code><a href="#CflLaw">CflLaw</a>.Cfl0</code>. 
</li></ul>
     For fluid-structure computations using the tandem <b>AERO-F</b>/<b>AERO-S</b>,
the reduction of the time-step <var>timestep-real</var> or the current CFL number implies the subcycling of the flow computations. 
<br></dd><dt><code>0</code></dt><dd>In this case, the explicit control of <var>timestep-real</var> or CFL number generated by the CFL law specified under <a href="#CflLaw">CflLaw</a> according to the number of grid points
where <var>thresholddeltadensity-real</var> is reached or exceeded is disabled. 
</dd></dl>

<p class="noindent"><var>maxtime-real</var> [<code>1.e99</code>]:
     </p><dl>
<dt></dt><dd>Maximum physical time (only for unsteady flow simulations that do not invlove a
structural code). The simulation terminates when either the maximum number of
iterations or the maximum time is reached. 
</dd></dl>

<p class="noindent"><var>timestepadaptation-id</var> [<code>CFL</code>]:
     </p><dl>
Time-step adaptation strategy. This parameter is relevant only if <var>timestep-real</var> is not set to a positive number — that is, a constant time-step is not specified. 
<dt><code>CFL</code></dt><dd>In this case, the time-step is adapted according to the CFL strategy specified in the object <a href="#CflLaw">CflLaw</a>. 
<br></dd><dt><code>ErrorEstimation</code></dt><dd>In this case, the 
time-step is adapted according to an error estimation. This option is 
applicable only when time-integration is performed
using the three-point backward difference scheme — that is, <code><a href="#Implicit">Implicit</a>.Type</code> is set to <code>ThreePointBackwardDifference</code>. 
When this option is chosen, the size of the first time-step is computed using   <img src="Aerof3d_files/img198.png" class="math-display" align="top">   =   <img src="Aerof3d_files/img199.png" class="math-display" align="top">
   (see definition below). Subsequently, the size of a time-step is 
adapted using as error indicator the 2-norm of the
difference between the numerical solution predicted using the three 
point backward difference scheme and that using one step of the forward 
Euler scheme, as follows
 <center class="math-display"> <img src="Aerof3d_files/img200.png" class="math-display" align="top"> </center> 

 <center class="math-display"> <img src="Aerof3d_files/img201.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img40.png" class="math-display" align="top">   designates the   <img src="Aerof3d_files/img40.png" class="math-display" align="top">  -th computational time-step,   <img src="Aerof3d_files/img202.png" class="math-display" align="top">   is a maximum (estimated) relative error tolerated within a time-step and specified in  <code>ErrorTol</code>,   <img src="Aerof3d_files/img203.png" class="math-display" align="top">   is computed using   <img src="Aerof3d_files/img204.png" class="math-display" align="top">   and the forward Euler scheme,
  <img src="Aerof3d_files/img205.png" class="math-display" align="top">   is computed at the first time-step using   <img src="Aerof3d_files/img198.png" class="math-display" align="top">   =   <img src="Aerof3d_files/img206.png" class="math-display" align="top">   (see definition below), and the increase factor   <img src="Aerof3d_files/img207.png" class="math-display" align="top">   and decrease factor   <img src="Aerof3d_files/img208.png" class="math-display" align="top">   are given by
 <center class="math-display"> <img src="Aerof3d_files/img209.png" class="math-display" align="top"> </center> 

</dd></dl>

<p class="noindent"><var>cfl0-real</var> [<code>5.0</code>]:
     </p><dl>
<dt></dt><dd>Initial value of the CFL number associated with the <code>ErrorEstimation</code> time-step adaptation strategy (  <img src="Aerof3d_files/img199.png" class="math-display" align="top">  ) described above. 
</dd></dl>

<p class="noindent"><var>cflmin-real</var> [<code>1.0</code>]:
     </p><dl>
<dt></dt><dd>CFL parameter used to determine   <img src="Aerof3d_files/img205.png" class="math-display" align="top">   in the <code>ErrorEstimation</code> time-step adaptation strategy (  <img src="Aerof3d_files/img206.png" class="math-display" align="top">  ) described above. 
This parameter is relevant only when <code>TimeStepAdaptation</code> =  <code>ErrorEstimation</code>. 
</dd></dl>

<p class="noindent"><var>errortolerance-real</var> [<code>1e-10</code>]:
     </p><dl>
<dt></dt><dd>Tolerated (estimated) error during a time-step, when this 
time-step is adapted according to the error estimation strategy 
described above. 
This parameter is relevant only when <code>TimeStepAdaptation</code> =  <code>ErrorEstimation</code>. 
</dd></dl>

<p class="noindent"><var>dualtimestepping-str</var> [<code>Off</code>]:

</p><p>This option is relevant only for unsteady implicit analysis. Its default value is <code>Off</code>, except when  <var>prec-id</var> is set to <code>LowMach</code>.
     </p><dl>
<dt><code>On</code></dt><dd>Turns on dual-time-stepping for an implicit time-discretization of the flow equations which is implemented in <b>AERO-F</b> as follows. 
At each time-step, a maximum number of <code><a href="#Newton">Newton</a>.MaxIts</code> dual time-steps are carried out. The size of each of these dual-time-steps is governed by the parameter <var>dualtimecfl-real</var>.
 
The nonlinear system of equations arising at each dual time-step is 
solved by a single Newton iteration where the tangent operator is 
modified by the dual time-step to become
more diagonally dominant. In other words, dual-time-stepping is 
implemented in <b>AERO-F</b> in conjunction with <a href="#Newton">Newton</a>'s
 method. For some difficult problems, it can
slightly reduce the convergence rate of Newton's method but sufficiently
 accelerate the iterative solution of the system of linearized equations
 arising at Newton's iteration
to reduce the overall simulation time, particularly in the presence of a
 low-Mach preconditioner. 
<br></dd><dt><code>Off</code></dt><dd>Turns off dual-time-stepping. This option is automatically reversed by <b>AERO-F</b> to <code>On</code> internally, when performing implicit unsteady flow computations
with <var>prec-id</var> = <code>LowMach</code> (see the description of the parameter <var>prec-id</var>). 
</dd></dl>

<p class="noindent"><var>dualtimecfl-real</var> [100]:
     </p><dl>
<dt></dt><dd>Specifies a constant CFL value for computing the size of the dual-time-step when <var>dualtimestepping-str</var> is turned <code>On</code>. 
</dd></dl>

<p class="noindent"><var>programmedburnshocksensor-real</var> [0.99]:
     </p><dl>
<dt></dt><dd>This parameter, which is defined in the interval [0, 1], is relevant only for the one-dimensional <i>explicit</i> computation in spherical, cylindrical, or Cartesian coordinates of a spherically symmetric
unsteady two-phase flow problem (<code><a href="#Problem">Problem</a>.Type</code> = <code>1D</code>) associated with a <a href="#ProgrammedBurn">ProgrammedBurn</a> of a highly explosive material. It requests terminating the <b>AERO-F</b>
simulation when the shock wave generated by the programmed burn has 
traveled a percentage of the size of the one-dimensional computational 
domain equal to the value specified in <var>programmedburnshocksensor-real</var>. 
</dd></dl>

<p class="noindent"><code>Implicit</code>:
     </p><dl>
<dt></dt><dd>Specifies an implicit time-integration scheme and its parameters. 
</dd></dl>

<p class="noindent"><code>Explicit</code>:
     </p><dl>
<dt></dt><dd>Specifies an explicit time-integration scheme and its parameters. 
</dd></dl>

<p class="noindent"><code>CFLlaw</code>:
     </p><dl>
<dt></dt><dd>Specifies a CFL strategy for adapting the (pseudo-) time-step. For unsteady computations, specifying also <var>timestep-real</var> overrides this strategy. 
</dd></dl>

<p class="noindent">Note:
     </p><ol start="1" type="1">
<li>for one-dimensional two-phase flow computations (<code><a href="#Problem">Problem</a>.Type</code> = <code>1D</code>), only explicit time-integration is currently available.
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#Implicit">Implicit</a>
</li><li><a accesskey="2" href="#Explicit">Explicit</a>
</li><li><a accesskey="3" href="#CflLaw">CflLaw</a>
</li></ul>
<!--  -->
<!-- Implicit object -->
<!--  -->

<div class="node">
<a name="Implicit"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Explicit">Explicit</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Time">Time</a>

</div>

<h4 class="subsection">4.15.1 DEFINING THE IMPLICIT TIME-INTEGRATION</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Implicit</b>
</td></tr></tbody></table>

</p><p>The <code>Implicit</code> object defines how the system of nonlinear equations
is solved at every time-step. Its syntax is:

</p><pre class="example">     under Implicit {
       Type = <var>type-id</var>;
       MatrixVectorProduct = <var>mvp-id</var>;
       FiniteDifferenceOrder = <var>fdorder-id</var>;
       TurbulenceModelCoupling = <var>tmcoupling-id</var>;
       under Newton { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>BackwardEuler</code>]:
     </p><dl>
<dt><code>BackwardEuler</code></dt><dd>First-order time-integration based on the backward Euler scheme. This is the default
and only time-integrator available for steady-state computations. 
<i>It is not available for one-dimensional flow computations</i> (<code><a href="#Problem">Problem</a>.Type</code> = <code>1D</code>),
<i>or computations involving a</i> <a href="#ProgrammedBurn">ProgrammedBurn</a>. 
<br></dd><dt><code>ThreePointBackwardDifference</code></dt><dd>Second-order time-integration based on the three-point backward difference scheme. 
<i>It is not available for one-dimensional flow computations</i> (<code><a href="#Problem">Problem</a>.Type</code> = <code>1D</code>),
<i>or computations involving a</i> <a href="#ProgrammedBurn">ProgrammedBurn</a>. 
</dd></dl>

<p class="noindent"><var>mvp-id</var> [<code>Approximate</code>]:
     </p><dl>
<dt><code>Approximate</code></dt><dd>Relevant only for the case where second-order accuracy in space is specified. In this case, matrix-vector products are based on
an approximate Jacobian matrix obtained by linearizing the first-order approximation of the convective flux
and the second-order approximation of the diffusive one. 
<br></dd><dt><code>Exact</code></dt><dd>Matrix-vector products are based on the exact Jacobian matrix, except in the following situations:
          <ul>
<li>The equation of state of the fluid or a fluid subsystem is <code>Liquid</code> (Tait) or <code>JWL</code>
(see <code><a href="#FluidModel">FluidModel</a>.Fluid</code>). In this case, the matrix-vector products are performed using the approach
<code>FiniteDifference</code> with <var>fdorder-id</var> = <code>FirstOrder</code>. 
</li><li>Low Mach preconditioning is turned on for computing the dissipation terms of the convective fluxes
(see <code><a href="#Problem">Problem</a>.Prec</code>). In this case, the matrix-vector products are performed using the approach
<code>FiniteDifference</code> with <var>fdorder-id</var> = <code>FirstOrder</code>. 
</li><li>Any numerical flux but <code>Roe</code> is chosen for spatial discretization (see <code><a href="#NavierStokes">NavierStokes</a>.Flux</code>),
in which case this option reverts to the option <code>FiniteDifference</code> with <var>fdorder-id</var> = <code>FirstOrder</code>. 
</li><li>Any flux limiter but <code>VanAlbada</code> (see <code><a href="#NavierStokes">NavierStokes</a>.Limiter</code>) is introduced in the computation, in which
case this option reverts to the option <code>FiniteDifference</code> with <var>fdorder-id</var> = <code>FirstOrder</code>. 
</li><li><code><a href="#NavierStokes">NavierStokes</a>.Gradient</code> is set to <code>NonNodal</code> to achieve second-order spatial accuracy. In this case, this
option reverts to the option <code>FiniteDifference</code> with <var>fdorder-id</var> = <code>FirstOrder</code>. 
</li><li><code><a href="#NavierStokes">NavierStokes</a>.Dissipation</code> is set to <code>SixthOrder</code> to control numerical dissipation and achieve a
higher-order of spatial accuracy. In this case, this option reverts to the option <code>FiniteDifference</code> with
<var>fdorder-id</var> = <code>FirstOrder</code>. 
</li><li>Turbulence modeling is requested and <var>tmcoupling-id</var> is set to <code>Weak</code>. In this case, the matrix-vector
products are computed using the exact Jacobian matrix of the implicit scheme for the Navier-Stokes equations, and a
finite-difference formula for the turbulence model equations. 
</li><li>The simulation involves one or more fluid-fluid interfaces (in which case it is performed using the embedded
boundary framework — that is, <code><a href="#Problem">Problem</a>.Framework</code> = <code>Embedded</code>), in which case the matrix-vector products
are performed using the approach <code>FiniteDifference</code> with <var>fdorder-id</var> = <code>FirstOrder</code>. 
</li></ul>
     For the generalized level set equation(s), this option automatically reverts to the option <code>Approximate</code>. 
<br></dd><dt><code>FiniteDifference</code></dt><dd>Matrix-vector products are based on a finite-difference formula of the combined convective and viscous fluxes. This allows
to capture the effect of the exact Jacobian matrix without having to compute and to store it. 
</dd></dl>

<p class="noindent"><var>fdorder-id</var> [<code>FirstOrder</code>]:
     </p><dl>
This option is available only when <var>mvp-id</var> 
(MatrixVectorProduct) is set to FiniteDifference. 
It specifies the order of the finite difference approximation of the 
product of the Jacobian matrix of the implicit scheme with a vector,
independently from the order of the spatial discretization of the 
problem. 
<dt><code>FirstOrder</code></dt><dd>In this case, the finite differencing scheme is a first-order finite-difference formula that
requires only one residual evaluation per computation. 
<br></dd><dt><code>SecondOrder</code></dt><dd>In this case, the finite differencing scheme is a more accurate (at least in principle)
second-order finite-difference formula that requires however two residual evaluations per computation. 
</dd></dl>

<p class="noindent"><var>tmcoupling-id</var> [<code>Weak</code>]:
     </p><dl>
This object member is relevant only for simulations with turbulence modeling. The following description of the usage of
this parameter refers to a two-by-two block partitioning of the Jacobian of the coupled Navier-Stokes and turbulence model
equations, according to the flow and turbulence model unknowns. 
<dt><code>Weak</code></dt><dd>In this case, the Jacobian of the implicit problem is approximated by a blog diagonal matrix. Therefore,
the linearized flow and turbulence model equations are decoupled at each step of the Newton method. This also implies that
the parameters of the linear equation solver can be adjusted separately for the flow equations using
<code>LinearSolver.NavierStokes</code>, and the turbulence model equations using <code>LinearSolver.TurbulenceModel</code> (see <a href="#LinearSolver">LinearSolver</a>). 
<br></dd><dt><code>Strong</code></dt><dd>In this case, the Jacobian of the implicit problem accounts for the coupling of the flow and turbulence model equations. 
Consequently, the fully coupled linearized flow and turbulence model equations are solved at each step of the Newton method. 
In this case also, the parameters of the linear equation solver must be specified under <code>LinearSolver.NavierStokes</code> only,
and any input to the object <code>LinearSolver.TurbulenceModel</code> is ignored by <b>AERO-F</b> (see <a href="#LinearSolver">LinearSolver</a>). 
</dd></dl>

<p>Notes:
     </p><ol start="1" type="1">
<li>for LES, dynamic LES, VMS-LES, and dynamic VMS-LES computations, the source terms associated with turbulence modeling are
explicitized and therefore do not contribute to the Jacobian matrix of the implicit scheme;
</li><li>the contribution to the Jacobian matrix of the numerical treatment of the far-field boundary conditions using the
<code>Ghidaglia</code> or <code>ModifiedGhidaglia</code> method (see <a href="#Boundaries">Boundaries</a>) is always computed using the <code>FiniteDifference</code>
approach outlined above.
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#Newton">Newton</a>
</li></ul>
<!--  -->
<!-- Explicit object -->
<!--  -->

<div class="node">
<a name="Explicit"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#CflLaw">CflLaw</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Implicit">Implicit</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Time">Time</a>

</div>

<h4 class="subsection">4.15.2 DEFINING THE EXPLICIT TIME-INTEGRATION</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Explicit</b>
</td></tr></tbody></table>

</p><p>The <code>Explicit</code> object defines how the system of nonlinear equations
is advanced at every time-step using an explicit scheme.

</p><p>Currently, explicit time-integration is not supported for usage
with the AERO-FL module. Hence,
the <code>UnsteadyLinearized</code>, <code>UnsteadyLinearizedAeroelastic</code>, <code>PODConstruction</code>,
<code>PODInterpolation</code>, <code>ROM</code> and  <code>ROMAeroelastic</code> options in the <code>Problem</code> object cannot be
specified together with explicit time-integration.

</p><p>The syntax of <code>Explicit</code> is:

</p><pre class="example">     under Explicit {
       Type = <var>type-id</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>RungeKutta4</code>];
     </p><dl>
<dt><code>RungeKutta4</code></dt><dd>Fourth-order time-accurate, four-stage, Runge-Kutta scheme. 
<br></dd><dt><code>RungeKutta2</code></dt><dd>Second-order time-accurate, two-stage, Runge-Kutta scheme. 
<br></dd><dt><code>ForwardEuler</code></dt><dd>First-order time-accurate forward Euler scheme. 
</dd></dl>
<!-- ^M -->
<!-- CflLaw object -->
<!-- ^M -->
<div class="node">
<a name="CflLaw"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Explicit">Explicit</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Time">Time</a>

</div>

<h4 class="subsection">4.15.3 DEFINING THE CFL LAW</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>CflLaw</b>
</td></tr></tbody></table>
This object can be used to specify a CFL strategy for adapting the 
pseudo-time-step in steady computations or the time-step in unsteady 
ones. Its syntax is:

</p><pre class="example">     under CflLaw {
       Strategy           = <var>strategy-id</var>;
       Cfl0               = <var>cfl0-real</var>;
       Cfl1               = <var>cfl1-real</var>;
       Cfl2               = <var>cfl2-real</var>;
       CflMax             = <var>cflmax-real</var>;
       Ser                = <var>ser-real</var>;
       AngleGrowth        = <var>anglegrowth-real</var>;
       AngleZero          = <var>anglezero-real</var>;
       DFTHistory         = <var>DFThistory-int</var>;
       FrequencyCutoff    = <var>frequencycutoff-int</var>;
       DFTGrowth          = <var>dftgrowth-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>strategy-id</var> [ ]:

</p><p>This parameter sets the CFL strategy for adapting the pseudo-time-step or time-step, as applies. Six types, namely, <code>Standard</code>, <code>Residual</code>, <code>Direction</code>, <code>DFT</code>, <code>Hybrid</code>), and <code>Fixed</code> are available.

     </p><dl>
<dt><code>Standard</code></dt><dd>This CFL strategy combines the following two approaches:
          <ol start="1" type="1">
<li>The residual-based strategy illustrated in green color in <a href="#DualCFLLaw">Figure 1</a>

          <p></p><center class="math-display"> <img src="Aerof3d_files/img210.png" class="math-display" align="top"> </center> 


          <p>where   <img src="Aerof3d_files/img199.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img211.png" class="math-display" align="top">   are defined below,   <img src="Aerof3d_files/img212.png" class="math-display" align="top">   denotes the value of the spatial residual defined in <code><a href="#Time">Time</a>.Residual</code> at the   <img src="Aerof3d_files/img40.png" class="math-display" align="top">  -th (pseudo-) time-step   <img src="Aerof3d_files/img213.png" class="math-display" align="top">  ,
and   <img src="Aerof3d_files/img214.png" class="math-display" align="top">   denotes the reference residual defined in <code><a href="#Time">Time</a>.ReferenceResidual</code>.

          </p></li><li>The iteration-based strategy illustrated in blue color in <a href="#DualCFLLaw">Figure 1</a>

          <p></p><center class="math-display"> <img src="Aerof3d_files/img215.png" class="math-display" align="top"> </center> 


          <p>where   <img src="Aerof3d_files/img216.png" class="math-display" align="top">  , and   <img src="Aerof3d_files/img217.png" class="math-display" align="top">   are defined below and illustrated in <a href="#CFLLaw">Figure 1</a>.
          </p></li></ol>
More specifically, the CFL strategy <code>Standard</code> takes the maximum of the outputs of the two residual- and iteration-based strategies and bounds it by   <img src="Aerof3d_files/img216.png" class="math-display" align="top">   from below,
and   <img src="Aerof3d_files/img218.png" class="math-display" align="top">   form above to obtain

     <p></p><center class="math-display"> <img src="Aerof3d_files/img219.png" class="math-display" align="top"> </center> 


     <p>which can also be written as

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img220.png" class="math-display" align="top"> </center> 

Hence, the CFL strategy <code>Standard</code> is a residual-iteration-based CFL strategy; it is graphically depicted by the red dashed-line in <a href="#CFLLaw">Figure 1</a>.

     <p><b>Warning: This strategy does not support the adaptation of the CFL number according to the outcome of
</b><code><a href="#Time">Time</a>.CheckSolution</code><b>, </b><code><a href="#Time">Time</a>.CheckLinearSolver</code><b>, </b><code><a href="#Time">Time</a>.CheckVelocity</code><b>,
</b><code><a href="#Time">Time</a>.CheckPressure</code><b>, </b><code><a href="#Time">Time</a>.CheckDensity</code><b>, </b><code><a href="#Time">Time</a>.ThresholdDeltaPressure</code><b>,
</b><code><a href="#Time">Time</a>.CardinalDeltaPressure</code><b>, </b><code><a href="#Time">Time</a>.ThresholdDeltaDensity</code><b>, or </b><code><a href="#Time">Time</a>.CardinalDeltaDensity</code><b>.</b>

     </p><pre class="sp">     
     </pre>
     
<a name="CFLLaw"></a><p align="center">
<img src="Aerof3d_files/CFLLaw.jpg" height="425" width="660"><br><b>Figure 1: residual-iteration-based CFL strategy for adapting the (pseudo-) time-step (CFL strategy <code>Standard</code>) </b>
</p>

     <br></dd><dt><code>Residual</code></dt><dd>
This strategy varies at the   <img src="Aerof3d_files/img40.png" class="math-display" align="top">  -th iteration or time-step the CFL number according to the behavior of the residual, as follows:
 <center class="math-display"> <img src="Aerof3d_files/img221.png" class="math-display" align="top"> </center> 

<!-- Unlike the CFL strategy @code{Standard} which is also based on a residual criterion, this strategy properly supports the recovery of the CFL number after a reduction caused by the flag @code{@ref{Time}.CheckSolution} because it computes the current CFL number using its previous value $CFL_{res}^{k-1}$. -->
It supports all time-adaptations due to the outcome of <code><a href="#Time">Time</a>.CheckSolution</code>,
<code><a href="#Time">Time</a>.CheckLinearSolver</code>, <code><a href="#Time">Time</a>.CheckVelocity</code>, <code><a href="#Time">Time</a>.CheckPressure</code>,
<code><a href="#Time">Time</a>.CheckDensity</code>, <code><a href="#Time">Time</a>.ThresholdDeltaPressure</code>, <code><a href="#Time">Time</a>.CardinalDeltaPressure</code>,
<code><a href="#Time">Time</a>.ThresholdDeltaDensity</code>, or <code><a href="#Time">Time</a>.CardinalDeltaDensity</code>.

     <br></dd><dt><code>Direction</code></dt><dd>
This CFL strategy can be written as

     <p></p><center class="math-display"> <img src="Aerof3d_files/img222.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img223.png" class="math-display" align="top">   is a growth factor specified in <var>anglegrowth-real</var>,   <img src="Aerof3d_files/img224.png" class="math-display" align="top">   characterizes the angle between the two previous
consecutive solution increments and is computed by <b>AERO-F</b>, and   <img src="Aerof3d_files/img225.png" class="math-display" align="top">   characterizes an angle offset
specified in <var>anglezero-real</var>. It supports all time-adaptations due to the outcome of <code><a href="#Time">Time</a>.CheckSolution</code>,
<code><a href="#Time">Time</a>.CheckLinearSolver</code>, <code><a href="#Time">Time</a>.CheckVelocity</code>, <code><a href="#Time">Time</a>.CheckPressure</code>,
<code><a href="#Time">Time</a>.CheckDensity</code>, <code><a href="#Time">Time</a>.ThresholdDeltaPressure</code>, <code><a href="#Time">Time</a>.CardinalDeltaPressure</code>,
<code><a href="#Time">Time</a>.ThresholdDeltaDensity</code>, or <code><a href="#Time">Time</a>.CardinalDeltaDensity</code>.

     <br></dd><dt><code>DFT</code></dt><dd>
This CFL strategy can be written as

     <p></p><center class="math-display"> <img src="Aerof3d_files/img226.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img227.png" class="math-display" align="top">   is a growth factor specified in <var>dftgrowth-real</var>,   <img src="Aerof3d_files/img228.png" class="math-display" align="top">   is an offset set by <b>AERO-F</b>, and
  <img src="Aerof3d_files/img229.png" class="math-display" align="top">   is the high-frequency energy computed by <b>AERO-F</b> in the portion of the (pseudo-) time-history of the
residual defined by the parameter <var>dfthistory-int</var>. It supports all time-adaptations due to the outcome of
<code><a href="#Time">Time</a>.CheckSolution</code>, <code><a href="#Time">Time</a>.CheckLinearSolver</code>, <code><a href="#Time">Time</a>.CheckVelocity</code>,
<code><a href="#Time">Time</a>.CheckPressure</code>,
<code><a href="#Time">Time</a>.CheckDensity</code>, <code><a href="#Time">Time</a>.ThresholdDeltaPressure</code>, <code><a href="#Time">Time</a>.CardinalDeltaPressure</code>,
<code><a href="#Time">Time</a>.ThresholdDeltaDensity</code>, or <code><a href="#Time">Time</a>.CardinalDeltaDensity</code>.

     <br></dd><dt><code>Hybrid</code></dt><dd>This CFL strategy is the default CFL strategy for steady-state computations. 
It combines <code>CheckSolution</code>, <code>CheckLinearSolver</code>, and three of the CFL strategies outlined above in the following order
of priority: <code>CheckSolution</code>, <code>CheckLinearSolver</code>, <code>DFT</code>, <code>Direction</code>, and <code>Residual</code>. In general, it
is the most effective one. It supports all time-adaptations due to the outcome of <code><a href="#Time">Time</a>.CheckSolution</code>,
<code><a href="#Time">Time</a>.CheckLinearSolver</code>, <code><a href="#Time">Time</a>.CheckVelocity</code>, <code><a href="#Time">Time</a>.CheckPressure</code>,
<code><a href="#Time">Time</a>.CheckDensity</code>, <code><a href="#Time">Time</a>.ThresholdDeltaPressure</code>, <code><a href="#Time">Time</a>.CardinalDeltaPressure</code>,
<code><a href="#Time">Time</a>.ThresholdDeltaDensity</code>, or <code><a href="#Time">Time</a>.CardinalDeltaDensity</code>.

     <br></dd><dt><code>Fixed</code></dt><dd>This CFL strategy is the default CFL strategy for unsteady computations. It sets the CFL number to <var>cfl0-real</var>
(see below). It supports all time-adaptations due to the outcome of <code><a href="#Time">Time</a>.CheckSolution</code>,
<code><a href="#Time">Time</a>.CheckLinearSolver</code>, <code><a href="#Time">Time</a>.CheckVelocity</code>, <code><a href="#Time">Time</a>.CheckPressure</code>,
<code><a href="#Time">Time</a>.CheckDensity</code>, <code><a href="#Time">Time</a>.ThresholdDeltaPressure</code>, <code><a href="#Time">Time</a>.CardinalDeltaPressure</code>,
<code><a href="#Time">Time</a>.ThresholdDeltaDensity</code>, or <code><a href="#Time">Time</a>.CardinalDeltaDensity</code>. 
</dd></dl>

<p class="noindent"><var>cfl0-real</var> [<code>5.0</code>]:
     </p><dl>
<dt></dt><dd>Initialization of the CFL number associated with all CFL strategies (  <img src="Aerof3d_files/img199.png" class="math-display" align="top">  ). 
</dd></dl>

<p class="noindent"><var>cfl1-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Lower bound for the CFL number associated with the iteration-based CFL strategy (  <img src="Aerof3d_files/img216.png" class="math-display" align="top">  ). This lower bound is ignored however when either flag <code><a href="#Time">Time</a>.CheckSolution</code> or <var>checklinearsolver-flag</var> is turned on. 
</dd></dl>

<p class="noindent"><var>cfl2-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Slope of the variation with the iteration count of the CFL number associated with the iteration-based CFL strategy (  <img src="Aerof3d_files/img217.png" class="math-display" align="top">  ). 
</dd></dl>

<p class="noindent"><var>cflmax-real</var> [<code>10000.0</code>]:
     </p><dl>
<dt></dt><dd>Upper bound for the CFL number associated with all CFL strategies (  <img src="Aerof3d_files/img218.png" class="math-display" align="top">  ). 
</dd></dl>

<p class="noindent"><var>ser-real</var> [<code>0.7</code>]:
     </p><dl>
<dt></dt><dd>Real-valued exponent for a residual-based CFL strategy (  <img src="Aerof3d_files/img211.png" class="math-display" align="top">  ). 
</dd></dl>

<p class="noindent"><var>anglegrowth-real</var> [<code>2.0</code>]:
     </p><dl>
<dt></dt><dd>Growth factor   <img src="Aerof3d_files/img223.png" class="math-display" align="top">   for the CFL strategy <code>Direction</code>. 
</dd></dl>

<p class="noindent"><var>anglezero-real</var> [<code>0.2</code>]:
     </p><dl>
<dt></dt><dd>Characterization of an angle offset   <img src="Aerof3d_files/img225.png" class="math-display" align="top">   for the CFL strategy <code>Direction</code>. This coefficient should be chosen in the interval   <img src="Aerof3d_files/img230.png" class="math-display" align="top">  . 
</dd></dl>

<p class="noindent"><var>dfthistory-int</var> [<code>8</code>]:
     </p><dl>
<dt></dt><dd>Number of last few (pseudo-) time-steps in the time-history of the residual to be considered by <b>AERO-F</b> for computing the high-frequency energy fraction   <img src="Aerof3d_files/img229.png" class="math-display" align="top"> 

for the CFL strategy <code>DFT</code>. 
</dd></dl>

<p class="noindent"><var>frequencycutoff-int</var> [<code>3</code>]:
     </p><dl>
<dt></dt><dd>Number of high frequencies used by <b>AERO-F</b> to compute the high frequency energy fraction   <img src="Aerof3d_files/img231.png" class="math-display" align="top">   for the CFL strategy <code>DFT</code>. 
</dd></dl>

<p class="noindent"><var>dftgrowth-real</var> [<code>1.4</code>]:
     </p><dl>
<dt></dt><dd>Growth factor   <img src="Aerof3d_files/img227.png" class="math-display" align="top">   for the CFL strategy <code>DFT</code>.

</dd></dl>

<!--  -->
<!-- Newton object -->
<!--  -->
<div class="node">
<a name="Newton"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Forced">Forced</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Time">Time</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.16 SOLVING A SYSTEM OF NONLINEAR EQUATIONS</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Newton</b>
</td></tr></tbody></table>

</p><p>The use of a Newton method to solve a system of nonlinear equations occurs in
the <code>Implicit</code> (see <a href="#Implicit">Implicit</a>) and <code>MeshMotion</code> (see <a href="#MeshMotion">MeshMotion</a>) objects. 
The syntax of the <code>Newton</code> object is:

</p><pre class="example">     under Newton {
       MaxIts = <var>maxits-int</var>;
       FailSafe = <var>failsafe-str</var>;
       EpsRelRes = <var>epsrelres-real</var>; (or Eps = <var>eps-real</var>;)
       EpsAbsRes = <var>epsabsres-real</var>;
       EpsAbsInc = <var>epsabsinc-real</var>;
       under LineSearch { ... }
       under LinearSolver { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>maxits-int</var> [<code>1</code>]:
     </p><dl>
<dt></dt><dd>Maximum number of nonlinear iterations. For an implicit unsteady flow computation carried out using dual time-stepping (<code><a href="#Time">Time</a>.DualTimeStepping</code> = <code>On</code>),
 a single
modified Newton iteration is performed at each dual time-step and this 
parameter specifies instead the maximum number of dual time-steps per 
physical time-step. 
</dd></dl>

<p class="noindent"><var>failsafe-str</var> [<code>Off</code>]:
     </p><dl>
This member is relevant only if <code><a href="#NavierStokes">NavierStokes</a>.Reconstruction</code> is set to <code>Linear</code> — that is, for second-order
space discretization. 
<dt><code>On</code></dt><dd>In this case, when a negative pressure 
and/or density is encountered at the end of a Newton iteration, that 
Newton iteration is repeated with the nodal gradients set to zero
at the points where the pressure and/or density are negative. 
The calculation of the nodal gradients is re-activated however at these 
points at the first Newton iteration of the next (pseudo-) time-step.

     <br></dd><dt><code>AlwaysOn</code></dt><dd>When the <var>failsafe-str</var> is set to <code>AlwaysOn</code>
 and a negative pressure and/or density is encountered during a Newton 
iteration,
the Newton iteration is repeated with the nodal gradients set to zero
at the points where the pressure and/or density are negative. 
In this case, this treatment is maintained at these points in all 
subsequent Newton iterations and all subsequent (pseudo-) time-steps.

     <br></dd><dt><code>Off</code></dt><dd>In this case, when a negative pressure and/or density is encountered during a Newton iteration, AERO-F
is stopped and an error message is output on the screen. 
</dd></dl>

<p class="noindent"><var>epsrelres-real</var> (or <var>eps-real</var>) [<code>0.01</code>]:
     </p><dl>
<dt></dt><dd>
Tolerance for monitoring at each   <img src="Aerof3d_files/img40.png" class="math-display" align="top">  -th Newton iteration the convergence of the Eucledian norm of
the relative value of the nonlinear residual   <img src="Aerof3d_files/img212.png" class="math-display" align="top">  . Convergence of the Newton process is declared whenever either
of the following criteria is satisfied

     <p> <img src="Aerof3d_files/img232.png" class="math-display" align="top">   <var>epsrelres-real</var>   <img src="Aerof3d_files/img233.png" class="math-display" align="top"> 


     </p><p>or

     </p><p> <img src="Aerof3d_files/img234.png" class="math-display" align="top">   <var>epsabsres-real</var>   <img src="Aerof3d_files/img235.png" class="math-display" align="top">   <var>epsabsinc-real</var>

     </p><p>where   <img src="Aerof3d_files/img236.png" class="math-display" align="top">   is the initial value of the nonlinear residual,   <img src="Aerof3d_files/img237.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img212.png" class="math-display" align="top">   are the iterate solution at the   <img src="Aerof3d_files/img40.png" class="math-display" align="top">  -th Newton iteration
and its corresponding residual, respectively, and <var>epsabsres-real</var>
and <var>epsabsinc-real</var> are defined below. 
</p></dd></dl>

<p class="noindent"><var>epsabsres-real</var> [<code>MachinePrecision</code>]:
     </p><dl>
<dt></dt><dd>Tolerance for monitoring at each   <img src="Aerof3d_files/img40.png" class="math-display" align="top">  -th Newton iteration the convergence of the Eucledian norm of
the (absolute) value of the nonlinear residual   <img src="Aerof3d_files/img212.png" class="math-display" align="top">  .  Convergence of the Newton process is declared whenever
either of the following criteria is satisfied

     <p> <img src="Aerof3d_files/img232.png" class="math-display" align="top">   <var>epsrelres-real</var>   <img src="Aerof3d_files/img233.png" class="math-display" align="top"> 


     </p><p>or

     </p><p> <img src="Aerof3d_files/img234.png" class="math-display" align="top">   <var>epsabsres-real</var>   <img src="Aerof3d_files/img235.png" class="math-display" align="top">   <var>epsabsinc-real</var>

     </p><p>where   <img src="Aerof3d_files/img236.png" class="math-display" align="top">   is the initial nonlinear residual,   <img src="Aerof3d_files/img237.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img212.png" class="math-display" align="top">   are the iterate solution at the   <img src="Aerof3d_files/img40.png" class="math-display" align="top">  -th Newton iteration
and its corresponding residual, respectively, <var>epsrelres-real</var> is defined above,
and <var>epsabsinc-real</var> is defined below. 
The default value for <var>epsabsres-real</var> is the machine precision for double precision arithmetics
(the difference between 1 and the smallest representable value that is greater than 1) which is typically
of the order of 1e-16. Hence, it is sufficiently small so that by default, the convergence criterion of the Newton process
is in principle based on the Eucledian norm of the relative value of the nonlinear residual   <img src="Aerof3d_files/img212.png" class="math-display" align="top">  . 
</p></dd></dl>

<p class="noindent"><var>epsabsinc-real</var> [<code>MachinePrecision</code>]:
     </p><dl>
<dt></dt><dd>Tolerance for monitoring at each   <img src="Aerof3d_files/img40.png" class="math-display" align="top">  -th Newton iteration the Eucledian norm of the incremental solution
of the nonlinear problem being solved.  Convergence of the Newton process is declared whenever
either of the following criteria is satisfied

     <p> <img src="Aerof3d_files/img232.png" class="math-display" align="top">   <var>epsrelres-real</var>   <img src="Aerof3d_files/img233.png" class="math-display" align="top"> 


     </p><p>or

     </p><p> <img src="Aerof3d_files/img234.png" class="math-display" align="top">   <var>epsabsres-real</var>   <img src="Aerof3d_files/img235.png" class="math-display" align="top">   <var>epsabsinc-real</var>

     </p><p>where   <img src="Aerof3d_files/img236.png" class="math-display" align="top">   is the initial nonlinear residual,
and   <img src="Aerof3d_files/img237.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img212.png" class="math-display" align="top">   are the iterate solution at the   <img src="Aerof3d_files/img40.png" class="math-display" align="top">  -th Newton iteration and its corresponding
residual, respectively, and <var>epsrelres-real</var> and <var>epsabsres-real</var> are defined above. 
The default value of <var>epsabsinc-real</var> is the machine precision for double precision arithmetics
(the difference between 1 and the smallest representable value that is greater than 1) which is typically
of the order of 1e-16. Hence, it is sufficiently small so that by default, the convergence criterion of the Newton process
is in principle based on the Eucledian norm of the relative value of the nonlinear residual   <img src="Aerof3d_files/img212.png" class="math-display" align="top">  . 
</p></dd></dl>

<p class="noindent"><code>LineSearch</code>:
     </p><dl>
<dt></dt><dd>Requests equipping Newton's method with a line search strategy whose parameters are specified in <a href="#LineSearch">LineSearch</a>. 
</dd></dl>

<p class="noindent"><code>LinearSolver</code>:
     </p><dl>
<dt></dt><dd>Specifies the linear equation solver (and its parameters) to be used at each Newton iteration. 
</dd></dl>

<p>Note:
     </p><ol start="1" type="1">
<li>when <var>failsafe-str</var> is set to <code>On</code> or <code>AlwaysOn</code> and a negative pressure and/or density is encountered
during a Newton iteration, no information is recorded in the restart file about the whereabout of that negative pressure
and/or density. As a result, the first residual obtained after a restart operation may differ from the last residual
computed in the previous run;
</li><li>if <code><a href="#Time">Time</a>.CheckSolution</code> is set to <code>On</code> and <var>failsafe-flag</var> is set to <code>On</code> or <code>AlwaysOn</code>,
then <code><a href="#Time">Time</a>.CheckSolution</code> takes precedence.
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#LineSearch">LineSearch</a>
</li><li><a accesskey="2" href="#LinearSolver">LinearSolver</a>
</li></ul>
<!--  -->
<!-- LineSearch object -->
<!--  -->
<div class="node">
<a name="LineSearch"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#LinearSolver">LinearSolver</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Newton">Newton</a>

</div>

<h4 class="subsection">4.16.1 SPECIFIES A LINE SEARCH STRATEGY</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>LineSearch</b>
</td></tr></tbody></table>

</p><p>The object <code>LineSearch</code> can be used to combine <a href="#Newton">Newton</a>'s method with a line search strategy and defining
the parameters of this strategy.

</p><p>Given a nonlinear problem of the form

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img238.png" class="math-display" align="top"> </center> 


<p>where   <img src="Aerof3d_files/img239.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img193.png" class="math-display" align="top">   denote here the <i>nonlinear</i> residual and solution of interest, respectively, Newton's method
solves this problem by computing the iterates

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img240.png" class="math-display" align="top"> </center> 


<p>where the increment   <img src="Aerof3d_files/img241.png" class="math-display" align="top">   is the solution of the linearized problem

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img242.png" class="math-display" align="top"> </center> 


<p>and   <img src="Aerof3d_files/img243.png" class="math-display" align="top">   denotes the Jacobian of   <img src="Aerof3d_files/img239.png" class="math-display" align="top">   with respect to   <img src="Aerof3d_files/img193.png" class="math-display" align="top">  . For highly nonlinear problems, combining Newton's method
with a line search strategy can prove to be a more appropriate solution method as this combination searches for the solution
of the above nonlinear problem in the form of less agressive iterates as follows

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img244.png" class="math-display" align="top"> </center> 


<p>where   <img src="Aerof3d_files/img245.png" class="math-display" align="top">   is a step-length. In <b>AERO-F</b>, this step-length is computed
using a procedure known as "backtracking".  For a given pair of   <img src="Aerof3d_files/img246.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img241.png" class="math-display" align="top">  , the idea is to compute   <img src="Aerof3d_files/img224.png" class="math-display" align="top">   as
to minimize the "merit" function

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img247.png" class="math-display" align="top"> </center> 


<p>The backtracking procedure computes an approximate solution of the above minimization problem by searching iteratively
for the value of   <img src="Aerof3d_files/img224.png" class="math-display" align="top">   that satisfies the following "sufficient decrease condition"

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img248.png" class="math-display" align="top"> </center> 


<p>where   <img src="Aerof3d_files/img249.png" class="math-display" align="top">   is the gradient of   <img src="Aerof3d_files/img250.png" class="math-display" align="top">   with respect to   <img src="Aerof3d_files/img193.png" class="math-display" align="top">   and satisfies

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img251.png" class="math-display" align="top"> </center> 


<p>and   <img src="Aerof3d_files/img20.png" class="math-display" align="top">   is a user-specified "sufficient decrease factor" chosen as   <img src="Aerof3d_files/img252.png" class="math-display" align="top">  .

</p><p>The above sufficient decrease condition can also be written as

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img253.png" class="math-display" align="top"> </center> 


<p>In practice, the value of   <img src="Aerof3d_files/img224.png" class="math-display" align="top">   that satisfies this condition is computed iteratively as follows. 
The first trial value of   <img src="Aerof3d_files/img224.png" class="math-display" align="top">   is set to   <img src="Aerof3d_files/img254.png" class="math-display" align="top">  . Then, while the above sufficient decrease condition is not satisfied,
the current value of   <img src="Aerof3d_files/img224.png" class="math-display" align="top">   is reduced by a user-specified "contraction factor"   <img src="Aerof3d_files/img255.png" class="math-display" align="top">   — that is
  <img src="Aerof3d_files/img256.png" class="math-display" align="top">   — until the sufficient decrease condition is satisfied.

</p><pre class="sp">
</pre>

The syntax of the object <code>LineSearch</code> is:

<pre class="example">     under LineSearch{
       MaxIts                   = <var>maxits-int</var>;
       SufficientDecreaseFactor = <var>sufficientdecreasefactor-real</var>;
       ContractionFactor        = <var>contractionfactor-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>maxits-int</var> [<code>0</code>]:
     </p><dl>
<dt></dt><dd>Specifies the maximum number of line search iterations — that is, the maximum number of iterations for finding the
optimal step-length for which the sufficient decrease condition is satisfied. Note that the default value of this parameter
is such that the line-search strategy is turned "off". 
</dd></dl>

<p class="noindent"><var>sufficientdecreasefactor-real</var> [<code>0.25</code>]:
     </p><dl>
<dt></dt><dd>Specifies the value of the sufficient decrease factor   <img src="Aerof3d_files/img20.png" class="math-display" align="top">  . The chosen value must satisfy
  <img src="Aerof3d_files/img257.png" class="math-display" align="top">  . 
</dd></dl>

<p class="noindent"><var>contractionfactor-real</var> [<code>0.5</code>]:
     </p><dl>
<dt></dt><dd>Specifies the value of the contraction factor   <img src="Aerof3d_files/img87.png" class="math-display" align="top">  . The chosen value must satisfy   <img src="Aerof3d_files/img255.png" class="math-display" align="top">  . 
</dd></dl>

<!--  -->
<!-- LinearSolver object -->
<!--  -->
<div class="node">
<a name="LinearSolver"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#LineSearch">LineSearch</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Newton">Newton</a>

</div>

<h4 class="subsection">4.16.2 SOLVING A SYSTEM OF LINEAR EQUATIONS</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>LinearSolver</b>
</td></tr></tbody></table>

</p><p>The object <code>LinearSolver</code> specifies how a linearized system of equations is solved at each Newton iteration,
or during a sensitivity analysis (see <a href="#SensitivityAnalysis">SensitivityAnalysis</a> and <a href="#Sensitivities">Sensitivities</a>). 
It has two possible syntaxes. The first one is applicable when <code>LinearSolver</code> is used in the object <a href="#Newton">Newton</a>
where it can be embedded more than once for different purposes:

</p><pre class="example">     under LinearSolver {
       under NavierStokes (or TurbulenceModel or LevelSet){
       Type = <var>type-id</var>;
       Output = <var>output-str</var>;
       MaxIts = <var>maxits-int</var>;
       KrylovVectors = <var>krylov-int</var>;
       Eps = <var>eps-real</var>;
       under Preconditioner { ... }
       }
     }
</pre>
<p>The second possible syntax is identical to the above one except for the absence of the statement
</p><pre class="example">       under NavierStokes (or TurbulenceModel or LevelSet){
</pre>
<p>and the corresponding closing brace
</p><pre class="example">     }
</pre>
<p>It is applicable when <code>LinearSolver</code> is used in <a href="#MeshMotion">MeshMotion</a> or <a href="#SensitivityAnalysis">SensitivityAnalysis</a>, where
it can be embedded only once.

</p><p>In all cases, the members of this object are:

</p><p class="noindent"><var>type-id</var> [<code>Gmres</code>]:
     </p><dl>
<dt><code>Gmres</code></dt><dd>Generalized minimum residual algorithm. 
<br></dd><dt><code>Richardson</code></dt><dd>Richardson's algorithm. 
<br></dd><dt><code>Cg</code></dt><dd>Conjugate gradient algorithm. This 
linear equation solver is applicable only to the system of equations 
associated with mesh motion
(see <a href="#MeshMotion">MeshMotion</a>). 
<br></dd><dt><code>Gcr</code></dt><dd>Generalized conjugate residual algorithm. 
</dd></dl>

<p class="noindent"><var>output-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the ASCII file that contains the sequence of linear residuals. If <var>output-str</var>
is set to <code>"stdout"</code> (<code>"stderr"</code>) the linear residuals are printed on the standard
I/O stream stdout (stderr). 
</dd></dl>

<p class="noindent"><var>maxits-int</var> [<code>30</code>]:
     </p><dl>
<dt></dt><dd>Maximum number of linear iterations. 
</dd></dl>

<p class="noindent"><var>krylov-int</var> [<code>30</code>]:
     </p><dl>
<dt></dt><dd>Number of search directions (only for the GMRES algorithm). 
</dd></dl>

<p class="noindent"><var>eps-real</var> [<code>0.01</code>]:
     </p><dl>
<dt></dt><dd>Relative decrease of the linear residual. This parameter is ignored however when <code><a href="#Problem">Problem</a></code>.Type = <code>SteadyAeroelasticSensitivityAnalysis</code> as in this case, convergence is monitored
using the counterpart parameter specified in the input file of <b>AERO-S</b>. 
</dd></dl>
<code>Preconditioner</code>:
     <dl>
<dt></dt><dd>Specifies the preconditioner to be used with the linear equation solver. 
</dd></dl>

<p class="noindent">Notes:
     </p><ol start="1" type="1">
<li>when <code>Implicit.TurbulenceModelCoupling</code> is set to <code>Weak</code> — that is, the contributions of the linearizations of the
mean flow and turbulence model equations to the Jacobian of the implicit problem are decoupled (see <a href="#Implicit">Implicit</a>) — or
the “ghost fluid method of the poor” for which the level set and flow equations are also decoupled
is specified (see <a href="#MultiPhase">MultiPhase</a>) for the solution of a multi-phase problem,
the parameters of the linear equation solver should be specified separately for each independent system of equations. 
In such cases, the definition of the <code>LinearSolver</code> object within the <code>Newton</code> object (see <a href="#Newton">Newton</a>) becomes

     <pre class="example">          under LinearSolver {
            under NavierStokes { ... }
            under TurbulenceModel { ... }
            under LevelSet { ... }
          }
</pre>
     <p>with

     </p><p class="noindent"><code>NavierStokes</code>:
          </p><dl>
<dt></dt><dd>Specifies the linear solver for the Euler or averaged 
Navier-Stokes equations by specifying all parameters described at the 
beginning of this section under this object. 
</dd></dl>

     <p class="noindent"><code>TurbulenceModel</code>:
          </p><dl>
<dt></dt><dd>Specifies the linear solver for the turbulence model 
equation(s) by specifying all parameters described at the beginning of 
this section
under this object. 
</dd></dl>

     <p class="noindent"><code>LevelSet</code>:
          </p><dl>
<dt></dt><dd>Specifies the linear solver for the level set equation(s) 
by specifying all parameters described at the beginning of this section
under this object. 
</dd></dl>
     </li><li>when <code>Implicit.TurbulenceModelCoupling</code> is set to <code>Strong</code> — that is, the contributions of the linearizations of the
mean flow and turbulence model equations to the Jacobian of the implicit problem are coupled (see <a href="#Implicit">Implicit</a>) —
the parameters of the linear equation solver should be specified for the <code>NavierStokes</code>
 object only because a single
set of coupled equations is solved in terms of both the flow and 
turbulence model variables. In this case, the definition of the object <code>LinearSolver</code>
within the object <code>Newton</code> (see <a href="#Newton">Newton</a>) becomes
     <pre class="example">          under LinearSolver {
            under NavierStokes { ... }
          }
</pre>
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#SolverPreconditioner">SolverPreconditioner</a>
</li></ul>
<!--  -->
<!-- SolverPreconditioner object -->
<!--  -->

<div class="node">
<a name="SolverPreconditioner"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#LinearSolver">LinearSolver</a>

</div>

<h5 class="subsubsection">4.16.2.1 ACCELERATING A LINEAR SOLVER</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Preconditioner</b>
</td></tr></tbody></table>

</p><p>To increase the efficiency of the linear solver, it can be preconditioned. The
preconditioners currently available are described within the <code>Preconditioner</code>
object. Its syntax is:

</p><pre class="example">     under Preconditioner {
       Type = <var>type-id</var>;
       Fill = <var>fill-int</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>Ras</code>]:
     </p><dl>
<dt><code>Identity</code></dt><dd>No preconditioner. 
<br></dd><dt><code>Jacobi</code></dt><dd>Jacobi preconditioner. 
<br></dd><dt><code>Ras</code></dt><dd>Restricted additive Schwarz algorithm. 
</dd></dl>

<p class="noindent"><var>fill-int</var> [<code>0</code>]:
     </p><dl>
<dt></dt><dd>Level of fill for the incomplete LU factorization used in the restricted
additive Schwarz algorithm. 
</dd></dl>
<!--  -->
<!-- Forced object -->
<!--  -->
<div class="node">
<a name="Forced"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Accelerated">Accelerated</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Newton">Newton</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.17 IMPOSING FORCED OSCILLATIONS</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Forced</b>
</td></tr></tbody></table>

</p><p>The <code>Forced</code> object enables the simulation of a flow past an obstacle set in prescribed motion, if the problem type (<var>type-id</var>) is set to <code>Forced</code>
(see <a href="#Problem">Problem</a>). This motion can be associated with
 a prescribed heaving or pitching if the obstacle is rigid, or a 
prescribed deformation if the obstacle is flexible. 
Furthermore, the CFD mesh can be a dynamic ALE mesh which conforms to 
the boundaries of the obstacle, or the obstacle can be embedded in a 
fixed CFD mesh.

</p><p>The syntax of the <code>Forced</code> object is:

</p><pre class="example">     under Forced {
       Type = <var>type-str</var>;
       Frequency = <var>frequency-real</var>;
       TimeStep = <var>timestep-real</var>;
       under Heaving{ ... }
       under Pitching{ ... }
       under Deforming{ ... }
       under Velocity{ ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>type-str</var> [Deforming]:

</p><p>Specifies a type of forced motion of an obstacle among the following list:

     </p><dl>
<dt><code>Heaving</code></dt><dd>Specifies forced heaving oscillations. These should be described in the <code>Heaving</code> object.

     <br></dd><dt><code>Pitching</code></dt><dd>Specifies forced pitching oscillations. These should be described in the <code>Pitching</code> object.

     <br></dd><dt><code>Deforming</code></dt><dd>Specifies forced oscillations associated with a deformational mode of the obstacle. These should be described in the <code>Deforming</code> object.

     <br></dd><dt><code>Velocity</code></dt><dd>Specifies the velocity of a translating or rotating rigid, <i>embedded</i> surface. 
</dd></dl>

<p class="noindent"><var>frequency-int</var> [—]:
     </p><dl>
<dt></dt><dd>Frequency of the prescribed oscillatory motion. 
</dd></dl>

<p class="noindent"><var>timestep-real</var> [—]:
     </p><dl>
<dt></dt><dd>Computational time-step for sampling the prescribed motion. 
</dd></dl>

<p class="noindent"><code>Heaving</code>:
     </p><dl>
<dt></dt><dd>Prescribes a rigid heaving motion. 
</dd></dl>

<p class="noindent"><code>Pitching</code>:
     </p><dl>
<dt></dt><dd>Prescribes a rigid pitching motion. 
</dd></dl>

<p class="noindent"><code>Deforming</code>:
     </p><dl>
<dt></dt><dd>Prescribes a motion associated with a flexible obstacle. 
</dd></dl>

<p class="noindent"><code>Velocity</code>:
     </p><dl>
<dt></dt><dd>Prescribes a velocity for an embedded surface. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#Heaving">Heaving</a>
</li><li><a accesskey="2" href="#Pitching">Pitching</a>
</li><li><a accesskey="3" href="#Deforming">Deforming</a>
</li><li><a accesskey="4" href="#Velocity">Velocity</a>
</li></ul>
<!--  -->
<!-- Heaving object -->
<!--  -->

<div class="node">
<a name="Heaving"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Pitching">Pitching</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Forced">Forced</a>

</div>

<h4 class="subsection">4.17.1 DESCRIBING A PRESCRIBED HEAVING MOTION</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Heaving</b>
</td></tr></tbody></table>

</p><p>This object can be used to specify the following heaving motion of a rigid obstacle

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img258.png" class="math-display" align="top"> </center> 

and move the fluid mesh or embedded surface representing the obstacle,  accordingly. In the above equation,   <img src="Aerof3d_files/img259.png" class="math-display" align="top">   denotes the initial position
of the fluid mesh (or its surfacic component) or embedded surface,   <img src="Aerof3d_files/img260.png" class="math-display" align="top">   denotes the vector amplitude of the displacement of
the fluid mesh (or the obstacle) or embedded surface,   <img src="Aerof3d_files/img250.png" class="math-display" align="top">   its frequency specified in <var>frequency-int</var> of object <code>Forced</code> (see <a href="#Forced">Forced</a>),
and   <img src="Aerof3d_files/img66.png" class="math-display" align="top">   denotes either the position of the entire fluid mesh, that of the surfacic fluid mesh, or that of the embedded surface. 
In the case where   <img src="Aerof3d_files/img66.png" class="math-display" align="top">   denotes the position of the surfacic fluid mesh, the motion of the remaining fluid grid points is computed
using a mesh updating algorithm to be specified (see <a href="#MeshMotion">MeshMotion</a>). The syntax of the <code>Heaving</code> object is:

<pre class="example">     under Heaving{
       Domain = <var>domain-id</var>;
       AX  =  <var>ax-real</var>;
       AY  =  <var>ay-real</var>;
       AZ  =  <var>az-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>domain-id</var> [<code>Volume</code>];

</p><p>This option is relevant only when <code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>.
     </p><dl>
<dt><code>Volume</code></dt><dd>In this case, the entire fluid mesh is set into the specified heaving motion. 
<br></dd><dt><code>Surface</code></dt><dd>In this case, only the surfacic mesh is set into the specified heaving motion and the position of the remaining fluid
grid points is computed by one of AERO-F's mesh motion algorithms to be specified (see <a href="#MeshMotion">MeshMotion</a>). 
</dd></dl>

<p class="noindent"><var>ax-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>x component of the vector amplitude of the motion. 
</dd></dl>

<p class="noindent"><var>ay-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>y component of the vector amplitude of the motion. 
</dd></dl>

<p class="noindent"><var>az-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>z component of the vector amplitude of the motion. 
</dd></dl>
<!--  -->
<!-- Pitching object -->
<!--  -->

<div class="node">
<a name="Pitching"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Deforming">Deforming</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Heaving">Heaving</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Forced">Forced</a>

</div>

<h4 class="subsection">4.17.2 DESCRIBING A PRESCRIBED PITCHING MOTION</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Pitching</b>
</td></tr></tbody></table>

</p><p>This object can be used to specify the following pitching motion of a rigid obstacle

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img261.png" class="math-display" align="top"> </center> 

 <center class="math-display"> <img src="Aerof3d_files/img262.png" class="math-display" align="top"> </center> 


<p>where   <img src="Aerof3d_files/img259.png" class="math-display" align="top">
   denotes the initial position of the fluid mesh (or its surfacic 
component), or that of the embedded surface representing the obstacle,
  <img src="Aerof3d_files/img263.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img264.png" class="math-display" align="top">   denote two rotation matrices around two specified pitching axes,
  <img src="Aerof3d_files/img265.png" class="math-display" align="top">   denotes the angle about which the instantaneous pitch angle around the first axis is to oscillate,   <img src="Aerof3d_files/img266.png" class="math-display" align="top">   the desired
amplitude of the oscillatory pitching motion of the obstacle around the first axis,
  <img src="Aerof3d_files/img267.png" class="math-display" align="top">   the angle about which the instantaneous pitch angle around the second axis is to oscillate,   <img src="Aerof3d_files/img268.png" class="math-display" align="top">   the desired
amplitude of the oscillatory pitching motion of the obstacle around the second axis,   <img src="Aerof3d_files/img250.png" class="math-display" align="top">   the frequency of the oscillations specified in <var>frequency-int</var> of
the object <a href="#Forced">Forced</a>,   <img src="Aerof3d_files/img269.png" class="math-display" align="top">   denotes the identity matrix, and   <img src="Aerof3d_files/img66.png" class="math-display" align="top">   denotes either the position of the entire fluid mesh, that of the surfacic fluid mesh, or that of the embedded surface. 
In the case where   <img src="Aerof3d_files/img66.png" class="math-display" align="top">   denotes the position of the surfacic fluid mesh, the motion of the remaining fluid grid points is computed
using a mesh updating algorithm to be specified (see <a href="#MeshMotion">MeshMotion</a>).

</p><p>The syntax of the <code>Pitching</code> object is:

</p><pre class="example">     under Pitching{
       Domain   = <var>domain-id</var>;
       Alpha0   = <var>alpha0-real</var>;
       AlphaMax = <var>alphamax-real</var>;
       Beta0    = <var>beta0-real</var>;
       BetaMax  = <var>alphamax-real</var>;
       X11      = <var>x11-real</var>;
       Y11      = <var>y11-real</var>;
       Z11      = <var>z11-real</var>;
       X21      = <var>x21-real</var>;
       Y21      = <var>y21-real</var>;
       Z21      = <var>z21-real</var>;
       X12      = <var>x12-real</var>;
       Y12      = <var>y12-real</var>;
       Z12      = <var>z12-real</var>;
       X22      = <var>x22-real</var>;
       Y22      = <var>y22-real</var>;
       Z22      = <var>z22-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>domain-id</var> [<code>Volume</code>];

</p><p>This option is relevant only when <code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>.
     </p><dl>
<dt><code>Volume</code></dt><dd>In this case, the entire fluid mesh is set into the specified pitching motion. 
<br></dd><dt><code>Surface</code></dt><dd>In this case, only the surfacic mesh is set into the specified pitching motion and the position of the remaining fluid
grid points is computed by one of <b>AERO-F</b>'s mesh motion algorithms to be specified (see <a href="#MeshMotion">MeshMotion</a>). 
</dd></dl>

<p class="noindent"><var>alpha0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Angle about which the instantaneous pitch angle around the 
first axis is to oscillate. A positive value rotates the obstacle around
 the first axis of rotation
specified below in the clockwise direction. If <var>alpha0-real</var> is non zero, <b>AERO-F</b> will first get the obstacle and surrounding mesh to the position implied by this rotation. 
</dd></dl>

<p class="noindent"><var>alphamax-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Amplitude of the oscillatory pitching motion of the 
obstacle around the first axis. A positive value rotates the obstacle 
around this axis of rotation specified
below in the clockwise direction. 
</dd></dl>

<p class="noindent"><var>beta0-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Angle about which the instantaneous pitch angle around the 
second axis is to oscillate. A positive value rotates the obstacle 
around the second axis of rotation
specified below in the clockwise direction. If <var>beta0-real</var> is non zero, AERO-F will first get the obstacle and surrounding mesh to the position implied by this rotation. 
</dd></dl>

<p class="noindent"><var>betamax-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Amplitude of the oscillatory pitching motion of the 
obstacle around the second axis. A positive value rotates the obstacle 
around this axis of rotation specified
below in the clockwise direction. 
</dd></dl>

<p class="noindent"><var>x11-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>x-component of the first point defining the first axis of pitching. 
</dd></dl>

<p class="noindent"><var>y11-real</var> [<code>-1.0</code>]:
     </p><dl>
<dt></dt><dd>y-component of the first point defining the first axis of pitching. 
</dd></dl>

<p class="noindent"><var>z11-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>z-component of the first point defining the first axis of pitching. 
</dd></dl>

<p class="noindent"><var>x21-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>x-component of the second point defining the first axis of pitching. 
</dd></dl>

<p class="noindent"><var>y21-real</var> [<code>1.0</code>]:
     </p><dl>
<dt></dt><dd>y-component of the second point defining the first axis of pitching. 
</dd></dl>

<p class="noindent"><var>z21-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>z-component of the second point defining the first axis of pitching. 
</dd></dl>

<p class="noindent"><var>x12-real</var> [<code>-1.0</code>]:
     </p><dl>
<dt></dt><dd>x-component of the first point defining the second axis of pitching. 
</dd></dl>

<p class="noindent"><var>y12-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>y-component of the first point defining the second axis of pitching. 
</dd></dl>

<p class="noindent"><var>z12-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>z-component of the first point defining the second axis of pitching. 
</dd></dl>

<p class="noindent"><var>x22-real</var> [<code>1.0</code>]:
     </p><dl>
<dt></dt><dd>x-component of the second point defining the second axis of pitching. 
</dd></dl>

<p class="noindent"><var>y22-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>y-component of the second point defining the second axis of pitching. 
</dd></dl>

<p class="noindent"><var>z22-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>z-component of the second point defining the second axis of pitching. 
</dd></dl>

<p class="noindent">Note:
     </p><ol start="1" type="1">

     <li>as implied by the sequencing of   <img src="Aerof3d_files/img270.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img66.png" class="math-display" align="top">
   given above, the position of the second axis of pitching is 
continuously updated by the pitching motion around the first axis of 
pitching.

     </li></ol>

<!--  -->
<!-- Deforming object -->
<!--  -->
<div class="node">
<a name="Deforming"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Pitching">Pitching</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Forced">Forced</a>

</div>

<h4 class="subsection">4.17.3 DESCRIBING A PRESCRIBED MOTION ASSOCIATED WITH A FLEXIBLE OBSTACLE</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Deforming</b>
</td></tr></tbody></table>

</p><p>This object can be used to specify the following motion 
associated with a flexible obstacle or embedded surface that represents 
it

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img271.png" class="math-display" align="top"> </center> 


<p>where

</p><p> <img src="Aerof3d_files/img259.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img272.png" class="math-display" align="top">   denote the initial and final positions of the fluid mesh or embedded surface,   <img src="Aerof3d_files/img62.png" class="math-display" align="top">   is an amplification factor, and   <img src="Aerof3d_files/img250.png" class="math-display" align="top"> 

is the frequency of the oscillations.

</p><p>The syntax of the <code>Deforming</code> object is:

</p><pre class="example">     under Deforming {
       Domain = <var>domain-id</var>;
       Position = <var>position-str</var>;
       Amplification = <var>amplification-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>domain-id</var> [<code>Volume</code>];

</p><p>This option is relevant only when <code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>.
     </p><dl>
<dt><code>Volume</code></dt><dd>In this case, the entire fluid mesh is set into the specified deforming motion. 
<br></dd><dt><code>Surface</code></dt><dd>In this case, only the surfacic mesh is set into the specified deforming motion and the
position of the remaining fluid grid points is computed by one of AERO-F's
mesh motion algorithms to be specified (see <a href="#MeshMotion">MeshMotion</a>). 
</dd></dl>

<p class="noindent"><var>position-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the file containing the final position of the fluid mesh or embedded surface. See <a href="#Hints_005fand_005ftips">Hints_and_tips</a>
for an explanation regarding how to obtain that file. 
</dd></dl>

<p class="noindent"><var>amplification-real</var> [<code>1.0</code>]:
     </p><dl>
<dt></dt><dd>Amplification factor. 
</dd></dl>
<!--  -->
<!-- Accelerated object -->
<!--  -->
<div class="node">
<a name="Accelerated"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Aeroelastic">Aeroelastic</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Forced">Forced</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.18 ACCELERATING THE MESH</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Accelerated</b>
</td></tr></tbody></table>

</p><p>AERO-F can be used to compute a flow around a rigid or flexible obstacle set in accelerated motion. 
In this case, the “hybrid wind tunnel” framework of computation (see Figure HWT) is adopted — that is, an increase of
the free-stream velocity associated with an acceleration of the obstacle is accounted for by accelerating accordingly
the ALE mesh. In other words, the motion of the obstacle, which is initially at the free-stream velocity then accelerated,
is represented in a frame moving at the free-stream velocity with respect to the ground. 
The accelerated motion can be characterized either by a constant acceleration field,
or deduced from a piecewise linear velocity time-profile
that is specified in the <code>TimeVelocity</code> object. For an obstacle moving with a piecewise linear velocity,
a set of time-velocity pairs are specified. In this case, the velocity is linearly interpolated and
the acceleration is approximated by a corresponding piecewise constant field.

</p><div class="float">
<img src="Aerof3d_files/HWT.jpg" alt="jpg">

<p><strong class="float-caption">Figure HWT: the hybrid wind tunnel computational framework</strong></p></div>

<p>The syntax of the <code>Accelerated</code> object is:

</p><pre class="example">     under Accelerated {
       Tag = <var>tag-id</var>;
       LawType = <var>lawtype-id</var>;
       AccelerationX = <var>acc-x-real</var>;
       AccelerationY = <var>acc-y-real</var>;
       AccelerationZ = <var>acc-z-real</var>;
       TimeStep = <var>timestep-real</var>;
       under TimeVelocity1 { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>tag-id</var> [<code>Mach</code>]:
     </p><dl>
<dt><code>Mach</code></dt><dd>The value associated with the sequence of outputed nodal values (see <a href="#Postpro">Postpro</a>) is the free-stream Mach number.

     <br></dd><dt><code>Velocity</code></dt><dd>The value associated with the sequence of outputed nodal values (see <a href="#Postpro">Postpro</a>) is the free-stream velocity magnitude.

     <br></dd><dt><code>Time</code></dt><dd>The value associated with the sequence of outputed nodal values (see <a href="#Postpro">Postpro</a>) is the time. 
</dd></dl>

<p class="noindent"><var>lawtype-id</var> [<code>ConstantAcceleration</code>]:
     </p><dl>
<dt><code>ConstantAcceleration</code></dt><dd>The obstacle has a constant acceleration given by
<code>AccelerationX</code>, <code>AccelerationY</code>, and <code>AccelerationZ</code>. The sign convention
is that of the hybrid wind tunnel computational framework graphically depicted in
Figure HWT. For example, a positive acceleration in the x direction corresponds to a physical
deceleration.

     <br></dd><dt><code>VelocityLaw</code></dt><dd>The obstacle has a piecewise linear in time velocity specified by
the <code>TimeVelocity</code> objects. 
</dd></dl>

<p class="noindent"><var>acc-x-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Constant acceleration of the obstacle in the x-direction. The sign convention is that
of the hybrid wind tunnel computational framework graphically depicted in Figure HWT. 
</dd></dl>

<p class="noindent"><var>acc-y-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Constant acceleration of the obstacle in the y-direction. The sign convention is that
of the hybrid wind tunnel computational framework graphically depicted in Figure HWT.

</dd></dl>

<p class="noindent"><var>acc-z-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>Constant acceleration of the obstacle in the z-direction. The sign convention is that
of the hybrid wind tunnel computational framework graphically depicted in Figure HWT. 
</dd></dl>

<p class="noindent"><var>timestep-real</var> [—]:
     </p><dl>
<dt></dt><dd>Time-step. If this specified time-step is larger than the 
specified or CFL-induced time-step of the flow-solver, the flow-solver 
will subcycle. 
</dd></dl>

<p class="noindent"><code>TimeVelocity1</code>:
     </p><dl>
<dt></dt><dd>Defines the velocity at a specified time. Its syntax is defined by the object
<code>TimeVelocity</code>. 
</dd></dl>

<p>Note:
     </p><ol start="1" type="1">
<li>acceleration can affect the angle of attack. For example, the acceleration along the x-axis shown in
Figure Acceleration causes the angle of attack to decrease in time. On the other hand, for this example,
an acceleration along both x- and  z-axes with the ratio <var>acc-z-real</var>/<var>acc-x-real</var> equal to the tangent
of the angle of attack will maintain the angle of attack constant in time.
     </li></ol>

<div class="float">
<img src="Aerof3d_files/Acc.jpg" alt="jpg">

<p><strong class="float-caption">Figure Acceleration: example of the effect of acceleration on the angle of attack</strong></p></div>

<ul class="menu">
<li><a accesskey="1" href="#TimeVelocity">TimeVelocity</a>
</li></ul>

<!--  -->
<!-- TimeVelocity object -->
<!--  -->
<div class="node">
<a name="TimeVelocity"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#Accelerated">Accelerated</a>

</div>

<h4 class="subsection">4.18.1 SPECIFYING A VELOCITY AT A GIVEN TIME</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>TimeVelocity</b>
</td></tr></tbody></table>

</p><p>The <code>TimeVelocity</code> object specifies the velocity of an obstacle at a certain time.

</p><pre class="example">     under TimeVelocity1 {
       Time = <var>time-real</var>;
       VelocityX = <var>v-x-real</var>;
       VelocityY = <var>v-y-real</var>;
       VelocityZ = <var>v-z-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>time-real</var> [—]
     </p><dl>
<dt></dt><dd>Specified time. 
</dd></dl>

<p class="noindent"><var>v-x-real</var> [<code>0.0</code>]
     </p><dl>
<dt></dt><dd>Velocity of the obstacle in the x-direction at the specified time. 
</dd></dl>

<p class="noindent"><var>v-y-real</var> [<code>0.0</code>]
     </p><dl>
<dt></dt><dd>Velocity of the obstacle in the y-direction at the specified time. 
</dd></dl>

<p class="noindent"><var>v-z-real</var> [<code>0.0</code>]
     </p><dl>
<dt></dt><dd>Velocity of the obstacle in the z-direction at the specified time. 
</dd></dl>

<p>Notes:
     </p><ol start="1" type="1">
<li>currently, only 10 time-velocity pairs can be specified. 
</li><li>it is implied that the first time-velocity pair is not specified by any <code>TimeVelocity</code> object. It
is rather automatically generated using zero for the initial time and the free-stream flow conditions for the
initial velocity (Mach number and angles of attack). 
It is also assumed that the <code>TimeVelocity</code> objects are ordered with increasing time;
</li><li>from the above, it follows that the first specified time must be different from zero;
</li><li>when the time is greater than the time specified in the last <code>TimeVelocity</code> object, the
velocity is assumed to be constant and set to the value specified by the last <code>TimeVelocity</code> object.
     </li></ol>
<!--  -->
<!-- Aeroelastic object -->
<!--  -->

<div class="node">
<a name="Aeroelastic"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#MeshMotion">MeshMotion</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Accelerated">Accelerated</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.19 SPECIFYING AEROELASTIC PARAMETERS</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Aeroelastic</b>
</td></tr></tbody></table>

</p><p>Aeroelastic parameters are specified within the <code>Aeroelastic</code> object. Its syntax is:

</p><pre class="example">     under Aeroelastic {
       Force = <var>force-id</var>;
       InternalPressure = <var>pressure-real</var>;
     }
</pre>
<p class="noindent"><var>force-id</var> [<code>Last</code>]:

</p><p>This parameter is relevant only when <code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>.

     </p><dl>
<dt><code>Last</code></dt><dd>The local aerodynamic forces exchanged 
with the structure code are based on the last computed pressure field 
within a cycle of the staggered solution procedure. 
<br></dd><dt><code>Averaged</code></dt><dd>The local aerodynamic forces 
exchanged with the structure code are based on the time-averaged 
pressure field within a cycle of the staggered solution procedure. 
</dd></dl>

<p class="noindent"><var>pressure-real</var> [<code>inlet_pressure</code>]:
     </p><dl>
<dt></dt><dd>When computing the generalized local aerodynamic forces exerted on the surface of an obstacle, <b>AERO-F</b> always assumes
the presence of a uniform pressure field within (or from the dry side of) the obstacle; therefore, it computes
the net generalized forces due to both the external and internal (or dry side) pressure fields. The <var>pressure-real</var>
 parameter
specifies the value of the uniform pressure field within (or from the 
dry side of) the obstacle (the default value is the value of the 
pressure set
in <code><a href="#Inlet">Inlet</a>.Pressure</code> and referred to here as <code>inlet_pressure</code>).
 The reader
should note that for an obstacle with a closed surface, this feature, 
which is very convenient for aeroelastic computations, has no
effect on the values of the global generalized aerodynamic forces. It 
affects however the resulting displacements and stresses of
the obstacle. 
</dd></dl>
<!--  -->
<!-- MeshMotion object -->
<!--  -->

<div class="node">
<a name="MeshMotion"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#EmbeddedFramework">EmbeddedFramework</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Aeroelastic">Aeroelastic</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.20 MOVING THE MESH</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>MeshMotion</b>
</td></tr></tbody></table>

</p><p>For a simulation on a moving grid (<code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>, or, <code><a href="#Problem">Problem</a>.Framework</code> = <code>EmbeddedALE</code> and presence of symmetry plane),
the <code>MeshMotion</code> object constructs a strategy and specifies an algorithm for updating the position of the grid points of the CFD mesh.

</p><p><b>Body-Fitted ALE Computational Framework</b>

</p><p>In this framework (<code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>), the motion of the interior grid points is driven in general by that of the points lying on boundary surfaces of the CFD mesh
(see the <b>CD2TET</b> user manual for the mesh motion attributes of the various types of surfaces recognized by <b>AERO-F</b>). 
Therefore, the mesh motion conventions of three important types of surfaces are first discussed below.

</p><p>The mesh motion of the nodes on a moving wall can be either prescribed (see <a href="#Forced">Forced</a>), or obtained via communication with <b>AERO-S</b> during a fluid-structure simulation.

</p><p>The nodes in a sliding plane (see <a href="#SurfaceData">SurfaceData</a>) slide in this plane — that is, the component
of their displacement field along the specified normal to the sliding plane is constrained to zero.

</p><p>The nodes in a symmetry plane are by default fully restrained — 
that is, their motion is set to zero.  However, there is one exception 
to this rule. 
If <var>type-id</var> = <code>Corotational</code> (see below), <b>AERO-F</b> does not necessarily fully restrain (set to zero) the motion of the nodes of a symmetry plane. 
In other words, if for some reason <var>type-id</var> = <code>Corotational</code> is the desired setting but the computational domain includes a symmetry plane, additional settings
need to be chosen to preserve the integrity of the symmetry boundary conditions.

</p><p>Specifically, if the computational domain contains a symmetry plane and <var>type-id</var> is set to <code>Corotational</code> — for example, to prevent mesh crossovers near a moving wall —
the nodes of the symmetry plane must be forced to slide in this plane. This is achieved by using the <a href="#Symmetry">Symmetry</a>
 object within this object. Specifically, this allows the
nodes of the symmetry plane to slide “rigidly” in this plane. To allow 
them to slide in this plane while simultaneously allowing the faces to 
which they belong to to deform in this plane — which
can be beneficial for the mesh motion strategy and/or algorithm — in 
addition to using the  <a href="#Symmetry">Symmetry</a> object within this object,
the symmetry plane must be <i>explicitly</i> declared in <a href="#SurfaceData">SurfaceData</a> to be a <i>sliding</i> plane.

</p><p><b>Embedded ALE Computational Framework</b>

</p><p>By default — that is, independently from any setting specified in this object — the Embedded-ALE computational framework
(<code><a href="#Problem">Problem</a>.Framework</code> = <code>EmbeddedALE</code>) applies at each time-step a <i>rigid</i>
 corotational motion (defined with
respect to the wall boundary) to the entire embedding mesh. This rigid 
motion is computed so that the updated embedding mesh tracks
the boundary layer and maintains it well-resolved. If the computational 
fluid domain contains a symmetry plane or any other fixed surface, this
rigid body motion will cause in general the fluid grid points lying in 
this surface to move outside of it. 
To keep the grid points of the symmetry plane or fixed surface in this 
surface, the user can use this object and set <var>type-id</var> (see below) to <code>Corotational</code>. 
In this case, <b>AERO-F</b> applies next an inverse transformation to 
the aforementioned grid points to bring them back to their original 
positions in the surface they belong to,
while constraining those points in the neighborhood of the boundary 
layer to remain where they have been displaced by the corotational 
motion. 
This causes the entire embedding mesh to deform. It may also produce 
excessive deformations of the embedded mesh in the vicinity of the 
symmetry plane or fixed surface and jeopardize
the integrity of the mesh motion strategy and/or algorithm. The latter 
issue can be mitigated by declaring this plane/surface to be a sliding 
plane/surface (see <a href="#SurfaceData">SurfaceData</a>). 
In this case, after the corotational step is performed, <b>AERO-F</b> returns the displaced nodes of the symmetry plane not necessarily to their original positions in this plane, but to a
more optimal position in this plane.

</p><p>The syntax of the <code>MeshMotion</code> is:

</p><pre class="example">     under MeshMotion {
       Type = <var>type-id</var>;
       Element = <var>element-id</var>;
       VolumeStiffness = <var>stiffness-factor</var>;
       Mode = <var>mode</var>;
       NumIncrements = <var>numincrements</var>;
       FeedBack = <var>feedback-frequency</var>;
       under Symmetry { ... }
       under Newton { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>type-id</var> [<code>Basic</code>]:
     </p><dl>
<dt><code>Basic</code></dt><dd>In this case, no special treatment is applied to potentially large displacements and/or deformations.

     <br></dd><dt><code>Corotational</code></dt><dd>In this case, potentially large displacements and/or deformations are handled by the corotational method,
which is applied in addition to the chosen mesh motion algorithm. The corotational method separates
the motion of the moving walls into two components: a rigid one that is trivially transmitted to the interior
mesh points, and a deformational one that is treated by the chosen mesh motion algorithm. 
</dd></dl>

<p class="noindent"><var>element-id</var> [<code>BallVertexSprings</code>]:
     </p><dl>
<dt><code>LinearFiniteElement</code></dt><dd>Specifies the mesh motion method based on the linear finite element structural analogy. 
<br></dd><dt><code>NonLinearFiniteElement</code></dt><dd>Specifies the mesh motion method based on the nonlinear finite element structural analogy. This method
can be equipped with a safeguard against mesh instabilities (not to be confused with mesh crossovers, see <var>stiffness-factor</var> below). 
It does not suffer from the hysterisis phenomenon and therefore is suitable for long cyclic problems. 
<br></dd><dt><code>TorsionalSprings</code></dt><dd>Specifies the mesh 
motion method based on the linear torsional springs analogy. This method
 can also be equipped with a safequard
against mesh instabilities (not to be confused with mesh crossovers, see
 <var>stiffness-factor</var> below). 
It is a good candidate for problems with large-amplitude mesh deformations. 
<br></dd><dt><code>BallVertexSprings</code></dt><dd>Specifies the mesh motion method based on the linear ball vertex springs analogy. This method can also be equipped with
a safeguard against mesh instabilities (not to be confused with mesh crossovers, see <var>stiffness-factor</var>
 below). 
It is a good candidate for problems with large-amplitude mesh 
deformations and is more economical than the torsional springs method. 
<br></dd><dt><code>NonLinearBallVertex</code></dt><dd>Specifies the 
nonlinear version of the ball vertex springs method. This method can 
also be equipped with a safeguard against mesh
instabilities (not to be confused with mesh crossovers, see <var>stiffness-factor</var> below). It does not suffer from the hysterisis
phenomenon and therefore is a good candidate for long cyclic problems with large-amplitude mesh deformations. 
</dd></dl>

<p><var>stiffness-factor</var> [<code>0.0</code>]:
     </p><dl>
This parameter is active for all mesh motion algorithms except that based on the linear finite element method
(<var>element-id</var> = <code>LinearFiniteElement</code>). When <b>positive</b>, it adds to the basic pseudo-stiffness of an element — which
is usually inversely proportional to its volume in order to prevent mesh crossovers — a positive term that is
proportional to its volume and multiplied by <var>stiffness-factor</var>, thereby preventing this element from becoming
increasingly flexible when stretched and causing a mesh instability. By default, the value of this parameter is zero,
which does not provide additional stiffening during stretching. The higher the value of this parameter is, the stiffer
the pseudo-structure becomes when stretched and the less likely to induce a mesh instability. 
However, as the value of this parameter is increased, the conditioning of the corresponding
pseudo-stiffness matrix becomes worse, and more iterations may become necessary for updating the position of the mesh. 
</dl>

<p><var>mode</var> [<code>NonRecursive</code>]:
     </p><dl>
The prescribed boundary displacement field can be applied in multiple 
increments (or fractions) to minimize the likelyhood of crossovers
during the mesh motion. The number of increments can be specified is <var>numincrements</var> (see below). 
<dt><code>NonRecursive</code></dt><dd>If <var>mode</var> is set to <code>NonRecursive</code> (which is the default value), then the prescribed boundary displacement field is applied in
<var>numincrements</var> equal increments and the stiffness of the mesh is updated at each step. 
<br></dd><dt><code>Recursive</code></dt><dd>If <var>mode</var> is set to <code>Recursive</code>,
 the prescribed boundary displacement field is recursively applied in 
fractions
computed so that, in principle, the motion of the moving surface does 
not exceed, for a given fraction (except possibly the last one),
the thickness of the first layer of elements above this surface. In this
 case, the stiffness of the mesh is also
updated at each step and <var>numincrements</var> defines the maximum number of allowable increments. 
</dd></dl>

<p><var>numincrements</var> [<code>1</code>]:
     </p><dl>
This parameter defines either the number of increments in which to apply the prescribed boundary displacement field when <var>mode</var> is set to <code>NonRecursive</code>, or the maximum number of
allowable fractions of this displacement when <var>mode</var> is set to <code>Recursive</code>. The default value is 1. 
</dl>

<p class="noindent"><var>feedback-frequency</var> [<code>0</code>]:
     </p><dl>
<dt></dt><dd>Feedback on the performance of the choice made in <var>mode</var> is available in the form of output to the screen
of the minimum and maximum applied fractions of a prescribed wall-boundary displacement. The feedback
is printed every <var>feedback-frequency</var> iterations/time-steps of a steady/unsteady computation. It is useful
for checking, when <var>mode</var> is set to <code>Recursive</code>, 
whether a large discrepancy occurs between the  minimum and maximum 
applied fractions of the prescribed wall-boundary displacement,
in which case setting  <var>mode</var> to <code>NonRecursive</code> would produce a better performance of the chosen mesh motion algorithm. 
Setting <var>feedback-frequency</var> to zero (default) results in turning off this option. 
</dd></dl>

<p class="noindent"><code>Newton</code>:
     </p><dl>
<dt></dt><dd>Specifies the parameters of the Newton method for solving the nonlinear system of discrete equations. 
</dd></dl>
<code>Symmetry</code>:
     <dl>
<dt></dt><dd>Acknowledges the presence of a symmetry plane in the mesh 
so that the mesh motion solver can constrain the solution of the mesh 
motion
equations appropriately. 
</dd></dl>

<p>Note:
     </p><ol start="1" type="1">
<li>the default value for <code>Newton.LinearSolver.Type</code> is <code>Cg</code> while the
default value for <code>Newton.LinearSolver.Preconditioner.Type</code> is <code>Jacobi</code>;
     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#BoundaryLayer">BoundaryLayer</a>
</li><li><a accesskey="2" href="#Symmetry">Symmetry</a>
</li><li><a accesskey="3" href="#Newton">Newton</a>
</li></ul>
<!--  -->
<!-- Symmetry object -->
<!--  -->

<div class="node">
<a name="Symmetry"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#MeshMotion">MeshMotion</a>

</div>

<h4 class="subsection">4.20.1 MESH MOTION IN THE PRESENCE OF A PLANE OF SYMMETRY</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Symmetry</b>
</td></tr></tbody></table>

</p><p>This object is relevant only when <code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>, the simulation is performed on a moving grid, the computational domain contains a symmetry plane, and the <var>type-id</var> member
of the <a href="#MeshMotion">MeshMotion</a> object is set to <var>Corotational</var>.
 
In this case, the nodes of the symmetry plane are not necessarily fully 
restrained — that is, they can move outside the symmetry plane — which 
results in a violation of the symmetry boundary conditions. In this 
setting,
to prevent this issue from happening, this object must be used to force 
the nodes of the symmetry plane to slide “rigidly” in this plane. To 
have them slide while allowing the deformation of the faces to which 
they belong
— which can be beneficial to the robustness of the mesh motion strategy 
chosen in <a href="#MeshMotion">MeshMotion</a> — the symmetry plane must also be <i>explicitly</i> declared in <a href="#SurfaceData">SurfaceData</a> as a <i>sliding</i> plane.

</p><p>The syntax of the <code>Symmetry</code> object is:

</p><pre class="example">     under Symmetry {
       Nx = <var>Nx-real</var>;
       Ny = <var>Ny-real</var>;
       Nz = <var>Nz-real</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>Nx-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>The x-component of the normal to the symmetry plane. If 
this component is non zero, only a rigid rotation around the x axis and 
rigid translations in the y-z plane are performed by the corational mesh
 motion strategy. 
</dd></dl>

<p class="noindent"><var>Ny-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>The y-component of the normal to the symmetry plane. If 
this component is non zero, only a rigid rotation around the y axis and 
rigid translations in the x-z plane are performed by the corational mesh
 motion strategy. 
</dd></dl>

<p class="noindent"><var>Nz-real</var> [<code>0.0</code>]:
     </p><dl>
<dt></dt><dd>The z-component of the normal to the symmetry plane. If 
this component is non zero, only a rigid rotation around the z axis and 
rigid translations in the x-y plane are performed by the corational mesh
 motion strategy. 
</dd></dl>

<p>Notes:
     </p><ol start="1" type="1">
<li>because this object addresses a symmetry plane by referring to its 
normal and not to the surface underlying this symmetry plane, it is 
valid only when the computational domain contains either a single 
symmetry
plane or multiple but parallel ones, and the normal to these planes is 
parallel to a canonical axis;
</li><li>when this object is used, the rigid body component of the 
entire mesh motion is constrained; therefore in this case, all nodes 
located on any fixed or symmetry surface that is not designated as a
sliding surface will be allowed to move only in a plane tangential to 
the normal direction [<var>Nx-real</var>, <var>Ny-real</var>, <var>Nz-real</var>],
 and all nodes located on any fixed or symmetry surface that
is designated as a sliding surface will be allowed to move only in a 
plane tangential to the normal direction specified under this object, if
 this direction coincides with the normal direction specified
under <a href="#SurfaceData">SurfaceData</a>.
     </li></ol>
<!--  -->
<!-- EmbeddedFramework -->
<!--  -->

<div class="node">
<a name="EmbeddedFramework"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Linearized">Linearized</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#MeshMotion">MeshMotion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.21 SPECIFYING THE EMBEDDED BOUNDARY METHOD FOR CFD</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>EmbeddedFramework</b>
</td></tr></tbody></table>

</p><p>The object <code>EmbeddedFramework</code> is primarily used to specify <b>AERO-F</b>'s embedded boundary method for CFD and fluid-structure interaction problems. 
This method is activated however only if <code>Problem.Type</code> is set to <code>Embedded</code> or <code>EmbeddedALE</code> (see <a href="#Problem">Problem</a>).
 
Its main parameters are: (a) the specific intersector which captures the
 position of an embedded discrete surface (which can be the
union of multiple disconnected embedded surfaces) representing the wet 
surface of an obstacle (which can be the union of multiple
disconnected obstacles); (b) the specific approach for determining 
whether a mesh vertex is active or not;
(c) the location along an intersected edge of the CFD mesh where to 
construct and solve the fluid-structure
half-Riemann problem; (d) the normal to be used by the underlying 
fluid-structure half-Riemann solver; (e) the numerical treatment
of fluid-structure phase changes; and (f) the specific energy conserving
 algorithm for computing the flow-induced forces and
moments on this discrete embedded surface and enforcing the equilibrium 
transmission condition in the case of a fluid-structure
simulation.

</p><p>In the case of a closed embedded discrete surface, the object <code>EmbeddedFramework</code> is also used to specifiy the initial state of
the fluid medium occupying the region of the computational domain enclosed by this surface.

</p><p>The syntax of this object is:

</p><pre class="example">     under EmbeddedFramework {
       Prec = <var>prec-id</var>;
       Intersector = <var>intersector-id</var>;
       InterfaceThickness = <var>interfacethickness-real</var>;
       InterfaceAlgorithm = <var>interfacealgorithm-str</var>;
       PhaseChange = <var>phasechange-str</var>;
       ExtrapolationOrder = <var>extrapolationorder-str</var>;
       InterfaceLimiter = <var>interfacelimiter-flag</var>;
       SurrogateInterface = <var>surrogateinterface-str</var>;
       SurrogateSurface = <var>surrogatesurface-id</var>;
       QuadratureOrder = <var>quadratureorder-int</var>;
       RiemannNormal = <var>rnormal-id</var>;
       StructureNormal = <var>structurenormal-id</var>;
       CrackingWithLevelSet  = <var>crackingwithlevelset-flag</var>;
       ViscousInterfaceOrder = <var>viscousinterfaceorder-id</var>;
       ViscousBoundaryCondition = <var>viscousboundarycondition-id</var>;
       under InitialConditions { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>prec-id</var> [<code>NonPreconditioned</code>]:

</p><p>This parameter is relevant only if <code><a href="#Problem">Problem</a>.Prec</code> = <code>LowMach</code>.

     </p><dl>
<dt><code>NonPreconditioned</code></dt><dd>In this case, the dissipation terms of the FIVER convective fluxes at the material interfaces are not preconditioned. 
This value is the default value. 
<br></dd><dt><code>LowMach</code></dt><dd>In this case, the dissipation 
terms of the FIVER convective fluxes at the material interfaces are 
equipped with the low-Mach Turkel
preconditioner whose parameters are set in <a href="#Preconditioner">Preconditioner</a>. 
</dd></dl>

<p class="noindent"><var>intersector-id</var> [<code>FRG</code>]:
     </p><dl>
Specifies a computational approach for computing the intersection of an 
embedded discrete surface with the embedding CFD grid in order to 
capture in time the position
and shape of this embedded surface. 
<dt><code>FRG</code></dt><dd>In this case, a fast, projection-based 
approach is used for capturing the fluid-structure interface. This 
approach requires that
the embedded discrete surface be closed and remain closed throughout the
 entire simulation. It also requires that its discrete elements be 
numbered so that
their normals always point outwards. Furthermore, this approach is 
robust and accurate only if the region enclosed by the embedded discrete
 surface is resolved by the embedding CFD grid. 
<br></dd><dt><code>PhysBAM</code></dt><dd>In this case, a slower but 
more general geometric-based approach is used for capturing the 
fluid-structure interface. This approach is
equally applicable to open and closed embedded surfaces. Furthermore, it
 is accurate even when the embedded discrete surface is closed and
the region enclosed by this surface is not resolved by the embedding CFD
 grid. 
</dd></dl>

<p class="noindent"><var>interfacethickness-real</var> [<code>1e-8</code>]:
     </p><dl>
Specifies the geometrical thickness of the material interface used by <b>PhysBAM-Lite</b>
 during the computation of intersections between the CFD grid and the 
embedded
structure(s). The default value of this parameter is recommended. 
However, increasing this value may improve the robustness of the <b>PhysBAM-Lite</b> intersector. 
If the <code>FRG</code> intersector is chosen instead, this parameter is ignored. 
</dl>

<p class="noindent"><var>interfacealgorithm-str</var> [<code>MidEdge</code>]:
     </p><dl>
Specifies the location where to construct and solve the fluid-structure 
half-Riemann problem along an edge of the CFD mesh which
intersects the embedded discrete surface in order to enforce the 
appropriate kinematic fluid-structure transmission condition, which
determines the global rate of convergence of the FIVER method. 
indent
<var>interfacelimiter-flag</var> [<code>Off</code>]:
          <dl>
This parameter is relevant only if <var>interfacealgorithm-str</var> is set to <code>Intersection</code> (see above), <var>phasechange-str</var>
is set to <code>Extrapolation</code> (see above), and <var>extrapolationorder-str</var> is set to <code>SecondOrder</code>. It can take one of the
two following values:
<dt><code>On</code></dt><dd>In this case, the linear extrapolation 
scheme chosen for treating a fluid-structure material change in the 
enhanced FIVER method is
equipped with a limiter in order to suppress nonlinear oscillations. 
<br></dd><dt><code>Off</code></dt><dd>In this case, the linear 
extrapolation scheme chosen for treating a fluid-structure material 
change in the enhanced FIVER method is
not equipped with a limiter and therefore is vulnerable to spurious 
oscillations. 
</dd></dl>
     <br><dt><code>MidEdge</code></dt><dd>Requests the construction and 
solution of the fluid-structure half-Riemann problem at the midpoint of 
an edge of the CFD mesh that intersects the embedded discrete surface. 
In this case, a geometric error of the order of   <img src="Aerof3d_files/img151.png" class="math-display" align="top">  , where   <img src="Aerof3d_files/img152.png" class="math-display" align="top">
   denotes the typical mesh size, is introduced in the 
semi-discretization process. Consequently, even for second-order spatial
 approximations away from the material interface
(<code><a href="#NavierStokes">NavierStokes</a>.Reconstruction</code> = <code>Linear</code>), the FIVER method delivers a first-order global rate of convergence. 
<br></dd><dt><code>Intersection</code></dt><dd>Requests the construction
 and solution of the fluid-structure half-Riemann problem at the true 
intersection point between the CFD
mesh and the embedded discrete surface. In this case, for second-order 
spatial approximations away from the material interface
(<code><a href="#NavierStokes">NavierStokes</a>.Reconstruction</code> = <code>Linear</code>), the FIVER method delivers a second-order global rate of convergence. 
Because it is a higher-fidelity option, this setting is available only for the case where
<code><a href="#NavierStokes">NavierStokes</a>.Reconstruction</code> = <code>Linear</code>). Otherwise, it is automatically reverted to the <code>MidEdge</code> setting. 
</dd></dl>

<p class="noindent"><var>phasechange-str</var> [<code>Extrapolation</code>]:
     </p><dl>
This parameter specifies a method for treating fluid-structure phase changes. 
<dt><code>Extrapolation</code></dt><dd>In this case, an extrapolation procedure is used to populate or reset the fluid state of a node that changes phase from one
time-step to another. 
</dd></dl>

<p class="noindent"><var>extrapolationorder-str</var> [<code>---</code>]:
     </p><dl>
This parameter is relevant only when <var>phasechange-str</var> is set to <code>Extrapolation</code>. It specifies the order of the
extrapolation method. 
<dt><code>FirstOrder</code></dt><dd>In this case, a fluid-structure phase change is treated using a first-order extrapolation scheme. 
<br></dd><dt><code>SecondOrder</code></dt><dd>In this case, a fluid-structure phase change is treated using a second-order extrapolation scheme.

     <p>The default value of the parameter is <code>FirstOrder</code> if <var>interfacealgorithm-str</var> = <code>MidEdge</code>, and <code>SecondOrder</code>
if <var>interfacealgorithm-str</var> = <code>Intersection</code>. 
</p></dd></dl>

<p class="noindent"><var>interfacelimiter-flag</var> [<code>Off</code>]:
     </p><dl>
This parameter is relevant only if <var>interfacealgorithm-str</var> is set to <code>Intersection</code> (see above), <var>materialchange-str</var>
is set to <code>Extrapolation</code> (see above), and <var>extrapolationorder-str</var> is set to <code>SecondOrder</code>. It can take one of the
two following values:
<dt><code>On</code></dt><dd>In this case, the linear extrapolation 
scheme chosen for treating a fluid-structure material change in the 
enhanced FIVER method is
equipped with a limiter in order to suppress nonlinear oscillations. 
<br></dd><dt><code>Off</code></dt><dd>In this case, the linear 
extrapolation scheme chosen for treating a fluid-structure material 
change in the enhanced FIVER method is
not equipped with a limiter and therefore is vulnerable to spurious 
oscillations. 
</dd></dl>

<p class="noindent"><var>surrogateinterface-id</var> [<code>Hybrid</code>]:
     </p><dl>
Specifies whether a control volume face between an occluded fluid vertex
 and a non occluded one can be part of the control volume-based 
surrogate fluid-structure interface or not, which directly impacts the 
active/inactive status
of a non occluded fluid vertex. 
<dt><code>Hybrid</code></dt><dd>In this case, a control volume face 
between an occluded fluid vertex and a non occluded is always part of 
the control volume-based surrogate fluid-structure interface, and 
therefore a non occluded fluid vertex is always active. 
<br></dd><dt><code>External</code></dt><dd>In this case, a control 
volume face between an occluded fluid vertex and a non occluded one is 
part of the control volume-based surrogate fluid-structure interface if 
the midpoint of the edge connecting
the occluded and non occluded fluid vertices is itself not occluded. If 
this midpoint is occluded, both occluded and non occluded fluid vertices
 are inactive. 
</dd></dl>

<p class="noindent"><var>surrogatesurface-id</var> [<code>EmbeddedSurface</code>]:
     </p><dl>
Specifies a surrogate of the embedded discrete surface — or the true 
embedded discrete surface — on which to compute the flow-induced forces 
and moments, and a corresponding conservative algorithm
for performing this computation and that of the load transferred to the 
real structure in the case of a fluid-structure simulation. 
<dt><code>ReconstructedSurface</code></dt><dd>In this case, which is supported only if <var>surrogateinterface-id</var> = <code>Hybrid</code>, a surrogate of the embedded discrete surface is reconstructed within <b>AERO-F</b> based on the computed
intersections between the true embedded discrete surface and the embedding fluid mesh. If <var>surrogateinterface-id</var> = <code>External</code>, this parameter is reset to <code>EmbeddedSurface</code>. 
<br></dd><dt><code>ControlVolumeFace</code></dt><dd>In this case, which is supported only if <var>surrogateinterface-id</var> = <code>Hybrid</code>, a surrogate of the embedded discrete surface is defined as the assembly of the control volume faces that are the closest to
the computed intersections between the true embedded discrete surface and the embedding fluid mesh. If <var>surrogateinterface-id</var> = <code>External</code>, this parameter is reset to <code>EmbeddedSurface</code>. 
<br></dd><dt><code>EmbeddedSurface</code></dt><dd>In this case, the true embedded discrete surface is used, and the word <var>surrogatesurface-id</var> becomes a misnomer. 
</dd></dl>

<p class="noindent"><var>quadratureorder-int</var> [<code>3</code>]:
     </p><dl>
This parameter is relevant only when <var>surrogatesurface-id</var> = <code>EmbeddedSurface</code>. It specifies the order of the quadrature
rule used for computing the flow-induced loads on the embedded discrete surface. The user is reminded that the order of the
quadrature   <img src="Aerof3d_files/img61.png" class="math-display" align="top">   is the highest degree of the polynomial that can be integrated exactly using this quadrature. The available
range is   <img src="Aerof3d_files/img273.png" class="math-display" align="top">  . For problems where the fluid mesh under-resolves in some areas the embedded discrete surface, the
setting   <img src="Aerof3d_files/img274.png" class="math-display" align="top">   is recommended. 
</dl>

<p class="noindent"><var>rnormal-id</var> [<code>Structure</code>]:
     </p><dl>
Specifies the normal to be used in the solution of the one-dimensional 
fluid-structure half-Riemann problem along an edge of the fluid mesh 
which intersects the structure. 
<dt><code>Structure</code></dt><dd>In this case, the aforementioned 
normal is set to that of the structure at the point of intersection of 
the structure and the relevant edge of the fluid mesh. 
This is the default setup as it offers better accuracy. 
<br></dd><dt><code>Fluid</code></dt><dd>In this case, the aforementioned
 normal is set to that of the control volume face of the fluid mesh 
associated with the intersecting edge. This option trades optimal 
accuracy
for better numerical stability by introducing dissipation indirectly in 
the semi-discretization process. 
</dd></dl>

<p class="noindent"><var>structurenormal-id</var> [<code>ElementBased</code>]:
     </p><dl>
This member is relevant only if <var>rnormal-id</var> = <code>Structure</code>. It specifies a method for computing the normal to
an element of the embedded discrete surface. 
<dt><code>ElementBased</code></dt><dd>In this case, the normal to an element of the embedded discrete surface is the same at each point within this element and is
computed using a standard approach. 
<br></dd><dt><code>NodeBased</code></dt><dd>In this case, the normal to an element of the embedded discrete surface varies within this element and is computed as follows. 
First an <code>ElementBased</code> normal is computed within each element and assigned to each node of this element. Next, all normals
assigned to a node are averaged. Finally, the normal at a point of an element of the embedded discrete surface is computed by
interpolating the averaged normals at the nodes of this element. 
</dd></dl>

<p class="noindent"><var>crackingwithlevelset-flag</var> [<code>Off</code>]:
     </p><dl>
This parameter must be set to <code>On</code> when the expecting the embedded discrete surface to crack and to <code>Off</code> otherwise. 
</dl>

<p class="noindent"><var>viscousinterfaceorder-id</var> [<code>FirstOrder</code>]:

</p><p>Specifies the order of accuracy of the numerical approximation of the viscous terms in the <i>vicinity of the embedded discrete surface</i>.
     </p><dl>
<dt><code>FirstOrder</code></dt><dd>In this case, a first-order 
numerical treatment of the viscous terms is performed in the vicinity of
 the embedded discrete surface. Specifically,
the fluid velocity at a ghost fluid point is populated in this case 
using linear extrapolation and the surrogate embedded discrete surface
constructed as the assembly of the control volume faces that are the 
closest to the computed intersections between the true embedded discrete
 surface
and the embedding fluid mesh.

     <br></dd><dt><code>SecondOrder</code></dt><dd>In this case, a 
second-order numerical treatment of the viscous terms is performed in 
the vicinity of the embedded discrete surface, unless
a first-order finite volume scheme is specified away from the embedded 
discrete surface (<code><a href="#NavierStokes">NavierStokes</a>.Reconstruction</code> = <code>Constant</code>).
 
Specifically, the fluid velocity at a ghost fluid point is populated in 
this case using linear extrapolation and the true embedded discrete 
surface. 
</dd></dl>

<p class="noindent"><var>viscousboundarycondition-id</var> [<code>Weak</code>]:

</p><p>This parameter is relevant only for viscous computations and when <var>rnormal-id</var> = <code>Structure</code>.
 It specifies how to reconstruct the fluid velocity field after the 
solution of a fluid-structure half-Riemann problem,
independently from the choice of the normal for the solution of this 
problem. Because both choices offered below become identical when a 
fluid-structure half-Riemann problem
is solved using the normal to the control volume face of the fluid mesh 
associated with the edge intersecting the structure, this parameter is 
irrelevant when <var>rnormal-id</var> = <code>Fluid</code>.
     </p><dl>
<dt><code>Weak</code></dt><dd>In this case, after the solution of a 
fluid-structure half-Riemann problem, the fluid velocity field is 
reconstructed using the normal component of the wall velocity and
the tangential component of the fluid velocity before the solution of 
that half-Riemann problem. 
<br></dd><dt><code>Strong</code></dt><dd>In this case, after the 
solution of a fluid-structure half-Riemann problem, the fluid velocity 
field is set to the wall velocity field. 
</dd></dl>

<p class="noindent"><code>InitialConditions</code>:
     </p><dl>
<dt></dt><dd>In the case of a closed embedded discrete surface, this 
object allows a convenient initialization of the state (or states) of 
the fluid medium (or media)
occupying the region (or regions) enclosed by this surface. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#InitialConditionsEmbedded">InitialConditionsEmbedded</a>
</li></ul>

<!--  -->
<!-- InitialConditionsEmbedded -->
<!--  -->
<div class="node">
<a name="InitialConditionsEmbedded"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#EmbeddedFramework">EmbeddedFramework</a>

</div>

<h4 class="subsection">4.21.1 SPECIFYING THE INITIAL CONDITIONS IN A REGION DELIMITED BY A CLOSED EMBEDDED SURFACE</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>InitialConditions</b>
</td></tr></tbody></table>

</p><p>This object provides a convenient way for initializing to a 
uniform condition the state of a fluid medium in a region of the 
computational
fluid domain delimited by a closed embedded discrete surface. Because a 
closed surface can consist of multiple disconnected closed surfaces,
the aforementioned region of interest is identified here by specifying a
 point it contains (this point does not need to be a CFD grid point). 
Because the initialization procedure depends on the EOS of the fluid 
medium of interest, the integer identification number of this fluid 
medium
is also specified in <a href="#Point">Point</a>. Finally, the initial state itself is specified in <a href="#InitialState">InitialState</a>.

</p><p>The syntax of this object is:

</p><pre class="example">     under InitialConditions {
       under Point[<var>point-id-int</var>] { ... }
       ...
     }
</pre>
<p>with

</p><p class="noindent"><var>point-id-int</var>[—]
     </p><dl>
<dt></dt><dd>Integer identification number of a point located in a region of the computational
fluid domain delimited by a closed embedded discrete surface. This point does not need to be a CFD grid point. 
</dd></dl>

<p class="noindent"><code>Point</code>:
     </p><dl>
<dt></dt><dd>Specifies the coordinates of a point in space identified by <var>point-id-int</var> and the integer identification number of the fluid medium
that contains it. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#Point">Point</a>
</li></ul>

<!--  -->
<!-- Point object -->
<!--  -->
<div class="node">
<a name="Point"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#InitialConditionsEmbedded">InitialConditionsEmbedded</a>

</div>

<h5 class="subsubsection">4.21.1.1 SPECIFYING A POINT AND THE FLUID MEDIUM CONTAINING IT</h5>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Point</b>
</td></tr></tbody></table>

</p><p>This object specifies the coordinates of a point (which is not necessarily a CFD grid point) identified by <var>point-id-int</var>
for the purpose of identifying the region of the computational fluid domain containing this point and delimited by
an embedded, discrete, <i>closed</i> surface. It also identifies the fluid medium occupying this region by specifying its integer
identification number, and initializes its state to that of a uniform condition specified in <a href="#InitialState">InitialState</a>.

</p><p>The syntax of this object is:

</p><pre class="example">     under Point {
       FluidID = <var>fluid-id-int</var>;
       X = <var>x-real</var>;
       Y = <var>y-real</var>;
       Z = <var>z-real</var>;
       under InitialState{ ... }
       under ProgrammedBurn{ ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>fluid-id-int</var> [—]:
     </p><dl>
<dt></dt><dd>Integer number identifying the fluid medium containing the point identified by <var>point-id-int</var>. 
</dd></dl>

<p class="noindent"><var>x-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>Coordinate of the point identified by <var>point-id-int</var> along the x axis. 
</dd></dl>

<p class="noindent"><var>y-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>Coordinate of the point identified by <var>point-id-int</var> along the y axis. 
</dd></dl>

<p class="noindent"><var>z-real</var> [0.0]:
     </p><dl>
<dt></dt><dd>Coordinate of the point identified by <var>point-id-int</var> along the z axis. 
</dd></dl>

<p class="noindent"><code>InitialState</code>:
     </p><dl>
<dt></dt><dd>Specified the initial conditions to be applied in the 
region of the computational fluid domain containing the point identified
 by <var>point-id-int</var>
and delimited by an embedded discrete and closed surface. 
</dd></dl>

<p class="noindent"><code>ProgrammedBurn</code>:
     </p><dl>
<dt></dt><dd>Specifies the parameters of a programmed burn of a highly 
explosive, burnable material, associated with the point defined above. 
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#InitialState">InitialState</a>
</li><li><a accesskey="2" href="#ProgrammedBurn">ProgrammedBurn</a>
</li></ul>
<!--  -->
<!-- Linearized object -->
<!--  -->
<div class="node">
<a name="Linearized"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SensitivityAnalysis">SensitivityAnalysis</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#EmbeddedFramework">EmbeddedFramework</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.22 DEFINING THE PARAMETERS OF THE LINEARIZED MODULE AERO-FL</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Linearized</b>
</td></tr></tbody></table>

</p><p>AERO-F can also be used to solve a set of linearized flow equations around a given (equilibrium)
configuration when the considered fluid is a perfect gas. The module within AERO-F that performs this task is
referred to as AERO-FL. This module also offers a dimensional POD-based ROM capability trained for obstacle vibrations. 
Currently, AERO-FL supports only the linearized Euler equations in descriptor form and for a perfect gas. 
It can be used to perform (see <a href="#Problem">Problem</a>):

     </p><ol start="1" type="1">
<li>an unsteady linearized Euler flow perturbation computation in the time-domain;
</li><li>an unsteady linearized Euler-based aeroelastic computation in which the structure is represented by a
truncated set of its natural modes (dimensional);
</li><li>a construction of a time- or frequency-domain POD basis (dimensional);
</li><li>a construction of a time- or frequency-domain POD basis by linear interpolation between several sets of POD basis vectors
(dimensional);
</li><li>a construction of a generalized aerodynamic and/or aerodynamic force matrix, or a set of them (dimensional);
</li><li>a complex eigenvalue analysis of a linearized aeroelastic system represented by a generalized aerodynamic force matrix
(dimensional);
</li><li>a construction of a fluid ROM trained for obstacle vibrations (dimensional);
</li><li>a construction of an aeroelastic ROM trained for structural vibrations (dimensional);
</li><li>a time-domain ROM fluid computation (dimensional);
</li><li>a time-domain ROM aeroelastic computation in which the flow is expressed in a POD basis and the structure is represented
by a truncated set of its natural modes (dimensional).
     </li></ol>

<p>The linearized Euler flow simulations are initialized by a 
perturbation of the steady-state flow solution around which the
linearized flow was computed. This is performed by: a) perturbing a flow
 parameter such as the angle of attack, Mach number,
altitude, or shape of the obstacle and computing a new steady-state 
solution, then b) specifying the obtained perturbed flow solution
in <code>Input.Perturbed</code> (see <a href="#Input">Input</a>). A 
noteworthy initialization is that in which the perturbed flow 
corresponds to a shape
perturbation induced by a modal displacement of the structure 
(communicated to the fluid by a ping-pong step). In this case, and in
the event of a linearized aeroelastic computation, the structure can be 
conveniently initialized by the same modal displacement
using <code>Linearized.ExcMode</code> as explained below.

</p><p>Currently, a linearized Euler-based aeroelastic simulation can be
 driven only by a modal source term associated with the structure. 
For this reason, such a simulation can be performed only in dimensional 
mode. See <a href="#Problem">Problem</a>.

</p><p>The complex eigenvalue analysis of a linearized aeroelastic system is performed for a given set of flight conditions
(the inlet conditions) and a given modal representation of the underlying structure. Its convergence can be
controlled using the parameters <code>ToleranceEigenAeroelastic</code> and <code>MaxItsEigenAeroelastic</code>. The real and imaginary parts of the computed eigenvalues
and the aeroelastic damping ratios, which are extracted from them, are outputted in <code><a href="#Postpro">Postpro</a>.AeroelasticEigenvalues</code>.

</p><p>The syntax of the <code>Linearized</code> object is:

</p><pre class="example">     under Linearized{
       StrModes = <var>strmodes-str</var>;
       NumStrModes = <var>numberstructuralmodes-int</var>;
       ExcMode = <var>idmodetobeexcited-int</var>;
       Domain = <var>domain-id</var>;
       InitialCondition = <var>ic-id</var>;
       Amplification = <var>amplitude-real</var>;
       FreqStep = <var>frequencystep-real</var>;
       Eps = <var>finitedifferenceepsilon-real</var>;
       Tolerance = <var>eigensolvertolerance-real</var>;
       NumPOD = <var>numberPODmodes-int</var>;
       GAMReducedFrequency1 = <var>gamreducedfrequency1-real</var>;
       ...
       GAMReducedFrequency20 = <var>gamreducedfrequency20-real</var>;
       MaxItsEigenAeroelastic = <var>eigenaeroelasticmaximumiterations-int</var>;
       ToleranceEigenAeroelastic = <var>eigenaeroelasticsolvertolerance-real</var>;
       under Pade { ... }
     }
</pre>
<p>with

</p><p class="noindent"><var>strmodes-str</var> [<code>""</code>]:
     </p><dl>
<dt></dt><dd>Name of the binary file containing the initial mesh position, a set of natural structural frequencies, and
the set of fluid mesh positions that are compatible with the corresponding set of natural structural modes. 
This information is needed to construct a fluid POD basis, a fluid ROM, or an aeroelastic ROM. 
It can also be used to create a source term to drive a (full-order or reduced-order)
linearized unsteady flow simulation. 
Even when specified, this file is not exploited unless the corresponding entry <code>NumStrModes</code> is set to a non-zero positive value. 
</dd></dl>

<p class="noindent"><var>numberstructuralmodes-int</var> [<code>0</code>]:
     </p><dl>
<dt></dt><dd>Specifies the first so-many structural modes to be exploited among those speficied in <code>StrModes</code>. 
If this parameter is set to 0, the <code>StrMode</code> file is not exploited even if specified. 
</dd></dl>

<p class="noindent"><var>idmodetobeexcited-int</var> [<code>1</code>]:
     </p><dl>
<dt></dt><dd>This information is processed only when performing a linearized Euler-based aeroelastic simulation to be driven by a source term
constructed from a modal input to the underlying structure. It identifies the structural mode to be excited
by its relative position in the <code>StrModes</code> file. Again, this parameter has no effect if <code>NumStrModes</code> is set to 0. 
</dd></dl>

<p class="noindent"><var>domain-id</var> [<code>Time</code>]:

     </p><dl>
<dt><code>Time</code></dt><dd>Specifies time-domain integration of the linearized fluid equations when generating snapshots — that is, when
<code>Problem.Type</code> is set to <code>PODConstruction</code> (see <a href="#Problem">Problem</a>).

     <br></dd><dt><code>Frequency</code></dt><dd>Specifies the solution of the linearized Euler equations in the frequency-domain.

</dd></dl>

<p class="noindent"><var>ic-id</var> [<code>Displacement</code>]:

     </p><dl>
<dt><code>Displacement</code></dt><dd>Specifies that the initial disturbance (excitation) originates from a structural displacement mode. Not needed when
<var>type-id</var> is set to <code>PODConstruction</code> or to <code>PODInterpolation</code>. See <a href="#Problem">Problem</a>.

     <br></dd><dt><code>Velocity</code></dt><dd>Specifies that the initial disturbance (excitation) originates from a structural velocity mode. 
Not needed when <var>type-id</var> is set to <code>PODConstruction</code> or to <code>PODInterpolation</code>. See <a href="#Problem">Problem</a>. 
</dd></dl>

<p class="noindent"><var>amplitude-real</var> [<code>1.0</code>]:
     </p><dl>
<dt></dt><dd>Amplification factor for the time-domain initial excitation specified by <code>ExcMode</code>. 
</dd></dl>

<p class="noindent"><var>frequencystep-real</var> [<code>0</code>]:
     </p><dl>
<dt></dt><dd>This variable specifies the reduced frequency stepping for the snapshots when
constructing a POD basis in the frequency-domain. The first considered reduced frequency
is always set to zero. The total number of considered reduced frequencies is given by
<code>MaxIts</code> of the <code>Time</code> object (see <a href="#Time">Time</a>). 
</dd></dl>

<p class="noindent"><var>finitedifferenceepsilon-real</var> [<code>1e-4</code>]:
     </p><dl>
<dt></dt><dd>Perturbation parameter used for generating by finite-differencing some of the terms governing
the linearized fluid equations. 
</dd></dl>

<p class="noindent"><var>eigensolvertolerance-real</var> [<code>1e-8</code>]:
     </p><dl>
<dt></dt><dd>Tolerance for the convergence criterion used in the solution of eigen problems associated with the generation
of a POD basis. 
</dd></dl>

<p class="noindent"><var>numberPODmodes-int</var> [<code>0</code>]:
     </p><dl>
<dt></dt><dd>When constructing a POD basis directly or by interpolation, this parameter specifies the number of POD modes to be constructed
or interpolated between two POD basis vectors. See <a href="#Problem">Problem</a>. In direct mode, <code>NumPOD</code> must be smaller
than <code>StrModes</code>*(2*<code>MaxIts</code> + 1). In interpolation mode,
<code>NumPOD</code> must be smaller or equal to the common size of the two existing POD basis vectors input
in <code>PODData</code> (see <a href="#Input">Input</a>). When constructing a ROM, this parameter specifies the first
so-many POD basis vectors to use among those specified in <code>PODData</code> (see <a href="#Input">Input</a>). 
</dd></dl>

<p class="noindent"><var>gamreducedfrequency1-real</var> [<code>---</code>]:
     </p><dl>
<dt></dt><dd>Specifies a reduced frequency for which to construct a generalized aerodynamic and/or aerodynamic force matrix. 
<i>This reduced frequency must be defined with respect to the reference length specified in <a href="#ReferenceState">ReferenceState</a></i>. 
Up to 20 different reduced frequency values can be specified for this purpose using similar member names that differ
only by their integer identifiers which may range from 1 to 20. 
</dd></dl>

<p class="noindent"><var>eigenaeroelasticmaximumiterations-int</var> [<code>10</code>]:
     </p><dl>
<dt></dt><dd>Maximum number of iterations for the complex eigenvalue analysis of a linearized aeroelastic system represented by a
generalized aerodynamic force matrix. 
</dd></dl>

<p class="noindent"><var>eigenaeroelasticsolvertolerance-real</var> [<code>1e-4</code>]:
     </p><dl>
<dt></dt><dd>Tolerance for the convergence criterion used in the complex eigenvalue analysis of a linearized aeroelastic system represented
by a generalized aerodynamic force matrix. 
</dd></dl>

<p class="noindent"><code>Pade</code>:
     </p><dl>
<dt></dt><dd>Sets the parameters of the Pade-based reconstruction 
strategy for accelerating the computation of the snapshots during the 
construction of a POD basis in
the frequency domain. 
</dd></dl>
Notes:
     <ol start="1" type="1">
<li>currently, AERO-FL performs space-discretization using only the second-order MUSCL scheme;
</li><li>currently, AERO-FL computes the gradient of the flux vector with respect to the fluid state vector
using only the exact method, and all gradients with respect to mesh motion using finite differencing;
</li><li>currently, AERO-FL performs time-discretization using only the implicit three-point backward difference scheme for the fluid,
the implicit midpoint rule for the structure, the A6 staggered procedure for their coupling (see the <b>AERO-S</b> user manual), and
a constant global time-step. The implicit three-point backward difference scheme for the fluid is initialized in this case
using the explicit <code>RungeKutta2</code> scheme. As far as time-stepping is concerned, only <code>TimeStep</code> and
<code>MaxIts</code> need be set in the <code>Time</code> object (see <a href="#Time">Time</a>)
 when running AERO-FL. 
In this case, the first parameter specifies the time-step — which in 
this case is held constant because the system is linear — and the second
 one specifies the number of steps to be performed or half the
number of snapshots per modal impulse to be generated. 
However, all other commands such as the <code>Newton</code> command which contains the <code>LinearSolver</code>
object (see <a href="#Newton">Newton</a>, see <a href="#LinearSolver">LinearSolver</a>) must be specified by the user;
</li><li>currently, AERO-FL saves a constructed POD but not a 
constructed ROM. The reason is that constructing a POD is 
computationally
far more expensive than constructing a ROM.  Starting from a saved POD 
basis, AERO-FL builds a ROM on the fly and uses it to
perform a time-domain simulation. However, if the user is interested in 
outputting a ROM for usage by another code such as, for example, MATLAB,
the user can request a ROM simulation, set <code>MaxIts</code> to zero, and specify a filename in <code>Postpro.ROM</code>. In this case, the ROM is built but no
time-domain simulation is performed, and the ROM is outputted in the specified output file;
</li><li>AERO-FL's POD construction capability can also be used to 
construct a POD basis from snapshots collected during previous 
dimensional or non-dimensional
nonlinear simulations and saved in <code>Postpro.StateVector</code> (see <a href="#Postpro">Postpro</a>);

     </li><li>if <code><a href="#Problem">Problem</a>.Type</code> = <code>PODConstruction</code> and <code><a href="#Time">Time</a>.Form</code> = <code>Descriptor</code>, the computed POD basis is orthonormal with respect to the matrix of cell volumes   <img src="Aerof3d_files/img2.png" class="math-display" align="top">   (see <a href="#Time">Time</a>);
</li><li>if <code><a href="#Problem">Problem</a>.Type</code> = <code>PODConstruction</code> and <code><a href="#Time">Time</a>.Form</code> = <code>NonDescriptor</code>, the snapshot computations are performed using the descriptor form of the governing linearized fluid
equations (see <a href="#Time">Time</a>), but the computed POD basis is orthonormal with respect to the identity matrix;
</li><li>if <code><a href="#Problem">Problem</a>.Type</code> = <code>ROM</code> or <code><a href="#Problem">Problem</a>.Type</code> = <code>ROMAeroelastic</code>, and <code><a href="#Time">Time</a>.Form</code> = <code>Descriptor</code>,
 the descriptor form of the governing linearized fluid equations is
reduced by the specified POD basis, which leads to a ROM that does not 
suffer from the potential ill-conditioning of the matrix of cell volumes
   <img src="Aerof3d_files/img2.png" class="math-display" align="top">   (see <a href="#Time">Time</a>);
</li><li>if <code><a href="#Problem">Problem</a>.Type</code> = <code>ROM</code> or <code><a href="#Problem">Problem</a>.Type</code> = <code>ROMAeroelastic</code>, and <code><a href="#Time">Time</a>.Form</code> = <code>NonDescriptor</code>,
 the non descriptor form of the governing linearized fluid equations is
reduced by the specified POD basis, which leads to a ROM that may suffer
 from the potential ill-conditioning of the matrix of cell volumes   <img src="Aerof3d_files/img2.png" class="math-display" align="top">   (see <a href="#Time">Time</a>)
 and become
unstable. Therefore, it is currently recommended to always use the 
descriptor form of the equations to be reduced when constructing a POD 
basis or a ROM.

     </li></ol>

<ul class="menu">
<li><a accesskey="1" href="#Pade">Pade</a>
</li></ul>
<!--  -->
<!-- Pade object -->
<!--  -->

<div class="node">
<a name="Pade"></a>
<p></p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#Linearized">Linearized</a>

</div>

<h4 class="subsection">4.22.1 PADE-BASED RECONSTRUCTION OF SNAPSHOTS</h4>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Pade</b>
</td></tr></tbody></table>

</p><p>When constructing a POD basis in the frequency domain, snapshots 
are computed by sweeping over a set of reduced frequencies
and solving for each one of them a system of equations with multiple 
right-sides (one right-side per applied structural vibration mode). 
These frequencies, which are determined by the parameters <code>Linearized.FreqStep</code> and <code>Time.MaxIts</code>,
are referred to here as the "fine reduced frequency points" by analogy 
with a "fine grid". 
The snapshot computation can be expedited by a reconstruction strategy 
that can be described as follows. 
The user can specify up to 11 coarse reduced frequency points referred 
to here as the "coarse reduced frequency points", by analogy with a 
"coarse grid". 
Then, the snapshots and their successive reduced frequency derivatives 
are computed at these coarse reduced frequency points only, for all 
specified
structural vibration modes, and reconstructed on the fine reduced 
frequency points using a multi-point Pade approximation scheme. 
For each coarse reduced frequency point, the successive reduced 
frequency derivatives of the snapshots can be obtained by solving the
same system of equations governing the snapshot itself but with  a 
different right-side. Hence, the reconstruction strategy described here
is most effective when the chosen iterative solver is tailored for 
systems of equations with multiple right-sides. For this reason,
this Pade-based frequency sweep strategy can be activated only when the 
linear, Krylov-based, iterative solver is Gcr (see <a href="#LinearSolver">LinearSolver</a>).

</p><p>Furthermore, the polynomial degrees <var>L</var> and <var>M</var>
 of the numerator and denominator of the Pade approximation, 
respectively, must be chosen so that
L+M+1 is a multiple of the number of coarse reduced frequency points 
used at one-time, in order to have a constant number of right-sides per 
coarse reduced
frequency point.

</p><p>The syntax of the <code>Pade</code> object is :

</p><pre class="example">     under Pade {
     Freq1 = <var>freq1-real</var>;
     Freq2 = <var>freq2-real</var>;
     Freq3 = <var>freq3-real</var>;
     Freq4 = <var>freq4-real</var>;
     .;
     .;
     .;
     Freq11 = <var>freq11-real</var>;
     L = <var>numeratordegree-int</var>;
     M = <var>denominatordegree-int</var>;
     NumPoints = <var>nptspade-int</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>freq1-real</var> [<code>-1</code>]:
     </p><dl>
<dt></dt><dd>Value for the first coarse reduced frequency point. 
</dd></dl>

<p class="noindent"><var>numeratordegree-int</var> [<code>3</code>]:
     </p><dl>
<dt></dt><dd>Degree of the polynomial in the numerator of the Pade approximation. 
</dd></dl>

<p class="noindent"><var>denominatordegree-int</var> [<code>4</code>]:
     </p><dl>
<dt></dt><dd>Degree of the polynomial in the denominator of the Pade approximation.

     <p class="noindent"><var>nptspade-int</var> [<code>0</code>]:
          </p><dl>
<dt></dt><dd>Number of coarse frequency points exploited at one-time in each Pade approximation. 
</dd></dl>
     </dd></dl>
Note:
     <ol start="1" type="1">
<li>the coarse reduced frequency points must be specified in ascending order.
     </li></ol>
<!--  -->
<!-- Sensitivity Analysis object -->
<!--  -->
<div class="node">
<a name="SensitivityAnalysis"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#AcousticPressure">AcousticPressure</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Linearized">Linearized</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.23 SENSITIVITY ANALYSIS</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>SensitivityAnalysis</b>
</td></tr></tbody></table>

</p><p>When <code><a href="#Problem">Problem</a>.Type</code> is set to <code>SteadySensitivityAnalysis</code> or <code>SteadyAeroelasticSensitivityAnalysis</code>, the user can request
in the object <a href="#Postpro">Postpro</a> the computation and output of sensitivities (gradients) of aerodynamic-related
quantities   <img src="Aerof3d_files/img275.png" class="math-display" align="top">   with respect to a speficied set of flow and/or shape parameters   <img src="Aerof3d_files/img23.png" class="math-display" align="top">  , at a steady-state fluid or aeroelastic
solution specified in <code><a href="#Input">Input</a>.Solution</code> (see <a href="#Sensitivities">Sensitivities</a>). The object <a href="#SensitivityAnalysis">SensitivityAnalysis</a>
is used to set the parameters of the underlying sensitivity analysis.

</p><p>The mostly aerodynamic quantities   <img src="Aerof3d_files/img275.png" class="math-display" align="top">   for which <b>AERO-F</b> can evaluate sensitivities   <img src="Aerof3d_files/img276.png" class="math-display" align="top"> 

at a specified steady-state flow or aeroelastic solution are (see <a href="#Postpro">Postpro</a>):

     </p><ol start="1" type="1">
<li>The aerodynamic forces and moments. 
</li><li>The nodal density values. 
</li><li>The nodal velocity values. 
</li><li>The nodal Mach number values. 
</li><li>The nodal temperature values. 
</li><li>The nodal pressure values. 
</li><li>The nodal total pressure values. 
</li><li>The nodal fluid state-vector (conservative variables) values. 
</li><li>The nodal mesh displacement values if <code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>, or the nodal displacement values of the embedded discrete surface if <code><a href="#Problem">Problem</a>.Framework</code> = <code>Embedded</code>.
     </li></ol>

<p>The parameters   <img src="Aerof3d_files/img23.png" class="math-display" align="top">   with respect to which <b>AERO-F</b> can compute sensitivities   <img src="Aerof3d_files/img276.png" class="math-display" align="top">   at
a specified steady-state flow or aeroelastic solution are:

     </p><ol start="1" type="1">
<li>The free-stream Mach number. 
</li><li>The free-stream angle of attack. 
</li><li>The free-stream sideslip angle. 
</li><li>One or several shape parameters (of the obstacle). 
</li><li>One or several structural thicknesses (in the case of a specified steady-state aeroelastic solution).
     </li></ol>

<p>Notes:
     </p><ol start="1" type="1">
<li>currently, the computation of the sensitivities by the direct 
approach can be performed only when the fluid is modeled as a perfect 
gas, and if turbulence modeling is performed, the modified form of
      the Spalart-Allmaras turbulence model, the Detached Eddy 
Simulation (DES) model, or the   <img src="Aerof3d_files/img40.png" class="math-display" align="top">  -  <img src="Aerof3d_files/img42.png" class="math-display" align="top">   turbulence model (see <a href="#TurbulenceModel">TurbulenceModel</a>)
 is used for this purpose; however for the first two turbulence models,
      the effect of the parameter distance to the wall is not accounted 
for and therefore the sensitivities may not be accurate when this effect
 is significant;
</li><li>currently, the sensitivity analysis can be performed by the 
adjoint method only in the absence of turbulence modeling, and when the 
fluid is modeled as a perfect gas;
</li><li>in this context, <code><a href="#Problem">Problem</a>.Type</code> must be set to <code>SteadySensitivityAnalysis</code> or <code>SteadyAeroelasticSensitivityAnalysis</code>,
      <code><a href="#Problem">Problem</a>.Mode</code> must be set to <code>Dimensional</code>, <code><a href="#FarField">FarField</a>.Type</code>
      must be set to <code>StegerWarming</code>, and <code><a href="#MeshMotion">MeshMotion</a>.Type</code> must be set to <code>Basic</code>;
</li><li>performing a sensitivity analysis requires specifying a mesh motion algorithm in <a href="#MeshMotion">MeshMotion</a> in order to determine
      the interior components of the mesh shape gradients (see <a href="#Sensitivities">Sensitivities</a>);
</li><li>also in this context, the linearized fluid system of equations and the mesh motion equation must be solved very precisely
      (see <a href="#Sensitivities">Sensitivities</a>);
</li><li>in the presence of a low-mach preconditioner, <b>AERO-F</b> automatically sets <code><a href="#Implicit">Implicit</a>.MatrixVectorProduct</code>
      and <code><a href="#Implicit">Implicit</a>.FiniteDifferenceOrder</code> to <code>FiniteDifference</code> and 2, respectively, for the purpose of
      sensitivity analysis;
</li><li>in the presence of turbulence modeling, <b>AERO-F</b> automatically sets <code><a href="#Implicit">Implicit</a>.TurbulenceModelCoupling</code>
      to <code>Strong</code> and <code><a href="#Implicit">Implicit</a>.MatrixVectorProduct</code> to <code>FiniteDifference</code> for the purpose of sensitivity analysis;
</li><li>when <code><a href="#Implicit">Implicit</a>.MatrixVectorProduct</code> is set to <code>Approximate</code>, <b>AERO-F</b> automatically changes
      this setting to <code>FiniteDifference</code> for the purpose of sensitivity analysis.
</li><li style="color:red;"> For viscous simulations, the Parameter <code>BoundaryConditions.Wall.Integration</code> must be set to "Full". If it is set to "<code>WallFunction</code>", the code will segfault.
</li><li style="color:red;"> <code>SensitivityAnalysis.MatrixVectorProduct</code> can only be set to "Approximate. Otherwise the code will segfault.".
      </li></ol>

<pre class="sp">
</pre>

The syntax of the object <code>SensitivityAnalysis</code> is:

<pre class="example">     under SensitivityAnalysis{
       Method = <var>method-id</var>;
       SparseApproach = <var>sparseapproach-flag</var>;
       SensitivityComputation = <var>sensitivitycomputation-id</var>;
       SensitivityMesh = <var>sensitivitymesh-flag</var>;
       SensitivityMach = <var>sensitivityMach-flag</var>;
       SensitivityAlpha = <var>sensitivityalpha-falg</var>;
       SensitivityBeta = <var>sensitivitybeta-flag</var>;
       SensitivityFSI = <var>sensitivityfsi-flag</var>;
       AdaptiveEpsFSI = <var>adaptiveepsfsi-flag</var>;
       EpsFD = <var>epsfd-real</var>;
       <var style="color:red;">MatrixVectorProduct </var>= <var style="color:red;">mvp-flag</var>;
       <var style="color:red;">SparseComputation </var>= <var style="color:red;">sparse-flag</var>;
       MatrixVectorProduct = <var>mvp-flag</var>;
       under LinearSolver{ ... }
     }
</pre>
<p>with


<p class="noindent" style="color:red;"><var>mvp-flag</var> [<code>Off</code>]
     </p><dl>
<dt><code style="color:red;">FiniteDifference(FD)</code></dt><dd style="color:red;">requests the computation of the Matrix-Vecotr products by using a Finite Differrence method. Currenty the transpose matrix vector product is not implemented for FD. Therefore this option is not supported.
<dt><code style="color:red;">Approximate(H1)</code></dt><dd style="color:red;">This will be completly ignored and FD will be performed.
<dt><code style="color:red;">Exact(H2)</code></dt><dd style="color:red;">requests the computation of the Matrix-Vecotr products by using the exact Jacobian.
<dt><code style="color:red;">ApproximateFiniteDifference(H1FD)</code></dt><dd style="color:red;">This will be completly ignored and FD will be performed.
 
<!--<br></dd><dt><code>On</code></dt><dd>blub. -->
</dd></dl>



<p class="noindent" style="color:red;"><var>sparse-flag</var> [<code>Off</code>]
     </p><dl>
<dt><code style="color:red;">Off(</code></dt><dd style="color:red;">Sparse Computation off
<dt><code style="color:red;">On</code></dt><dd style="color:red;">Spare computation on
 
<!--<br></dd><dt><code>On</code></dt><dd>blub. -->
</dd></dl>


</p><p class="noindent"><var>method-id</var> [<code>Direct</code>]
     </p><dl>
<dt><code>Direct</code></dt><dd>Requests the direct method for performing the sensitivity analysis. 
<br></dd><dt><code>Adjoint</code></dt><dd>Requests the adjoint method for performing the sensitivity analysis. Currently, this option is available only as follows:
          <ul>
<li>For inviscid and laminar viscous flows. 
</li><li>Using the analytical method for computing the derivatives 
appearing in the right-hand side of the linearized fluid system of 
equations
and the gradients of the aerodynamic forces and moments with respect to 
the specified flow and/or shape parameters (<var>sensitivitycomputation-id</var> = <code>Analytical</code>). 
</li><li>For computing only the sensitivities of the lift and drag, and individually. 
</li></ul>
     </dd></dl>

<p class="noindent"><var>sparseapproach-flag</var> [<code>Off</code>]
     </p><dl>
<dt><code>Off</code></dt><dd>In this case, most Jacobian matrices 
involved in the sensitivity analysis and their associated matrix-vector 
products are computed on the fly at the cell level. In general, this 
option
requires less memory but is slower than the alternative described below.
 
<br></dd><dt><code>On</code></dt><dd>In this case, most Jacobian 
matrices involved in the sensitivity analysis are computed and stored in
 a sparse format at the subdomain level. In general, this option 
requires more memory but
is faster than the alternative described above. It is automatically 
adopted by <b>AERO-F</b> when the adjoint method is chosen for performing the sensitivity analysis. 
</dd></dl>

<p><var>sensitivitycomputation-id</var> [<code>Analytical</code>]
     </p><dl>
<dt><code>Analytical</code></dt><dd>Requests the analytical computation 
of the derivatives appearing in the right-hand side of the linearized 
fluid system of equations
and of the gradients of the aerodynamic forces and moments with respect 
to the specified flow and/or shape parameters (see <a href="#Sensitivities">Sensitivities</a>). 
This option is not supported for turbulent flows modeled using the Spalart-Allmaras or DES model. It is however the only option
currently available when the adjoint method is chosen for performing the sensitivity analysis. 
<br></dd><dt><code>SemiAnalytical</code></dt><dd>Requests the 
approximation by the second-order central finite difference method of 
the derivatives appearing in the right-hand side of
the linearized fluid system of equations, and the analytical computation
 of the gradients of the aerodynamic forces and moments with
respect to the specified flow and/or shape parameters (see <a href="#Sensitivities">Sensitivities</a>). 
This option is not supported for turbulent flows modeled using the Spalart-Allmaras or DES model. 
<br></dd><dt><code>FiniteDifference</code></dt><dd>Requests the 
approximation by the second-order central finite difference method of 
the derivatives appearing in the right-hand side of
the linearized fluid system of equations and of the gradients of the 
aerodynamic forces and moments with respect to the specified
flow and/or shape parameters (see <a href="#Sensitivities">Sensitivities</a>). 
</dd></dl>

<p class="noindent"><var>sensitivitymesh-flag</var> [<code>Off</code>]
     </p><dl>
<dt><code>On</code></dt><dd>This flag setting specifies that the computation of the sensitivities requested in <a href="#Postpro">Postpro</a> be (also) performed with respect
to shape parameters   <img src="Aerof3d_files/img23.png" class="math-display" align="top">  . The user does not need to specifiy these shape parameters directly. Instead, the user should specify
in this case the wall boundary components of the mesh shape gradients in the binary file inputted in
<code><a href="#Input">Input</a>.ShapeDerivative</code> (see <a href="#Sensitivities">Sensitivities</a>). Failure to input this binary file results in
skipping the computation of the sensitivities requested in <a href="#Postpro">Postpro</a> with respect to any shape parameter. 
<br></dd><dt><code>Off</code></dt><dd>In this case, no sensitivity requested in <a href="#Postpro">Postpro</a> is computed with respect to a shape parameter. 
</dd></dl>

<p class="noindent"><var>sensitivityMach-flag</var> [<code>Off</code>]
     </p><dl>
<dt><code>On</code></dt><dd>This flag setting specifies that the computation of the sensitivities requested in <a href="#Postpro">Postpro</a> be (also) performed with respect
to the free-stream Mach number. 
<br></dd><dt><code>Off</code></dt><dd>In this case, no sensitivity requested in <a href="#Postpro">Postpro</a> is computed with respect to the free-stream Mach number. 
</dd></dl>

<p class="noindent"><var>sensitivityalpha-flag</var> [<code>Off</code>]
     </p><dl>
<dt><code>On</code></dt><dd>This flag setting specifies that the computation of the sensitivities requested in <a href="#Postpro">Postpro</a> be (also) performed with respect
to the free-stream angle of attack. 
<br></dd><dt><code>Off</code></dt><dd>In this case, no sensitivity requested in <a href="#Postpro">Postpro</a> is computed with respect to the free-stream angle of attack. 
</dd></dl>

<p class="noindent"><var>sensitivitybeta-flag</var> [<code>Off</code>]
     </p><dl>
<dt><code>On</code></dt><dd>This flag setting specifies that the computation of the sensitivities requested in <a href="#Postpro">Postpro</a> be (also) performed with respect
to the free-stream sideslip angle. 
<br></dd><dt><code>Off</code></dt><dd>In this case, no sensitivity requested in <a href="#Postpro">Postpro</a> is computed with respect to the free-stream sideslip angle. 
</dd></dl>

<p class="noindent"><var>sensitivityfsi-flag</var> [<code>Off</code>]
     </p><dl>
<dt><code>On</code></dt><dd>This flag setting specifies that the computation of the sensitivities requested in <a href="#Postpro">Postpro</a> be (also) performed with respect
to the structural parameters identified in the input file of <b>AERO-S</b>. 
<br></dd><dt><code>Off</code></dt><dd>In this case, no sensitivity requested in <a href="#Postpro">Postpro</a> is computed with respect to the structural parameters identified in the input file of <b>AERO-S</b>. 
</dd></dl>

<p class="noindent"><var>adaptiveepsfsi-flag</var> [<code>Off</code>]
     </p><dl>
This flag is relevant only for aeroelastic sensitivity computations (<code><a href="#Problem">Problem</a>.Type</code> = <code>SteadyAeroelasticSensitivityAnalysis</code>). 
<dt><code>On</code></dt><dd>In this case, at each coupled fluid-structure iteration, <code><a href="#LinearSolver">LinearSolver</a>.Eps</code> is dynamically reset (internally) to the convergence tolerance achieved in <b>AERO-S</b>
by the residual of the structural sensitivities with respect to the 
specified variables — in other words, the residual associated with the 
solution of the algebraic system
of equations governing the computed sensitivities of the fluid state 
vector is required to converge to the same precision attained at the 
current coupled fluid-structure
iteration by the residual of the structural sensitivities. 
<br></dd><dt><code>Off</code></dt><dd>In this case, at each coupled fluid-structure iteration, <code><a href="#LinearSolver">LinearSolver</a>.Eps</code> is automatically set (internally) once for all to the convergence tolerance specified
in the input file of <b>AERO-S</b> for the residual of the structural sensitivities with respect to the specified variables. 
</dd></dl>

<p class="noindent"><var>epsfd-real</var> [<code>1e-5</code>]
     </p><dl>
<dt></dt><dd>Scalar defining the magnitude of the perturbation performed when approximating a derivative by the second-order
central finite difference method. 
</dd></dl>

<p class="noindent"><code>LinearSolver</code>:
     </p><dl>
<dt></dt><dd>Specifies the linear equation solver (and its parameters) to be used for solving the
</dd></dl>

<ul class="menu">
<li><a accesskey="1" href="#LinearSolver">LinearSolver</a>
</li></ul>
<!--  -->
<!-- Object Acoustic Pressure -->
<!--  -->
<div class="node">
<a name="AcousticPressure"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SensitivityAnalysis">SensitivityAnalysis</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Objects">Objects</a>

</div>

<h3 class="section">4.24 AEROACOUSTIC ANALYSIS PARAMETERS</h3>

<p><table class="cartouche" summary="cartouche" border="1"><tbody><tr><td>
Object: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>AcousticPressure</b>
</td></tr></tbody></table>

</p><p>In an aeroacoustic analysis (<code><a href="#Problem">Problem</a>.Type = Aeroacoustic</code>), <b>AERO-F</b>
 performs the frequency-domain computation using the Kirchhoff integral 
method
of: (a) the complex-valued acoustic pressure in the far-field at 
user-specified locations, and (b) the complex-valued far-field pattern 
of the acoustic pressure field
(see <code><a href="#Probes">Probes</a>.Pressure</code>). The parameters of such an aeroacoustic analysis are set in this object whose syntax is:

</p><pre class="example">     under AcousticPressure{
       KirchhoffSurface = <var>kirchhoffsurface-id</var>;
       NyquistMaximum   = <var>nyquistmaximum-int</var>;
       Increment        = <var>increment-int</var>;
     }
</pre>
<p>with

</p><p class="noindent"><var>kirchhoffsurface-id</var> [<code>---</code>]:
     </p><dl>
<dt><code>Cylindrical</code></dt><dd>Specifies that the user-defined 
internal "Kirchhoff" surface on which the traces of a time-history of an
 unsteady pressure field are computed, saved, and Fourier-transformed
to enable the computation of the complex-valued acoustic pressure in the
 far-field and its far-field pattern has a cylindrical shape. 
<br></dd><dt><code>Spherical</code></dt><dd>Specifies that the 
user-defined internal "Kirchhoff" surface on which the traces of a 
time-history of an unsteady pressure field are computed, saved, and 
Fourier-transformed
to enable the computation of the complex-valued acoustic pressure in the
 far-field and its far-field pattern has a spherical shape. 
</dd></dl>

<p class="noindent"><var>nyquistmaximum-int</var> [2]:
     </p><dl>
<dt></dt><dd>If <var>kirchhoffsurface-id</var> = <code>Spherical</code>,
 this parameter specifies the highest degree of the spherical harmonics 
to be used for approximating the trace of the pressure field and its 
normal
derivative on the "Kirchhoff" surface. In this case, each expansion in 
spherical harmonics of these two quantities will contain a total of (<var>nyquistmaximum-int</var> + 1)  <img src="Aerof3d_files/img277.png" class="math-display" align="top">
   terms. 
Otherwise, this parameter specifies the highest degree of the 
trigonometric polynomials to be used for approximating the trace of the 
pressure field and its normal
derivative on the "Kirchhoff" surface. In this other case, each 
expansion in trigonometric polynomials will contain <var>nyquistmaximum-int</var> terms. 
</dd></dl>

<p class="noindent"><var>increment-int</var> [10]:
     </p><dl>
<dt></dt><dd>Specifies the number of longitudinal directions where to 
evaluate and output the far-field pattern of the acoustic pressure (see <code><a href="#Probes">Probes</a>.FarfieldPattern</code>). 
In this case, ((<var>increment-int</var>/2)+1) latitudinal directions are also considered and therefore the far-field pattern is evaluated and outputted at
((<var>increment-int</var>/2)+1)*<var>increment-int</var> points uniformly distributed in spherical coordinates. 
</dd></dl>

<!-- ========================================================================= -->
<!-- Examples -->
<!-- ========================================================================= -->
<div class="node">
<a name="Examples"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Running-Aero_002dF">Running Aero-F</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Objects">Objects</a>

</div>

<h2 class="chapter">5 EXAMPLES</h2>

<ul class="menu">
<li><a accesskey="1" href="#Steady-flow-computation">Steady flow computation</a>
</li><li><a accesskey="2" href="#Unsteady-aeroelastic-computation">Unsteady aeroelastic computation</a>
</li><li><a accesskey="3" href="#Full-order-linearized">Full order linearized</a>
</li><li><a accesskey="4" href="#POD-basis">POD basis</a>
</li><li><a accesskey="5" href="#ROM-simulation">ROM simulation</a>
</li></ul>
<!--  -->
<!-- Steady flow computation -->
<!--  -->

<div class="node">
<a name="Steady-flow-computation"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Unsteady-aeroelastic-computation">Unsteady aeroelastic computation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Examples">Examples</a>

</div>

<h3 class="section">5.1 STEADY FLOW COMPUTATION</h3>

<p>First, the computation of a steady-state inviscid flow around a three-dimensional
wing is examplified.

</p><pre class="format"><code>
/* ----------------------------
   File ``wing.steady''
---------------------------- */

under Problem {
  Type = Steady;
  Mode = NonDimensional;
}

under Input {
  Prefix = "data/";
  Connectivity = "wing.con";
  Geometry = "wing.msh";
  Decomposition = "wing.dec";
  CpuMap = "wing.4cpu";
}

under Output {
  under Postpro {
    Prefix = "result/";
    Residual = "wing.res";
    Force = "wing.lift";
    Mach = "wing.mach";
    Frequency = 0;
  }
  under Restart {
    Prefix = "result/";
    Solution = "wing.sol";
    RestartData = "wing.rst";
    Frequency = 0;
  }
}

Equations.Type = Euler;

under BoundaryConditions {
  under Inlet {
    Mach = 0.5;
    Alpha = 0.0;
    Beta = 0.0;
  }
}

under Space {
  under NavierStokes {
    Reconstruction = Linear;
    Gradient = Galerkin;
  }
}

under Time {
  MaxIts = 10;
  Eps = 1.e-6;
  Cfl0 = 10.0;
  CflMax = 1.e99;
  Ser = 1.0;
  under Implicit {
    MatrixVectorProduct = FiniteDifference;
    under Newton {
      MaxIts = 1;
      under LinearSolver {
        under NavierStokes {
          Type = Gmres;
          MaxIts = 30;
          KrylovVectors = 30;
          Eps = 0.05;
          Preconditioner.Type = Ras;
        }
      }
    }
  }
}
</code>
</pre>
<!--  -->
<!-- Unsteady aeroelastic computation -->
<!--  -->
<div class="node">
<a name="Unsteady-aeroelastic-computation"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Full-order-linearized">Full order linearized</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Steady-flow-computation">Steady flow computation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Examples">Examples</a>

</div>

<h3 class="section">5.2 UNSTEADY AEROELASTIC COMPUTATION</h3>

<p>Next, the aeroelastic computation of an inviscid flow around a three-dimensional
wing is examplified.

</p><pre class="format"><code>
/* ----------------------------
   File ``wing.aero''
---------------------------- */

Problem.Type = UnsteadyAeroelastic;

under Input {
  Prefix = "data/";
  Connectivity = "wing.con";
  Geometry = "wing.msh";
  Decomposition = "wing.dec";
  CpuMap = "wing.4cpu";
  Matcher = "wing.match";
  Solution = "pingpong/wing.sol";
  Position = "pingpong/wing.pos";
}

under Output {
  under Postpro {
    Prefix = "result/";
    Force = "wing.lift";
    Mach = "wing.mach";
    Displacement = "wing.disp";
    Frequency = 10;
  }
  under Restart {
    Prefix = "result/";
    Solution = "wing.sol";
    Position = "wing.pos";
    RestartData = "wing.rst";
  }
}

Equations.Type = Euler;

under BoundaryConditions {
  under Inlet {
    Mach = 0.901;
    Alpha = 0.0;
    Beta = 0.0;
    Density = 1.117e-7;
    Pressure = 11.0;
  }
}

under Space {
  under NavierStokes {
    Reconstruction = Linear;
    Limiter = VanAlbada;
    Gradient = Galerkin;
    Beta = 0.3333333;
  }
}

under Time {
  Cfl0 = 1.e5;
  CflMax = 1.e5;
  under Implicit {
    Type = ThreePointBackwardDifference;
    MatrixVectorProduct = Approximate;
    under Newton {
      MaxIts = 2;
      Eps = 0.01;
      under LinearSolver {
        under NavierStokes {
          Type = Gmres;
          MaxIts = 30;
          KrylovVectors = 30;
          Eps = 0.01;
          Preconditioner.Type = Ras;
        }
      }
    }
  }
}

under MeshMotion {
  Type = Basic;
  Element = TorsionalSprings;
  under Newton {
    MaxIts = 1;
    under LinearSolver {
      Type = Cg;
      MaxIts = 50;
      Eps = 0.001;
      Preconditioner.Type = Jacobi;
    }
  }
}
</code>
</pre>
<!--  -->
<!-- Full-order linearized aeroelastic computation -->
<!--  -->
<div class="node">
<a name="Full-order-linearized"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#POD-basis">POD basis</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Unsteady-aeroelastic-computation">Unsteady aeroelastic computation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Examples">Examples</a>

</div>

<h3 class="section">5.3 FULL-ORDER LINEARIZED AEROELASTIC COMPUTATION</h3>

<p>Next, the full-order linearized aeroelastic computation of an inviscid flow around a three-dimensional
wing is examplified.

</p><pre class="format"><code>
/* ----------------------------
   File ``wing.full''
---------------------------- */
under Problem {
  Type = UnsteadyLinearized;
  Mode = Dimensional;
}

under Input {
  Prefix = "InputFiles.d/";
  Connectivity = "pp.con";
  Geometry = "pp.msh";
  Decomposition = "pp.dec";
  CpuMap = "pp.4cpu";

  Perturbed = "agard.m0.678.deformed.lsq.steady.sol";
  Solution = "agard.m0.678.nodisp.lsq.steady.sol";
  Position = "agard.undisp.pp.pos";
}

under Output {
  under Postpro {
    Prefix = "";
    Force = "liftfull4.m0.678.p34_5";
    Frequency = 1;
  }
}

under Linearized{
  StrModes = "modes1.pp";
  NumStrModes = 4;
  ExcMode = 1;
  Domain = Time;
  Amplification = 0.1;
  Eps = 1e-4;
}

under Equations {
  Type = Euler;
}

under BoundaryConditions {
  under Inlet {
    Mach = 0.678;
    Density = 2.338e-7;
    Pressure = 34.5;
    Alpha = 0.0;
    Beta = 0.0;
  }
}

under Space  {
  under NavierStokes {
    Reconstruction = Linear;
    Limiter = VanAlbada;
    Gradient = LeastSquares;
    Beta = 0.33333333;
  }
}

under Time {
  Type = Implicit;
  TypeTimeStep = Global;
  TimeStep = .001;
  MaxIts = 200;
  Eps = 1.e-8;
  under Implicit {
    MatrixVectorProduct = Exact;

    under Newton {
      MaxIts = 1;
      Eps = 0.0001;
      under LinearSolver {
        under NavierStokes {
          Type = Gmres;
          MaxIts = 100;
          KrylovVectors = 100;
          Eps = 0.0001;
	  Output = "stdout";
	  under Preconditioner { Type = Ras; Fill = 0; }
        }
      }
    }
  }
}
</code>
</pre>
<!--  -->
<!-- Constructing a POD basis -->
<!--  -->
<div class="node">
<a name="POD-basis"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ROM-simulation">ROM simulation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Full-order-linearized">Full order linearized</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Examples">Examples</a>

</div>

<h3 class="section">5.4 CONSTRUCTING A POD BASIS</h3>

<p>Next, the construction of a POD basis in the frequency-domain for a three-dimensional
wing operating at M = 0.901 is examplified.

</p><pre class="format"><code>
/* ----------------------------
   File ``wing.pod''
---------------------------- */
under Problem {
  Type = PODConstruction;
  Mode = Dimensional;
}

under Input {
  Prefix = "InputFiles.d/";
  Connectivity = "pp.con";
  Geometry = "pp.msh";
  Decomposition = "pp.dec";
  CpuMap = "pp.4cpu";

  Solution = "agard.m0.901.nodisp.lsq.steady.sol";
  Position = "agard.undisp.pp.pos";
}

under Output {
  under Postpro {
    Prefix = "";
    Frequency = 0;
    PodData = "PodData.d/podVecs4.freq0.901.df5e3.150snap.400pod";
  }
}

under Linearized{
  StrModes = "modes1.pp";
  NumStrModes = 4;
  Domain = Frequency;
  FreqStep = 0.005;
  Eps = 1e-5;
  NumPOD = 400;
}

under Equations {
  Type = Euler;
}

under BoundaryConditions {
  under Inlet {
    Mach = 0.901;
    Density = 1.117e-7;
    Pressure = 5.0;
    Alpha = 0.0;
    Beta = 0.0;
  }
}

under Space  {
  under NavierStokes {
    Reconstruction = Linear;
    Gradient = LeastSquares;
    Beta = 0.33333333;
  }
}

under Time  {
  Type = Implicit;
  TypeTimeStep = Global;
  TimeStep = 4.0e-5;
  MaxIts = 151;
  Eps = 1.e-8;
  under Implicit {
    MatrixVectorProduct = Exact;

    under Newton {
      MaxIts = 1;
      Eps = 1e-8;
      under LinearSolver {
        under NavierStokes {
          Type = Gmres;
          MaxIts = 100;
          KrylovVectors = 100;
          Eps = 0.0001;
	  Output = "stdout";
	  under Preconditioner { Type = Ras; Fill = 0; }
        }
      }
    }
  }
}
</code>
</pre>
<!--  -->
<!-- Reduced-order (ROM) aeroelastic computation -->
<!--  -->
<div class="node">
<a name="ROM-simulation"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#POD-basis">POD basis</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Examples">Examples</a>

</div>

<h3 class="section">5.5 REDUCED-ORDER AEROELASTIC COMPUTATION</h3>

<p>Next, a ROM aeroelastic computation of a wing operating at M = 0.800 is examplified.

</p><pre class="format"><code>
/* ----------------------------
   File ``wing.rom''
---------------------------- */
under Problem {
  Type = ROMAeroelastic;
  Mode = Dimensional;
}

under Input {
  Prefix = "InputFiles.d/";
  Connectivity = "pp.con";
  Geometry = "pp.msh";
  Decomposition = "pp.dec";
  CpuMap = "pp.4cpu";

  Perturbed = "agard.m0.800.deformed.lsq.steady.sol";
  Solution = "agard.m0.800.nodisp.lsq.steady.sol";
  Position = "agard.undisp.pp.pos";

  PodData = "../PodData.d/podVecs4.m0.800.dt4e5.225snap.300pod";
}

under Output {
  under Postpro {
    Prefix = "";
    Force = "liftrom.freq800.30snap.50of100pod.p7";
    Frequency = 1;
  }
}

under Linearized{
  StrModes = "modes1.pp";
  NumStrModes = 4;
  ExcMode = 1;
  Amplification = 0.1;
  Eps = 1e-4;
  NumPOD = 300;
}

under Equations {
  Type = Euler;
}

under BoundaryConditions {
  under Inlet {
    Mach = 0.800;
    Density = 1.117e-7;
    Pressure = 10.0;
    Alpha = 0.0;
    Beta = 0.0;
  }
}

under Space  {
  under NavierStokes {
    Flux = Roe;
    Reconstruction = Linear;
    Gradient = LeastSquares;
    Beta = 0.33333333;
  }
}

under Time  {
  Type = Implicit;
  TypeTimeStep = Global;
  TimeStep = .001;
  MaxIts = 500;
  Eps = 1.e-8;
  under Implicit {
    MatrixVectorProduct = Exact;

    under Newton {
      MaxIts = 1;
      Eps = 1e-8;
      under LinearSolver {
        under NavierStokes {
          Type = Gmres;
          MaxIts = 100;
          KrylovVectors = 100;
          Eps = 0.0001;
	  under Preconditioner { Type = Ras; Fill = 0; }
        }
      }
    }
  }
}
</code>
</pre>
<!-- ========================================================================= -->
<!-- Running AERO-F -->
<!-- ========================================================================= -->
<div class="node">
<a name="Running-Aero-F"></a>
<a name="Running-Aero_002dF"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Running-AERO_002dFL">Running AERO-FL</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Examples">Examples</a>

</div>

<h2 class="chapter">6 RUNNING AEROF</h2>

<p>AERO-F has no graphical interface. It is a command-line driven
program that reads a problem definition file once at the beginning of the
processing. This problem definition file is a regular ASCII text file
(see <a href="#Object-oriented-input">Object oriented input</a>).

</p><p>Calls for simulations involving only AERO-F look like

</p><pre class="example">     mpirun [<var>host_name</var>] <var>nb_cpus</var> aerof <var>filename</var>
</pre>
<p class="noindent">where <var>host_name</var> is the (optional) name of the computer on which the job is executed,
<var>number_cpus</var> is the number of processes allocated for the job, and <var>filename</var>
is the ASCII file containing the problem definition.

</p><p>Aeroelastic and aerothermal simulations require the interaction of AERO-F with
a structural code. If AERO-S or AERO-H is used for that purpose,
aeroelastic and aerothermal calls look like

</p><pre class="example">     mpirun [<var>fluid_host_name</var>] <var>fluid_nb_cpus</var> aerof <var>fluid_filename</var> :
     [<var>struct_host_name</var>] <var>struct_nb_cpus</var> aeros <var>struct_filename</var>
</pre>
<p>If the above syntax is not supported by your MPI implementation, the same simulation
can be started with

</p><pre class="example">     mpirun [<var>host_name</var>] <var>total_nb_cpus</var> loader <var>fluid_nb_cpus</var> aerof.so <var>fluid_filename</var> ,
     <var>struct_nb_cpus</var> aeros.so <var>struct_filename</var>
</pre>
<!-- Aerothermoelastic simulations require the interaction of @value{AEROF-NAME} with -->
<!-- a structural code and a heat transfer code. If @value{FEM-NAME} and @value{AEROH-NAME} -->
<!-- are used for that purpose, aerothermoelastic calls look like -->
<!-- @example -->
<!-- mpirun [@var{fluid_host_name}] @var{fluid_nb_cpus} @value{AEROF-EXE} @var{fluid_filename} : -->
<!-- [@var{struct_host_name}] @var{struct_nb_cpus} @value{FEM-EXE} @var{struct_filename} : -->
<!-- [@var{heat_host_name}] @var{heat_nb_cpus} @value{AEROH-EXE} @var{heat_filename} -->
<!-- @end example -->
<!-- If the above syntax is not supported by your MPI implementation, the same simulation -->
<!-- can be started with -->
<!-- @example -->
<!-- mpirun [@var{host_name}] @var{total_nb_cpus} @value{AEROL-EXE} @var{fluid_nb_cpus} @value{AEROF-DSO} @var{fluid_filename} , -->
<!-- @var{struct_nb_cpus} @value{FEM-DSO} @var{struct_filename} , @var{heat_nb_cpus} @value{AEROH-DSO} @var{heat_filename} -->
<!-- @end example -->
<ul class="menu">
<li><a accesskey="1" href="#ExampleSteadyFlowComputation">ExampleSteadyFlowComputation</a>
</li><li><a accesskey="2" href="#ExampleUnsteadyFlowComputation">ExampleUnsteadyFlowComputation</a>
</li><li><a accesskey="3" href="#ExampleForcedOscillationsComputation">ExampleForcedOscillationsComputation</a>
</li><li><a accesskey="4" href="#ExampleUnsteadyAeroelasticComputation">ExampleUnsteadyAeroelasticComputation</a>
</li></ul>
<!--  -->
<!-- Example steady flow computation -->
<!--  -->

<div class="node">
<a name="ExampleSteadyFlowComputation"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ExampleUnsteadyFlowComputation">ExampleUnsteadyFlowComputation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Running-Aero_002dF">Running Aero-F</a>

</div>

<h3 class="section">6.1 STEADY FLOW COMPUTATION</h3>

<p>A steady-state flow computation is selected by setting <code>Problem.Type = Steady</code>. By default,
the computation starts from a uniform flowfield around the undeformed configuration. To modify
this behavior, <code>Input.Solution</code> and <code>Input.Position</code> must be set to some appropriate values. 
The other critical variables to watch for are the total number of time-steps
(<code>Time.MaxIts</code>), the spatial residual relative decrease (<code>Time.Eps</code>),
and the inital and maximum CFL numbers (<code>Time.Cfl0</code> and <code>Time.CflMax</code>). 
As a first-order time-integrator is always selected for steady-state computations, only one Newton
iteration (<code>Time.Implicit.Newton.MaxIts</code>) should be performed at every time-step. 
<!--  -->
<!-- Example unsteady flow computation -->
<!--  -->

</p><div class="node">
<a name="ExampleUnsteadyFlowComputation"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ExampleForcedOscillationsComputation">ExampleForcedOscillationsComputation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ExampleSteadyFlowComputation">ExampleSteadyFlowComputation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Running-Aero_002dF">Running Aero-F</a>

</div>

<h3 class="section">6.2 UNSTEADY FLOW COMPUTATION</h3>

<p>An unsteady flow computation is selected by setting <code>Problem.Type = Unsteady</code>. By default,
the computation starts from a uniform flowfield around the undeformed configuration. To modify
this behavior, <code>Input.Solution</code> and <code>Input.Position</code> must be set to some appropriate values. 
The other critical variables to watch for are the time-step (<code>Time.TimeStep</code>)
or alternatively the CFL strategy, the maximum number of time-steps and the maximum time
(<code>Time.MaxIts</code> and <code>Time.MaxTime</code>), and the type of time-integrator
(<code>Time.Implicit.Type</code>). At least two Newton iterations
(<code>Time.Implicit.Newton.MaxIts</code>) should be performed at every time-step to preserve
the accuracy of the time-integrator. 
<!--  -->
<!-- Example forced oscillations computation -->
<!--  -->

</p><div class="node">
<a name="ExampleForcedOscillationsComputation"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ExampleUnsteadyAeroelasticComputation">ExampleUnsteadyAeroelasticComputation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ExampleUnsteadyFlowComputation">ExampleUnsteadyFlowComputation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Running-Aero_002dF">Running Aero-F</a>

</div>

<h3 class="section">6.3 FORCED OSCILLATIONS COMPUTATION</h3>

<p>A forced oscillations computation is selected by setting <code>Problem.Type = Forced</code>. In addition
to what applies to an unsteady flow computation (see <a href="#ExampleUnsteadyFlowComputation">ExampleUnsteadyFlowComputation</a>), the
critical variables to watch for are the forced oscillations parameters (<code>Forced</code>)
and the mesh motion algorithm (<code>MeshMotion</code>). During such a flow computation, the shape
of the obstacle shape is varied between the final shape (<code>Forced.Position</code>) and its
symmetric position with respect to the original shape. Note that the computation starts
from the original shape. The latter that can be generated by a “ping-pong” step
(see <a href="#ExampleUnsteadyAeroelasticComputation">ExampleUnsteadyAeroelasticComputation</a>). 
<!--  -->
<!-- Example unsteady aeroelastic computation -->
<!--  -->

</p><div class="node">
<a name="ExampleUnsteadyAeroelasticComputation"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ExampleForcedOscillationsComputation">ExampleForcedOscillationsComputation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Running-Aero_002dF">Running Aero-F</a>

</div>

<h3 class="section">6.4 UNSTEADY AEROELASTIC COMPUTATION</h3>

<p>Aeroelastic computations using AERO-F require the additional usage of a
structure solver that is equipped to communicate with this flow solver, and a
fluid-structure preprocessor that is capable of generating the data structures
necessary for exchanging aeroelastic data between the fluid and structural codes. 
If AERO-S and MATCHER are used for that purpose, an aeroelastic
simulation is usually (but not necessarily) carried out in the following three steps:

     </p><ol start="1" type="1">
<li>a “ping-pong” step to transmit to AERO-F the initial deformation of the
flexible obstacle. This step is performed like a true aeroelastic computation (see below)
and is requested by setting the AERO command in the AERO-S input file to PP. 
The critical variables to watch for are the mesh motion algorithm (<code>MeshMotion</code>)
and the position of the deformed obstacle (<code>Output.Restart.Position</code>) that will be
needed for the next two steps;

     </li><li>a steady-state flow computation around the deformed obstacle configuration
(see <a href="#ExampleSteadyFlowComputation">ExampleSteadyFlowComputation</a>). This is a recommended but not mandatory
step of an aeroelastic simulation;

     </li><li>an unsteady flow computation around the moving and deforming obstacle. Such a
computation is performed by setting <code>Problem.Type</code> to <code>UnsteadyAeroelastic</code>. 
The critical variables to watch for are the initial flow solution and node
position (<code>Input.Solution</code> and <code>Input.Position</code>) obtained from the
two previous steps, the time-step (<code>Time.TimeStep</code>) or alternatively
the CFL strategy, the type of time-integrator (<code>Time.Implicit.Type</code>),
and the mesh motion algorithm (<code>MeshMotion</code>). Note that to avoid subcycling
(i.e. performing several fluid time-steps during one structural time-step), the CFL number
(<code>Time.Cfl0</code> and <code>Time.CflMax</code>) needs to be set to a large
value (e.g. <code>1.e5</code>);

     </li></ol>
<!--  -->
<!-- Running @value{AEROFL-NAME} -->
<!--  -->

<div class="node">
<a name="Running-AERO-FL"></a>
<a name="Running-AERO_002dFL"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Restarting-AERO_002dF">Restarting AERO-F</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Running-Aero_002dF">Running Aero-F</a>

</div>

<h2 class="chapter">7 RUNNING AEROFL</h2>

<p>The linearized fluid code may be used for a variety of purposes including the following:

     </p><ol start="1" type="1">
<li>conducting a time-domain linearized flow simulation possibly coupled to a (currently modalized) vibrating structure;
</li><li>constructing a time- or frequency-domain POD basis;
</li><li>interpolating a POD basis from previously computed ones;
</li><li>constructing an aeroelastic ROM in the frequency domain;
</li><li>conducting a time-domain aeroelastic ROM simulation in which the structure is modalized;
     </li></ol>

<p>All of the above running modes require performing first one or several simulations aimed at generating
a reference equilibrium solution. Next, in order to perform any of the computations listed above,
the following parameters must be specified under <code>Problem</code> (see <a href="#Problem">Problem</a>) and
<code>Linearized</code> (see <a href="#Linearized">Linearized</a>).

     </p><ol start="1" type="1">
<li>To conduct full-order linearized simulations, set <code>Type</code> in <code>Problem</code> to
<code>UnsteadyLinearized</code> or <code>UnsteadyLinearizedAeroelastic</code>. In the latter case,
represent the structure by a set of modes (currently) by setting appropriately <code>Linearized.StrModes</code>
and <code>Linearized.NumStrModes</code>, and excite it by setting appropriately <code>Linearized.ExcMode</code>
and <code>Linearized.Amplification</code>. Do not forget to input the information needed for initializing
the flow perturbation by specifying <code>Input.Perturbed</code>.

     </li><li>To construct a POD basis, set <code>Type</code> in <code>Problem</code> to
<code>PODConstruction</code>. The construction process requires sources of excitation. 
Currently, these sources are modal impulses of the structure. For this reason,
set appropriately <code>Linearized.StrModes</code>, <code>Linearized.NumStrModes</code>,
<code>Linearized.Amplification</code>, and <code>Time.MaxIts</code>. The latter parameter
specifies half the number of snapshots per modal impulse. 
The POD basis may be constructed in either the time- or frequency-domain;
this is specified in <code>Domain</code> (see <a href="#Linearized">Linearized</a>). To accelerate the construction
of a POD basis in the frequency-domain, consider the Pade reconstruction strategy defined
under the <code>Pade</code> object. Do not forget to specify
in <code>NumPOD</code>, the number of desired POD basis vectors. 
To interpolate a POD basis, set <code>Type</code> in <code>Problem</code> to <code>PODInterpolation</code>. Use <code>Input.PODData</code>
to specify the two sets of POD basis vectors and their respective Mach numbers to
be used in the interpolation process (see <a href="#Input">Input</a>); also, input the desired Mach interpolation
point. Specify the desired POD output file in <code>Postpro.PODData</code>.

     </li><li>To construct a fluid ROM, set <code>Type</code> in <code>Problem</code> to
<code>ROM</code> and <code>Domain</code> in <code>Linearized</code> to <code>Time</code>, and set <code>Input.PODData</code> and
<code>Linearized.NumPOD</code> appropriately. Set <code>Time.MaxIts</code>
 to zero if you want AERO-FL to exit after constructing
the ROM, or to a non zero value if you desire a time-domain simulation 
using this ROM. Do not forget to specify the desired output file in <code>Postpro.ROM</code>.

     </li><li>To construct an aeroelastic ROM, set <code>Type</code> in <code>Problem</code> to
<code>ROMAeroelastic</code> and <code>Domain</code> in <code>Linearized</code> to <code>Time</code>, and
set <code>Input.PODData</code> and <code>Linearized.NumPOD</code> appropriately. 
Represent the structure by a set of modes by specifying also appropriately <code>Linearized.StrModes</code>
and <code>Linearized.NumStrModes</code>. 
Set <code>Time.MaxIts</code> to zero if you want AERO-FL to exit after constructing
the aeroelastic ROM, or to a non zero value if you desire a time-domain simulation using this aeroelastic ROM. 
Do not forget to specify the desired output file in <code>Postpro.ROM</code>.

     </li><li>To conduct a fluid ROM simulation, set <code>Type</code> in <code>Problem</code> to
<code>ROM</code>. Also, specify the POD basis using <code>Input.PODData</code> and <code>Linearized.NumPOD</code>. 
Do not forget to input the information needed for initializing
the flow perturbation by specifying <code>Input.Perturbed</code>.

     </li><li>To conduct aeroelastic ROM simulations, set <code>Type</code> in <code>Problem</code> to
<code>ROMAeroelastic</code>. Specify the POD basis using <code>Input.PODData</code> and <code>Linearized.NumPOD</code>. 
Do not forget to input the information needed for initializing the flow perturbation by specifying <code>Input.Perturbed</code>. 
Represent the structure by a set of modes (currently) by setting appropriately <code>Linearized.StrModes</code>
and <code>Linearized.NumStrModes</code>, and excite it by setting appropriately <code>Linearized.ExcMode</code>
and <code>Linearized.Amplification</code>.
     </li></ol>
<!-- ========================================================================= -->
<!-- Restarting AERO-F -->
<!-- ========================================================================= -->

<div class="node">
<a name="Restarting-AERO-F"></a>
<a name="Restarting-AERO_002dF"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Restarting-Aero_002dFL">Restarting Aero-FL</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Running-AERO_002dFL">Running AERO-FL</a>

</div>

<h2 class="chapter">8 RESTARTING AEROF</h2>

<p>For all flow simulations, AERO-F can restart from a previous run that was
successfully completed. AERO-F can also restart from a previous run that was for
some reason interrupted (i.e. computer crash) if the value of
<code>Output.Restart.Frequency</code> was different from zero. 
In both cases, in order to restart AERO-F, the variables <code>Input.Solution</code>,
<code>Input.Position</code> (if applicable) and <code>Input.RestartData</code> need to
be set to their appropriate values (i.e. the ones used in the object <code>Output.Restart</code>
of the previously completed or interrupted run). For example, an initial input file used
for an aeroelastic simulation should contain
</p><pre class="format"><code>
under Output {
  under Restart {
    Solution = "wing.sol";
    Position = "wing.pos";
    RestartData = "wing.rst";
  }
}</code>
</pre>
<p>To restart the aeroelastic simulation, the second input file should contain
</p><pre class="format"><code>
under Input {
  Solution = "wing.sol";
  Position = "wing.pos";
  RestartData = "wing.rst";
}</code>
</pre>
<p>and can also contain in <code>Output.Restart</code> the information necessary to save
future restart data.

</p><p class="noindent">Notes:
     </p><ol start="1" type="1">
<li>there is no need to copy any of the output files (specified in <code>Output.Postpro</code>) since the
restart appends the data to the original (ASCII and binary) files;
</li><li>it is currently not allowed to change the output frequency <code>Output.Postpro.Frequency</code>
nor to change the name of the output files nor to add other output files (in <code>Output.Postpro</code>)
when restarting a simulation. This restriction does not exist if the variable
<code>Input.RestartData</code> is not set. In that case, the run restarts from a previous
solution <code>Input.Solution</code> and a previous position <code>Input.Position</code>
(if applicable) but the time-step number and the physical time are reset to zero;
</li><li>as mentioned in <a href="#Restart">Restart</a>, the value of the restart frequency <code>Output.Restart.Frequency</code>
must be specified in the AERO-S input file in the case of an aeroelastic or aerothermal
simulation with the AERO-S code;
</li><li>the variable <code>Input.RestartData</code> should not be used when starting
an aeroelastic simulation from a pre-computed steady-state of the flow-field
because it de-synchronizes in this case AERO-F and the structural
solver.

     </li></ol>
<!-- ========================================================================= -->
<!-- Restarting AERO-FL -->
<!-- ========================================================================= -->

<div class="node">
<a name="Restarting-Aero-FL"></a>
<a name="Restarting-Aero_002dFL"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Hints_005fand_005ftips">Hints_and_tips</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Restarting-AERO_002dF">Restarting AERO-F</a>

</div>

<h2 class="chapter">9 RESTARTING AEROFL</h2>

<p>Currently, AERO-FL cannot run in restart mode. 
<!-- ========================================================================= -->
<!-- Hints and tips -->
<!-- ========================================================================= -->

</p><div class="node">
<a name="Hints_and_tips"></a>
<a name="Hints_005fand_005ftips"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ROM">ROM</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Restarting-Aero_002dFL">Restarting Aero-FL</a>

</div>

<h2 class="appendix">Appendix A HINTS AND TIPS</h2>

     <ul>
<li>Decompose the mesh in many subdomains to be able to run a simulation with the
same input files but with a different number of processors.

     </li><li>Terminate the execution of AERO-F with
     <pre class="example">          kill -USR1 <var>pid</var>
</pre>
     <p class="noindent">where <var>pid</var> is the process identification number of one of the AERO-F
processes. Once the kill signal is sent to AERO-F, it exits at the
next time-iteration.

     </p></li><li>Create binary files from ASCII <b>XPost</b> files by using the SOWER program:

     <pre class="example">          sower -fluid -split -con &lt;connectivity file&gt;
          -mesh &lt;mesh file prefix&gt; -result &lt;ASCII file&gt; -ascii
          -output &lt;binary file prefix&gt;
</pre>
     </li><li>Install the <samp><span class="file">info</span></samp> version of this user's guide. On your (Unix) system, this
can be achieved by 1) copying the <samp><span class="file">aerof.info</span></samp> file to the place where your
info files live (usually <samp><span class="file">/usr/local/info</span></samp>), and 2) issuing the command
<samp><span class="command">install-info /usr/local/info/aerof.info /usr/local/info/dir</span></samp>. You will
then be able to access the documentation with the command <samp><span class="command">info aerof</span></samp>. Note
that particular sections ("nodes") can be accessed directly. For example,
<samp><span class="command">info aerof Problem</span></samp> will take you directly to the definition of
the <code>Problem</code> object. 
</li></ul>

<!-- ========================================================================= -->
<!-- ROM OUTPUT - format explanation and usage suggestions -->
<!-- ========================================================================= -->
<div class="node">
<a name="ROM"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#DESMESH">DESMESH</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Hints_005fand_005ftips">Hints_and_tips</a>

</div>

<h2 class="appendix">Appendix B ROM OUTPUT FORMAT</h2>

<p>AERO-FL can output in ASCII format either a fluid ROM, or an aeroelastic ROM. This appendix characterizes the ROM in
each case and describes the format of the corresponding output.

</p><ul class="menu">
<li><a accesskey="1" href="#Fluid-ROM">Fluid ROM</a>
</li><li><a accesskey="2" href="#Aeroelastic-ROM">Aeroelastic ROM</a>
</li></ul>

<div class="node">
<a name="Fluid-ROM"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Aeroelastic-ROM">Aeroelastic ROM</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ROM">ROM</a>

</div>

<h3 class="appendixsec">B.1 FLUID ROM</h3>

<p>In this case, the outputted ROM matrix is an   <img src="Aerof3d_files/img278.png" class="math-display" align="top">   POD-based, real, full matrix   <img src="Aerof3d_files/img279.png" class="math-display" align="top">   whose exploitation
may require first its dimensionalization as follows
 </p><center class="math-display"> <img src="Aerof3d_files/img280.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img60.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img103.png" class="math-display" align="top">   denote the free-stream pressure and density, respectively. In other words,
  <img src="Aerof3d_files/img279.png" class="math-display" align="top">   does not contain information about the altitude whereas   <img src="Aerof3d_files/img281.png" class="math-display" align="top">   does.

<p>The adjusted ROM matrix   <img src="Aerof3d_files/img281.png" class="math-display" align="top">   governs the reduced perturbed equations of equilibrium
 </p><center class="math-display"> <img src="Aerof3d_files/img282.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img283.png" class="math-display" align="top">   denotes the perturbation of the reduced-order fluid state vector about a steady-state operating point and   <img src="Aerof3d_files/img284.png" class="math-display" align="top">
   denotes a time-derivative. 
Note that whether the descriptor or non descriptor form of the governing
 higher-dimensional (“full order”) fluid equations have been reduced 
(see <a href="#Time">Time</a> and <a href="#Linearized">Linearized</a>), the adjusted ROM matrix   <img src="Aerof3d_files/img281.png" class="math-display" align="top"> 

governs in both cases the non descriptor form of the reduced order fluid equations.

<p>The matrices   <img src="Aerof3d_files/img281.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img279.png" class="math-display" align="top">   can be exploited at least in the following ways:

     </p><ul>
<li>
In principle,   <img src="Aerof3d_files/img281.png" class="math-display" align="top">   can be used for a time-domain simulation assuming that
an appropritate initial condition is specified. 
However, providing an initial condition for the above equation is not an intuitive task (unlike a modal coordinate system
in the case of a structure). A straightforward approach for constructing a meaningful initial condition consists of
gaining access to the POD basis that was used for computing   <img src="Aerof3d_files/img281.png" class="math-display" align="top">    and projecting a meaningful full order initial condition onto this reduced basis.

     </li><li>
Alternatively,   <img src="Aerof3d_files/img279.png" class="math-display" align="top">   can be used to investigate the stability of the fluid system. 
If all the real parts of its eigenvalues are positive, the fluid system is stable for all free-stream densities and pressures.

</li></ul>

<p>The output format of   <img src="Aerof3d_files/img285.png" class="math-display" align="top">   is as follows:

     </p><ul>
<li>
  <img src="Aerof3d_files/img286.png" class="math-display" align="top">   0 (line 1)

     </li><li>
Row 1 of   <img src="Aerof3d_files/img285.png" class="math-display" align="top">   (line 2)

     </li><li>
Row 2 of   <img src="Aerof3d_files/img285.png" class="math-display" align="top">   (line 3)

     </li><li>
  <img src="Aerof3d_files/img287.png" class="math-display" align="top"> 


     </li><li>
Row   <img src="Aerof3d_files/img286.png" class="math-display" align="top">   of   <img src="Aerof3d_files/img285.png" class="math-display" align="top">   (line   <img src="Aerof3d_files/img286.png" class="math-display" align="top">   + 1)

</li></ul>

<p>For example, the following MATLAB code can read in this case the ROM output file:

</p><pre class="example">     M=readRom('filename');
     function [N] = readRom(fn)
     line1 = dlmread(fn,' ',[0 0 0 1]);
     N=dlmread(fn, ' ', [1 0 line1(1)+2*line1(2) line1(1)+2*line1(2)-1]);
</pre>
<div class="node">
<a name="Aeroelastic-ROM"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Fluid-ROM">Fluid ROM</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#ROM">ROM</a>

</div>

<h3 class="appendixsec">B.2 AEROELASTIC ROM</h3>

<p>In this case, the outputted ROM consists of the following   <img src="Aerof3d_files/img288.png" class="math-display" align="top">   block, real matrix   <img src="Aerof3d_files/img289.png" class="math-display" align="top"> 


</p><p><table summary="">
<tbody><tr align="left"><td valign="top" width="8%">
  <img src="Aerof3d_files/img290.png" class="math-display" align="top"> 


<p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img291.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img292.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img293.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="8%">

<p> <img src="Aerof3d_files/img294.png" class="math-display" align="top"> 


</p><p><br></p></td></tr><tr align="left"><td valign="top" width="8%">
  <img src="Aerof3d_files/img295.png" class="math-display" align="top"> 


<p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img296.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img297.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img298.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="8%">

<p> <img src="Aerof3d_files/img294.png" class="math-display" align="top"> 


</p><p><br></p></td></tr><tr align="left"><td valign="top" width="8%">
  <img src="Aerof3d_files/img290.png" class="math-display" align="top"> 


<p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img297.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img299.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img297.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="8%">

<p> <img src="Aerof3d_files/img294.png" class="math-display" align="top"> 


<br></p></td></tr></tbody></table>

</p><p>which does not depend on the free-stream pressure and density — and therefore on altitude — and whose exploitation
may first require its dimensionalization as follows

</p><p><table summary="">
<tbody><tr align="left"><td valign="top" width="20%">
  <img src="Aerof3d_files/img300.png" class="math-display" align="top"> 


<p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img301.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img292.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img302.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="8%">

<p> <img src="Aerof3d_files/img303.png" class="math-display" align="top"> 


</p><p><br></p></td></tr><tr align="left"><td valign="top" width="20%">
  <img src="Aerof3d_files/img304.png" class="math-display" align="top"> 


<p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img305.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img297.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img298.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="8%">

<p> <img src="Aerof3d_files/img303.png" class="math-display" align="top"> 


</p><p><br></p></td></tr><tr align="left"><td valign="top" width="20%">
  <img src="Aerof3d_files/img300.png" class="math-display" align="top"> 


<p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img297.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img306.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="15%">

<p> <img src="Aerof3d_files/img297.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="8%">

<p> <img src="Aerof3d_files/img303.png" class="math-display" align="top"> 


<br></p></td></tr></tbody></table>

</p><p>where   <img src="Aerof3d_files/img307.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img308.png" class="math-display" align="top">   denote the free-stream pressure and density at the desired altitude, respectively,
  <img src="Aerof3d_files/img309.png" class="math-display" align="top"> 


</p><p>and
     </p><ul>
<li>
  <img src="Aerof3d_files/img279.png" class="math-display" align="top">   is as in the previous case the   <img src="Aerof3d_files/img278.png" class="math-display" align="top">  , real fluid ROM matrix

     </li><li>
  <img src="Aerof3d_files/img310.png" class="math-display" align="top">   is the corresponding   <img src="Aerof3d_files/img278.png" class="math-display" align="top">  , real, dimensional, adjusted fluid ROM matrix

     </li><li>
  <img src="Aerof3d_files/img311.png" class="math-display" align="top">    and   <img src="Aerof3d_files/img312.png" class="math-display" align="top">   are two   <img src="Aerof3d_files/img313.png" class="math-display" align="top">   fluid/structure coupling matrices

     </li><li>
  <img src="Aerof3d_files/img22.png" class="math-display" align="top">   is the matrix of natural mode shapes of the dry structure (in this case, without the rotational degrees of freedom),   <img src="Aerof3d_files/img314.png" class="math-display" align="top">   is the vector of aerodynamic loads and   <img src="Aerof3d_files/img315.png" class="math-display" align="top">   is the state vector of the fluid system

     </li><li>
  <img src="Aerof3d_files/img316.png" class="math-display" align="top">   is an   <img src="Aerof3d_files/img317.png" class="math-display" align="top">   load transfer matrix

     </li><li>
  <img src="Aerof3d_files/img318.png" class="math-display" align="top">   is an   <img src="Aerof3d_files/img319.png" class="math-display" align="top">   diagonal matrix storing the squares of the structural natural circular frequencies

     </li><li>
  <img src="Aerof3d_files/img306.png" class="math-display" align="top">   is the   <img src="Aerof3d_files/img319.png" class="math-display" align="top">   identity matrix

</li></ul>

<p>The adjusted ROM matrix   <img src="Aerof3d_files/img320.png" class="math-display" align="top">   governs the non descriptor form of the perturbed dimensional equations of equilibrium

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img321.png" class="math-display" align="top"> </center> 


<p>where

</p><p><table summary="">
<tbody><tr align="left"><td valign="top" width="6%">
  <img src="Aerof3d_files/img322.png" class="math-display" align="top"> 


<p></p></td><td valign="top" width="5%">

<p> <img src="Aerof3d_files/img283.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="5%">

<p> <img src="Aerof3d_files/img323.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="5%">

<p> <img src="Aerof3d_files/img324.png" class="math-display" align="top"> 


</p><p></p></td><td valign="top" width="8%">

<p> <img src="Aerof3d_files/img325.png" class="math-display" align="top"> 


<br></p></td></tr></tbody></table>

</p><p>is the aeroelastic state vector
consisting of the perturbation of the reduced-order fluid state vector about an
operating point, the structural modal displacements, and structural modal velocities.

</p><p>The blocks of   <img src="Aerof3d_files/img320.png" class="math-display" align="top">   govern the following system of coupled, fluid/structure equations
 </p><center class="math-display"> <img src="Aerof3d_files/img326.png" class="math-display" align="top"> </center> 

 <center class="math-display"> <img src="Aerof3d_files/img327.png" class="math-display" align="top"> </center> 

where the dot and the   <img src="Aerof3d_files/img328.png" class="math-display" align="top">   represent both a derivative with respect to time.

<p>The matrix   <img src="Aerof3d_files/img329.png" class="math-display" align="top">   can be exploited at least in the following ways:

     </p><ul>
<li>
The eigenvalue analysis of   <img src="Aerof3d_files/img329.png" class="math-display" align="top">   determines the stability of the aeroelastic system for the flight conditions
defined by   <img src="Aerof3d_files/img307.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img308.png" class="math-display" align="top">  . Altitude sweeps are simply performed by changing appropriately the values of the free-stream
pressure and density in   <img src="Aerof3d_files/img329.png" class="math-display" align="top">  .

     </li><li>
The matrix blocks of   <img src="Aerof3d_files/img320.png" class="math-display" align="top">   may be used to form the above system of equations.  The aeroelastic ROM can then be
used for time-domain simulations provided that initial conditions are specified for   <img src="Aerof3d_files/img324.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img283.png" class="math-display" align="top">   (see related comment in section describing the fluid ROM output).

</li></ul>

<p>The output format of   <img src="Aerof3d_files/img289.png" class="math-display" align="top">   is as follows:

     </p><ul>
<li>
  <img src="Aerof3d_files/img286.png" class="math-display" align="top">     <img src="Aerof3d_files/img330.png" class="math-display" align="top">   (line 1)

     </li><li>
Row 1 of   <img src="Aerof3d_files/img289.png" class="math-display" align="top">   (line 2)

     </li><li>
Row 2 of   <img src="Aerof3d_files/img289.png" class="math-display" align="top">   (line 3)

     </li><li>
  <img src="Aerof3d_files/img287.png" class="math-display" align="top"> 


     </li><li>
Row   <img src="Aerof3d_files/img286.png" class="math-display" align="top">   of   <img src="Aerof3d_files/img289.png" class="math-display" align="top">   (line   <img src="Aerof3d_files/img331.png" class="math-display" align="top">  )

</li></ul>

<!-- @tex -->
<!-- In addition to $\tilde{\bf N}$, specific rows of $\bf X$ can be output if requested in the input file of @value{AEROF-NAME}. In this case, the output format of -->
<!-- these rows is -->
<!-- @end tex -->
<!-- @itemize @bullet -->
<!-- @item -->
<!-- @tex -->
<!-- $n_{rows}$ (line $n_f + 2n_s$ + 2) -->
<!-- @end tex -->
<!-- @item -->
<!-- @tex -->
<!-- $row_{id}$ ~~ ${\bf X}(row_{id}, 1) \cdots {\bf X}(row_{id}, 3 \times n_s)$ -->
<!-- @end tex -->
<!-- @item -->
<!-- @tex -->
<!-- $row_{id}$ ~~ ${\bf X}(row_{id}, 1) \cdots {\bf X}(row_{id}, 3 \times n_s)$ -->
<!-- @end tex -->
<!-- @item -->
<!-- @tex -->
<!-- $\vdots$ -->
<!-- @end tex -->
<!-- @item -->
<!-- @tex -->
<!-- $row_{id}$ ~~ ${\bf X}(row_{id}, 1) \cdots {\bf X}(row_{id}, 3 \times n_s)$ -->
<!-- @end tex -->
<!-- @end itemize -->
<!-- @tex -->
<!-- where $n_{rows}$ denotes the number of rows of $\bf X$ whose output is requested and the factor 3 in $3 \times n_s$ relates to the x, y, and z -->
<!-- translational degrees of freedom. If the input file of @value{AEROF-NAME} does not request the output of any -->
<!-- row of $\bf X$, $n_{rows} = 0$. -->
<!-- @end tex -->
<p>For example, the following MATLAB code can read in this case the ROM output file — that is,
the matrix   <img src="Aerof3d_files/img332.png" class="math-display" align="top">  :
<!-- and the chosen rows of $\bf X$: -->

</p><pre class="example">     <!-- [N,X, nf, ns]=readRom('filename'); -->
     [N,nf,ns]=readRom('filename');
     <!-- function [N,X,nf,ns] = readRom(fn) -->
     function [N,nf,ns] = readRom(fn)
     line1 = dlmread(fn,' ',[0 0 0 1]);
     endOfN = line1(1)+2*line1(2);
     endCol = line1(1)+2*line1(2)-1;
     N=dlmread(fn, ' ', [1 0 endOfN endCol]);
     nf = line1(1);
     ns = line1(2);
     <!-- numX = dlmread(fn,' ',[endOfN+1 0 endOfN+1 0]) -->
     <!-- X = dlmread(fn, ' ',[endOfN+2 1 endOfN+2+numX-1 3*ns+1]); -->
</pre>
<p>Furthermore, the following MATLAB code can read the ROM output file
<!-- , including data from $\bf X$, -->
and output the dimensionalized matrix   <img src="Aerof3d_files/img329.png" class="math-display" align="top">   for specified values of   <img src="Aerof3d_files/img60.png" class="math-display" align="top">   and   <img src="Aerof3d_files/img103.png" class="math-display" align="top">  :

</p><pre class="example">     <!-- [N,X,nf,ns] = readRom('filename',p_inf,rho_inf) -->
     [N,nf,ns] = readRom('filename',p_inf,rho_inf)
     <!-- function [N,X,nf,ns] = readRom(fn,p_inf,rho_inf) -->
     function [N,nf,ns] = readRom(fn,p_inf,rho_inf)
     line1 = dlmread(fn,' ',[0 0 0 1]);
     endOfN = line1(1)+2*line1(2);
     endCol = line1(1)+2*line1(2)-1;
     Ntilde = dlmread(fn, ' ', [1 0 endOfN endCol]);
     nf = line1(1);
     ns = line1(2);
     <!-- numX = dlmread(fn,' ',[endOfN+1 0 endOfN+1 0]) -->
     <!-- X = dlmread(fn, ' ',[endOfN+2 1 endOfN+2+numX-1 3*ns+1]); -->
     N(1:nf,1:nf)               = sqrt(p_inf/rho_inf) ...
                                     *Ntilde(1:nf,1:nf);
     N(1:nf,nf+1:nf+ns)         = Ntilde(1:nf,nf+1:nf+ns);
     N(1:nf,nf+ns+1:nf+2*ns)    = sqrt(p_inf/rho_inf) ...
                                     *Ntilde(1:nf,nf+ns+1:nf+2*ns);
     N(nf+1:nf+ns,1:nf)         = p_inf*Ntilde(nf+1:nf+ns,1:nf);
     N(nf+1:nf+ns,nf+1:nf+2*ns) = Ntilde(nf+1:nf+ns,nf+1:nf+2*ns);
     N(nf+ns+1:nf+2*ns,:)       = Ntilde(nf+ns+1:nf+2*ns,:);
</pre>
<!-- ========================================================================= -->
<!-- DES - mesh setup and hints -->
<!-- ========================================================================= -->
<div class="node">
<a name="DESMESH"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#TAB">TAB</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ROM">ROM</a>

</div>

<h2 class="appendix">Appendix C DETACHED EDDY SIMULATIONS (DES): MESH REQUIREMENTS</h2>

<p>Detached Eddy Simulation (DES) is a hybrid (zonal) turbulence model that employs a RANS type closure
close to the wall (in the boundary-layer) and a LES type closure in the detached shear layer. 
This approach surmounts the expensive problem of having to resolve the thin boundary-layer by traditional
LES means.  Hence, DES aims at achieving best of both worlds, by making use of the reliability of the RANS model
in predicting boundary-layer separation points and by resolving the effect of the separated shear layers
using a subgrid scale LES model.

</p><div align="center"><img src="Aerof3d_files/DESmeshdetails.jpg" alt="jpg"></div>

<p>In AERO-F, a DES procedure based on the the Spalart-Allmaras (SA) one-equation model is implemented.  DES uses a mesh dependent
length scale to switch between the RANS and LES domains. More specifically, the length scale (  <img src="Aerof3d_files/img333.png" class="math-display" align="top">  )
of the DES model is computed in each tetrahedron   <img src="Aerof3d_files/img334.png" class="math-display" align="top">   as
 </p><center class="math-display"> <img src="Aerof3d_files/img335.png" class="math-display" align="top"> </center> 

with
 <center class="math-display"> <img src="Aerof3d_files/img336.png" class="math-display" align="top"> </center> 

where,   <img src="Aerof3d_files/img337.png" class="math-display" align="top">   is the shortest distance to the wall from the centroid of tetrahedron   <img src="Aerof3d_files/img334.png" class="math-display" align="top">  ,
  <img src="Aerof3d_files/img338.png" class="math-display" align="top">   is the DES model constant and   <img src="Aerof3d_files/img85.png" class="math-display" align="top">   is an edge of tetrahedron   <img src="Aerof3d_files/img339.png" class="math-display" align="top">  . The value of the model constant
is set to    <img src="Aerof3d_files/img340.png" class="math-display" align="top">   after calibration with homogeneous isotropic turbulence. If   <img src="Aerof3d_files/img341.png" class="math-display" align="top"> 

then the RANS model is active and if   <img src="Aerof3d_files/img342.png" class="math-display" align="top">   then the LES model is active.

<p>Hence, when creating a mesh for DES simulations, one has to adhere to the following details:

     </p><ol start="1" type="1">

     <li>
Create a surface mesh such that its streamwise (  <img src="Aerof3d_files/img343.png" class="math-display" align="top">  ) and spanwise (  <img src="Aerof3d_files/img344.png" class="math-display" align="top">   )
lengths are of the order of the boundary-layer thickness so that   <img src="Aerof3d_files/img333.png" class="math-display" align="top">   always switches
to   <img src="Aerof3d_files/img337.png" class="math-display" align="top">   in the boundary-layer.  For unstructured meshes, this
means that one has to choose a surface mesh size of at least the boundary-layer thickness. For the leading edge,
one has usually to choose a smaller mesh size to capture the geometry accurately but this size has to
be at least the boundary-layer thickness at the leading edge. Again, this would ensure that   <img src="Aerof3d_files/img341.png" class="math-display" align="top"> 

in the leading edge boundary-layer. At the trailing edge, one again has to use smaller mesh sizes to correctly capture
the geometry,
but in this case one does not need to worry about the mesh requirements of DES. 
This is because, once the flow has separated,
the RANS model does not help in modeling the physics of the detached boundary layer any longer.

     </li><li>

     <p>Introduce (extrude) prism layers to fill up the boundary-layer thickness. The vertical spacing of each prism
layer can be based on any mesh growth scheme chosen by the user. This is because the vertical spacing
of each prism layer is always smaller than the boundary-layer thickness and hence the switch always selects
  <img src="Aerof3d_files/img341.png" class="math-display" align="top"> 

in the boundary-layer.

     </p></li><li>
Outside the prism layers, in the expected shear layers, create isotropic LES meshes with
characteristic mesh sizes of the order of the Taylor microscale   <img src="Aerof3d_files/img345.png" class="math-display" align="top">  ,
where, <var>L</var> is the integral length scale (usually the body length) and   <img src="Aerof3d_files/img346.png" class="math-display" align="top">   is the Reynolds number based on <var>L</var>. 
It is a good practice to use a mesh size of around   <img src="Aerof3d_files/img347.png" class="math-display" align="top">   near the wall and gradually increase the
size to about   <img src="Aerof3d_files/img348.png" class="math-display" align="top">   in the far-field.

     </li></ol>
<!-- ========================================================================= -->
<!-- Sparse Grid Tabulation -->
<!-- ========================================================================= -->

<div class="node">
<a name="TAB"></a>
<p></p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Sensitivities">Sensitivities</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#DESMESH">DESMESH</a>

</div>

<h2 class="appendix">Appendix D SPARSE GRID TABULATION OF RIEMANN INVARIANTS AND SOLUTIONS</h2>

<p>Sparse grid tabulations are used in <b>AERO-F</b> to accelerate the solution of multi-phase
flow problems involving a medium modeled by a complex and computationally intensive Equation Of State (EOS),
such as the JWL EOS, using the <code>FiniteVolumeWithExactTwoPhaseRiemann</code> method which requires the computation
of the solutions of local, one-dimensional two-phase Riemann problems (see <a href="#MultiPhase">MultiPhase</a>). 
The tabulation of certain quantities related to this computation allows to bypass
some of the more costly computational steps. While such tabulations may not be readily available to the user,
they can be generated in a sparse grid format using <b>AERO-F</b>. This appendix provides
instructions to set up the input file needed by <b>AERO-F</b> to generate
these tabulations, as well as guidelines for how to choose their appropriate parameters.

</p><p><b>General Settings</b>

</p><p>In order to tabulate some data in sparse grid format, the user must specify
</p><pre class="example">     Problem.Type = SparseGridGeneration;
</pre>
<p>as well as the name <var>filename-str</var> of the output file(s) that will contain the tabulated data
</p><pre class="example">     Output.PostPro.SparseGrid = <var>filename-str</var>;
</pre>
<p>(see <a href="#Problem">Problem</a> and <a href="#PostPro">PostPro</a>).

</p><p><b>Data to Tabulate</b>

</p><p>Currently, <b>AERO-F</b> can tabulate quantities related to the computation of the solution of
a one-dimensional two-phase Riemann problem between a JWL EOS and a perfect or stiffened gas EOS only. 
These quantities are the Riemann invariants of the JWL EOS, and the solutions of one-dimensional, two-phase Riemann problems. 
The first option (Riemann invariants) is recommended because it is fast, easy, and has demonstrated superior potential for
accelerating the computation of multi-phase flow problems involving the JWL EOS using the numerical method <code>FiniteVolumeWithExactTwoPhaseRiemann</code>.

</p><p>In order to tabulate the Riemann invariants of the JWL EOS, the user must specify in the <b>AERO-F</b> ASCII input file:
</p><pre class="example">     under Equations {
       under FluidModel[0] {
         Fluid = JWL;
         under JWLModel { ...  }
       }
     }
     
     under MultiPhase{
       RiemannComputation = TabulationRiemannInvariant;
     }
</pre>
<p>where <a href="#JWLModel">JWLModel</a> specifies the parameters of the considered JWL EOS.

</p><p>In order to tabulate the solutions of one-dimensional two-phase Riemann problems between a JWL EOS and a perfect or stiffened
gas EOS, the user must specify in the <b>AERO-F</b> ASCII input file:
</p><pre class="example">     under Equations {
       under FluidModel[0] {
         Fluid = StiffenedGas;
         under GasModel { ...  }
       }
       under FluidModel[1] {
         Fluid = JWL;
         under JWLModel { ...  }
       }
     }
     
     under MultiPhase{
       RiemannComputation = TabulationRiemannProblem;
     }
</pre>
<p>where <a href="#GasModel">GasModel</a> and <a href="#JWLModel">JWLModel</a> specify the parameters of the two considered EOSs.

</p><p><b>How to Tabulate Riemann Invariants of the JWL EOS</b>

</p><p>The Riemann invariant of the JWL EOS is the scalar quantity

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img349.png" class="math-display" align="top"> </center> 


<p>which depends on two variables:

</p><p>the density   <img src="Aerof3d_files/img84.png" class="math-display" align="top">  , and the mathematical entropy
 </p><center class="math-display"> <img src="Aerof3d_files/img350.png" class="math-display" align="top"> </center> 

where   <img src="Aerof3d_files/img61.png" class="math-display" align="top">   is pressure and the other parameters of the JWL EOS are user-specified in <code>FluidModel</code>[0].

<p>Therefore, in this case the user must specify in the object <a href="#SparseGrid">SparseGrid</a>: (a) that the sparse grid will have two input variables and one output variable,
and (b) the lower and upper bounds of each input variable as follows:
</p><pre class="example">     NumberOfInputs  = 2;
     NumberOfOutputs = 1;
     Input1Minimum   = <var>in1min-real</var>;
     Input1Maximum   = <var>in1max-real</var>;
     Input2Minimum   = <var>in2min-real</var>;
     Input2Maximum   = <var>in2max-real</var>;
</pre>
<p>The first input variable is the density and the second one is the 
entropy. Determining the optimal choices of the bounds of the input 
variables requires predicting accurately
the ranges of these variables spanned during the exploitation of the 
tabulation and therefore is a difficult task. For this reason, these 
bounds can be only estimated. 
The density of a highly explosive gas modeled by the
JWL EOS usually has a maximum value given by the initial conditions of 
the application problems and a minimum value that is several orders
of magnitude lower. For example, in SI units, the density can easily 
vary between 0 and 1630   <img src="Aerof3d_files/img351.png" class="math-display" align="top">
  . 
Estimates of the bounds for entropy are not straightforward to obtain. 
With pressure values varying in a typical application problem between an
initial value often of the order of several   <img src="Aerof3d_files/img352.png" class="math-display" align="top">
  s and a value that is several orders of magnitude lower than
that of the surrounding fluid, the computed entropies associated with 
such density and pressure values can span several orders of magnitude. 
Instead, it is easier to compute
the value of the entropy corresponding to the values of the density and 
pressure of the JWL fluid associated with typical initial conditions of 
application problems of interest and tabulate around this value. 
This is generally sufficient as a highly explosive gas usually undergoes
 an expansion during which the entropy
does not vary significantly.

</p><p>The choice of the numerical parameters for the construction of a sparse grid depends
on several factors such as the data to be tabulated, the user-desired accuracy, and the maximum
size of the grid (which can determine how long it takes to generate and exploit a sparse grid). 
As such, several tabulation iterations may be needed to obtain the desired result.

</p><p><b>AERO-F</b> refines a sparse grid tabulation until one of three stopping criteria is reached: the desired
relative accuracy is satisfied, the desired absolute accuracy is satisfied, or the maximum number of
points in the tabulation is exceeded. For the tabulation of Riemann invariants of the JWL EOS,
the user can start with
</p><pre class="example">     MaximumNumberOfPoints = 10000;
     RelativeAccuracy      = 1.0e-3;
     AbsoluteAccuracy      = 0.1;
</pre>
<p>The errors are estimated a posteriori at the last created points of the sparse grid. The relative errors
are computed with respect to the difference between the largest and smallest computed values of the
data to be tabulated. 
A minimum number of points for the tabulation can also be specified. For example,
</p><pre class="example">     MinimumNumberOfPoints = 100;
</pre>
<p>Since the data to be tabulated may not exhibit the same variations for different input variables,
the user is given the possibility to refine the sparse grid along the input variable for which the errors
decrease the most. This is done by specifying the degree of dimensional adaptivity which can take any real value
between 0 and 1. A degree of 0 corresponds to a uniform refinement in each input variable,
while a degree of 1 corresponds to a refinement based solely on the errors. 
For the tabulation of Riemann invariants of the JWL EOS, the user is advised to use values above 0.7 but below 1.0:
</p><pre class="example">     DegreeDimAdapt = 0.7;
</pre>
<p>To enable parallel processing during the tabulation and accelerate the exploitation of this tabulation during
subsequent <b>AERO-F</b> computations, the user can request the 
tabulation of a single domain in several
complementary sparse grids characterized by the same numerical 
parameters. For this purpose, the user can specify a uniform splitting 
of the domain
of each input variable in a number of subdomains that depends directly 
on its range (the larger is the range, the more attractive
it becomes to decompose it). For example, the user can specify:
</p><pre class="example">     NumberOfDomains1 = 3;
     NumberOfDomains2 = 2;
</pre>
<p>which leads to six complementary sparse grids characterized by the same numerical parameters.

</p><p><b>How to Tabulate Solutions of One-Dimensional Two-Thase JWL-Gas Riemann Problems</b>

</p><p>The solution of a one-dimensional, two-phase Riemann problem at the interface between two initial states depends on
the initial values of the density and pressure, and the jump in the initial velocities. 
This solution can be reconstructed from the knowledge of the constant density states on both sides
of the material interface. Therefore, in this case the user must specify in the object <code>SparseGrid</code>: (a) that the sparse grid will have five input and two output variables
(which are the constant density states at the left and right of the material interface),
and (b) the lower and upper bounds of each input variable as follows:
</p><pre class="example">     NumberOfInputs  = 5;
     NumberOfOutputs = 2;
     Input1Minimum   = <var>in1min-real</var>;
     Input1Maximum   = <var>in1max-real</var>;
     Input2Minimum   = <var>in2min-real</var>;
     Input2Maximum   = <var>in2max-real</var>;
     Input3Minimum   = <var>in3min-real</var>;
     Input3Maximum   = <var>in3max-real</var>;
     Input4Minimum   = <var>in4min-real</var>;
     Input4Maximum   = <var>in4max-real</var>;
     Input5Minimum   = <var>in5min-real</var>;
     Input5Maximum   = <var>in5max-real</var>;
</pre>
<p>The first and second input variables are the density and pressure in 
the perfect or stiffened gas,
the third and fourth are the density and pressure in the medium modeled 
by the JWL EOS,
and the fifth input variable is the difference between the velocity of 
the perfect/stiffened gas and that of the JWL medium. 
Specifying the bounds of each input variable is not easy, especially 
since some initial states lead
to vacuum state solutions. For this purpose, the user needs to estimate a
 priori these bounds. 
To this effect, it is useful to note that the velocity jump at the 
material interface can be either positive or negative, and that in
general it is not very large unless the jump of the initial velocities 
is large, or a strong shock wave interacts with the material interface.

</p><p>The choice of the numerical parameters characterizing the sparse grid are specified in the same manner as in the previous case. 
In particular, the same values as before can be used for the minimum number of points and desired accuracies:
</p><pre class="example">     MinimumNumberOfPoints = 100;
     RelativeAccuracy      = 1.0e-3;
     AbsoluteAccuracy      = 0.1;
</pre>
<p>It is recommended to choose a maximum number of points of at least 100,000 and a degree of dimensional
adaptivity of 0.9. It is also particularly useful to consider splitting the domain of each
input variable. It is strongly advised to split the domain of the velocity difference input
variable so that a sparse grid avoids as much as possible tabulating both vacuum state and
non-vacuum state solutions. Therefore, even if the values of the velocity difference do
not span several orders of magnitude, it is still recommended to split the domain of this input variable. 
</p><div class="node">
<a name="Sensitivities"></a>
<p></p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#TAB">TAB</a>

</div>

<h2 class="appendix">Appendix E COMPUTATION OF SENSITIVITIES</h2>

<p>The derivative at a fluid equilibrium point — that is, a steady-state fluid sate vector   <img src="Aerof3d_files/img353.png" class="math-display" align="top">   —
of an aerodynamic-related quantity   <img src="Aerof3d_files/img354.png" class="math-display" align="top">   with respect to a flow or shape parameter   <img src="Aerof3d_files/img23.png" class="math-display" align="top">   can be written as

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img355.png" class="math-display" align="top"> </center> 


<p>where:
     </p><ul>
<li> <img src="Aerof3d_files/img356.png" class="math-display" align="top">   can be computed analytically or by finite differencing, depending on the
complexity of the dependence of   <img src="Aerof3d_files/img275.png" class="math-display" align="top">   on   <img src="Aerof3d_files/img357.png" class="math-display" align="top">  . 
</li><li> <img src="Aerof3d_files/img358.png" class="math-display" align="top">   can be determined from the stationarity at   <img src="Aerof3d_files/img353.png" class="math-display" align="top">   of the equation
of dynamic equilibrium of the fluid

     <p></p><center class="math-display"> <img src="Aerof3d_files/img359.png" class="math-display" align="top"> </center> 


     <p>where   <img src="Aerof3d_files/img360.png" class="math-display" align="top">   denotes the system of nonlinear equations governing the steady-state fluid sate vector   <img src="Aerof3d_files/img353.png" class="math-display" align="top">  ,
and   <img src="Aerof3d_files/img361.png" class="math-display" align="top">   denotes the vector of nodal positions of the fluid mesh if <code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>,
or the nodal positions of the discrete embedded surface if <code><a href="#Problem">Problem</a>.Framework</code> = <code>Embedded</code>. 
In either case, the differentiation of the above equation at   <img src="Aerof3d_files/img353.png" class="math-display" align="top">   leads to the characterization of the gradient
  <img src="Aerof3d_files/img358.png" class="math-display" align="top">   as the solution of the linearized system of equations

     </p><p></p><center class="math-display"> <img src="Aerof3d_files/img362.png" class="math-display" align="top"> </center> 


     <p>where:

          </p><ul>
<li> <img src="Aerof3d_files/img363.png" class="math-display" align="top">   can be computed analytically or by finite differencing. 
</li><li> <img src="Aerof3d_files/img364.png" class="math-display" align="top">   is non zero only when   <img src="Aerof3d_files/img23.png" class="math-display" align="top">   is a shape parameter. 
</li></ul>
     </li></ul>

<p>In the case of the body-fitted computational framework (<code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>),   <img src="Aerof3d_files/img364.png" class="math-display" align="top">   is the “shape gradient” of the fluid mesh position
vector — or simply the mesh shape gradient — and can be divided into two components:
     </p><ul>
<li>The wall boundary component   <img src="Aerof3d_files/img365.png" class="math-display" align="top">   which is associated with the grid points of the
CFD mesh lying on the wall boundary   <img src="Aerof3d_files/img24.png" class="math-display" align="top">  .  This component is <i>user-specified</i> in <code><a href="#Input">Input</a>.ShapeDerivative</code> as it pertains directly to the shape of the obstacle
around/within which a flow is computed. 
</li><li>The interior component   <img src="Aerof3d_files/img366.png" class="math-display" align="top">   which is associated with the grid points located
in the interior   <img src="Aerof3d_files/img367.png" class="math-display" align="top">   of the computational fluid domain. Using for the CFD mesh a deformation model based on a structural analogy (see <a href="#MeshMotion">MeshMotion</a>),
this component is determined by solving the usual boundary-driven mesh deformation problem to obtain

     <p></p><center class="math-display"> <img src="Aerof3d_files/img368.png" class="math-display" align="top"> </center> 


     <p>where   <img src="Aerof3d_files/img369.png" class="math-display" align="top">   is the pseudo stiffness matrix of the CFD mesh generated by the chosen of <b>AERO-F</b> mesh motion algorithm (see <a href="#MeshMotion">MeshMotion</a>). 
</p></li></ul>

<p>In the case of the embedded computational framework (<code><a href="#Problem">Problem</a>.Framework</code> = <code>Embedded</code>),   <img src="Aerof3d_files/img370.png" class="math-display" align="top">
   is
the shape gradient of the position vector of the embedded discrete 
surface. For simplicity, it is also referred to here as the 
wall-boundary shape derivative.

</p><p>In summary, given a <i>user-specified</i> wall-boundary shape derivative   <img src="Aerof3d_files/img365.png" class="math-display" align="top">  ,
<b>AERO-F</b> computes the gradient at a fluid equilibrium point   <img src="Aerof3d_files/img353.png" class="math-display" align="top">   of an aerodynamic-related quantity
  <img src="Aerof3d_files/img275.png" class="math-display" align="top">   with respect to a flow or shape parameter   <img src="Aerof3d_files/img23.png" class="math-display" align="top">   as follows

</p><p></p><center class="math-display"> <img src="Aerof3d_files/img371.png" class="math-display" align="top"> </center> 


<p>where:
     </p><ul>
<li> <img src="Aerof3d_files/img372.png" class="math-display" align="top">   if <code><a href="#Problem">Problem</a>.Framework</code> = <code>BodyFitted</code>. 
</li><li> <img src="Aerof3d_files/img373.png" class="math-display" align="top">   if <code><a href="#Problem">Problem</a>.Framework</code> = <code>Embedded</code>. 
</li></ul>



</body></html>
